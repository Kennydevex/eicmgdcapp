(function(t){function e(e){for(var r,i,n=e[0],l=e[1],c=e[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},o=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03a1":function(t,e,a){"use strict";var r=a("65ba"),s=a.n(r);s.a},"0575":function(t,e,a){"use strict";var r=a("3d63"),s=a.n(r);s.a},"05fc":function(t,e,a){t.exports=a.p+"img/principal_logo.6baec104.svg"},"0661":function(t,e,a){t.exports=a.p+"img/parrallax.73d7ca7d.jpg"},"0955":function(t,e,a){"use strict";var r=a("7df4"),s=a.n(r);s.a},"0a0c":function(t,e,a){},1245:function(t,e,a){},"12e8":function(t,e,a){"use strict";var r=a("67a4"),s=a.n(r);s.a},"14c0":function(t,e,a){},1675:function(t,e,a){},"170b":function(t,e,a){},"17b1":function(t,e,a){"use strict";var r=a("fe2e"),s=a.n(r);s.a},"2a08":function(t,e,a){"use strict";var r=a("ef87"),s=a.n(r);s.a},"3b53":function(t,e,a){"use strict";var r=a("d0f3"),s=a.n(r);s.a},"3d63":function(t,e,a){},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=o,t.exports=s,s.id="4678"},"50a0":function(t,e,a){"use strict";var r=a("807d"),s=a.n(r);s.a},"51de":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},o=[],i={created:function(){window.getApp=this}},n=i,l=a("2877"),c=Object(l["a"])(n,s,o,!1,null,null,null),d=c.exports,u=a("3b0e"),m=a.n(u),p=a("7bb1"),v=a("7212"),f=a.n(v),h=a("5886"),_=a("b6d0"),g=a("2cbf"),b=a("bd8c"),x=a.n(b),y=a("f5af"),D=a.n(y),A=(a("77ed"),a("e829"),a("4413"),a("f309"));r["a"].use(A["a"]);var C=new A["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#3E4095",secondary:"#683e95",info:"#3e6c95",accent:"#3e6c95",sucess:"#40953E",warning:"#95933E",error:"#953E40",facebook:"#3b5998",twitter:"#1DA1F2",google:"#DB4437"}}}}),w=a("8c4f"),k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-navigation-drawer",{attrs:{width:"320",app:"","disable-resize-watcher":""},scopedSlots:t._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2"},[t.authUser?r("v-btn",{attrs:{color:"primary",tile:"",small:"",block:""},on:{click:function(e){return t.logout()}}},[t._v("Terminar Sessão")]):r("v-btn",{attrs:{color:"primary",tile:"",small:"",block:""},on:{click:function(e){return t.menuLink("login_page","")}}},[t._v("Entrar")])],1)]},proxy:!0}]),model:{value:t.mobile_front_menu,callback:function(e){t.mobile_front_menu=e},expression:"mobile_front_menu"}},[r("v-list-item",[r("v-list-item-avatar",[r("v-img",{attrs:{src:a("e8e0")}})],1),r("v-list-item-content",[r("v-list-item-title",{staticClass:"title primary--text"},[t._v(" EICM - "),r("span",{staticClass:"font-weight-light"},[t._v("GDC")])]),r("v-list-item-subtitle",[t._v("Escola Industrial e Comercial do Mindelo")])],1)],1),r("v-divider"),r("v-list",{attrs:{nav:""}},[r("v-list-item",{attrs:{color:"primary"},on:{click:function(e){return t.menuLink("home_page","")}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-home-variant")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Principal")])],1)],1),t._l(t.menus,(function(e,a){return[e.submenus?r("v-list-group",{key:a+"front_drawer_"+a,attrs:{"prepend-icon":e.icon,"no-action":"no-action"}},[r("v-list-item",{staticClass:"pl-0",attrs:{slot:"activator",color:"primary"},slot:"activator"},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.title))])],1)],1),t._l(e.submenus,(function(e,a){return[r("v-list-item",{key:"front_sub_menu"+a,attrs:{color:"primary"},on:{click:function(a){return t.menuLink(e.name,e.slug)}}},[r("v-list-item-content",[r("v-list-item-title",[r("span",[t._v(t._s(e.title))])])],1)],1)]}))],2):r("v-list-item",{key:a+"s_front_drawer_"+a,attrs:{color:"primary"},on:{click:function(a){return t.menuLink(e.name,e.slug)}}},[r("v-list-item-icon",[r("v-icon",[t._v(t._s(e.icon))])],1),r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.title))])],1)],1)]}))],2)],1),r("v-app-bar",{staticClass:"elevation-1",attrs:{app:"",color:"white"}},[r("v-app-bar-nav-icon",{staticClass:"hidden-md-and-up",attrs:{color:"primary"},on:{click:function(e){return e.stopPropagation(),t.toggle_mobile_front_menu(e)}}}),r("img",{staticClass:"hidden-sm-and-down",attrs:{src:a("e8e0"),width:"60",alt:"EICM GDC"}}),r("v-toolbar-title",{staticClass:"text-uppercase primary--text"},[r("div",{staticClass:"pt-6 hidden-sm-and-down"},[r("span",{staticClass:"font-weight-regular"},[t._v("EICM-")]),r("span",{staticClass:"font-weight-thin"},[t._v("GDC")])]),r("div",{staticClass:"hidden-md-and-up"},[r("span",{staticClass:"font-weight-regular"},[t._v("EICM-")]),r("span",{staticClass:"font-weight-thin"},[t._v("GDC")])])]),r("v-spacer"),r("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[r("v-btn",{staticClass:"mybtn",attrs:{ripple:!1,to:{name:"home_page"},text:"",color:"primary"}},[r("span",{staticClass:"font-weight-regular"},[t._v("Principal")])]),t._l(t.menus,(function(e){return[e.submenus?r("v-menu",{key:"menu2"+e.id,attrs:{tile:"","max-width":500,"min-width":300,"offset-y":"",transition:"slide-x-transition",bottom:"",right:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on;return[r("v-btn",t._g({staticClass:"mybtn font-weight-regular",attrs:{"active-class":"",ripple:!1,text:"",color:"primary"}},s),[t._v(" "+t._s(e.title)+" "),r("v-icon",{attrs:{dark:""}},[t._v("mdi-circle-small")])],1)]}}],null,!0)},[r("v-list",{staticClass:"pa-0"},t._l(e.submenus,(function(e){return r("v-list-item",{key:e.id,staticClass:"submenuitem",attrs:{color:"primary",ripple:!1},on:{click:function(a){return t.menuLink(e.name,e.slug)}}},[r("v-list-item-title",{staticClass:"font-weight-regular",attrs:{dark:""}},[t._v(t._s(e.title))])],1)})),1)],1):r("v-btn",{key:"menu1"+e.id,staticClass:"mybtn font-weight-regular",attrs:{color:"primary","active-class":"",ripple:!1,text:""},on:{click:function(a){return t.menuLink(e.name,"")}}},[t._v(t._s(e.title))])]}))],2),t.authUser?[r("v-menu",{attrs:{left:"",bottom:"",rounded:!1},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({attrs:{"active-class":"",ripple:!1,icon:"",text:"",color:"primary"}},a),[r("v-avatar",{attrs:{size:"32",color:"grey lighten-2"}},[r("v-img",{attrs:{src:t.apiUrl+"/images/app/system/users/"+t.authUser.avatar}})],1)],1)]}}])},[r("v-list",{staticClass:"pa-0",attrs:{dense:""}},[r("v-list-item-group",{attrs:{color:"primary"}},[r("v-list-item",{attrs:{ripple:!1},on:{click:function(e){return e.stopPropagation(),t.onView("front_perfil",t.authUser.username)}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-at")])],1),r("v-list-item-content",[r("v-list-item-title",{domProps:{textContent:t._s(t.authUser.username)}})],1)],1),r("v-list-item",{attrs:{ripple:!1},on:{click:function(e){return e.stopPropagation(),t.onView("admin_page")}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-view-dashboard-variant")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Admin")])],1)],1),r("v-list-item",{attrs:{ripple:!1},on:{click:function(e){return e.stopPropagation(),t.logout()}}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-logout-variant")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Terminr Sessão")])],1)],1)],1)],1)],1)]:[r("v-btn",{attrs:{ripple:!1,small:"",color:"primary",icon:"",to:{name:"login_page"}}},[r("v-icon",{attrs:{small:""}},[t._v("mdi-login-variant")])],1)]],2),r("v-main",{staticClass:"white",attrs:{height:"auto"}},[r("router-view")],1),r("div",[r("app-footer")],1)],1)},V=[],P=(a("b0c0"),a("4160"),[{id:1,title:"Minha Escola",name:"school",icon:"mdi-city",submenus:[{id:1,name:"eicm_histories",title:"História",icon:""},{id:2,name:"eicm_equipe",title:"Corpo Diretivo",icon:""},{id:3,name:"eicm_missions",title:"Missão, Visão e Valores",icon:""}]},{id:2,title:"Estudantes",name:"students",icon:"mdi-bag-personal",submenus:[{id:1,name:"quadros",title:"Quadros",icon:""}]},{id:4,title:"Cursos",name:"actived_courses",slug:"actived_courses",icon:"mdi-certificate"},{id:5,title:"Blog",name:"published_articles",slug:"published_articles",icon:"mdi-post"}]);P.forEach((function(t){t.submenus&&t.submenus.sort((function(t,e){var a=t.title.toUpperCase(),r=e.title.toUpperCase();return a<r?-1:a>r?1:0}))}));var E=P,M=(a("7db0"),a("159b"),{attributes:{name:"Nome",lastname:"Apelido",username:"Utilizador",identification_card:"BI",nif:"NIF",password:"Palavra passe",password_confirmation:"Confirmação",display_name:"Rótulo",entity:"Entidade",abbr:"Abreviatura"},messages:{required:"Campo de preenchimento obrigatório",alpha:"Aceita-se apenas letras",alpha_spaces:"O nome não pode conter além de letras e espaços"},custom:{abbr:{alpha:function(){return"Abreviatura só pode ser letras"}},title:{required:function(){return"É obrigatório introduzir um título numa publicação"}},image:{image:function(){return"Selecione a rquivo do tipo imagem!!"},required:function(){return"É obrigatório inserir uma imagem na publicação"}},category:{required:function(){return"Escolha uma categoria!!"}},opning:{before:function(){return"Insira uma data válida. Aceita-se uma data anterior a data atual"}},start:{before:function(){return"Data de início de uma publicação não pode ser superior a 6 meses"},after:function(){return"Data de início tem de ser depois da data atual"}},start_date:{before:function(){return"Data de início tem de ser uma data anteriar a data atual"},after:function(){return"Data de início tem de ser depois da data atual"}},end_date:{before:function(){return"Esta data não pode ser depois da data atual"},after:function(){return"Data de fim de serviço tem de depois da data de início"}},birthdate:{before:function(){return"Não sei a sua data de nascimento, mas, certamente que já nasceste"},after:function(){return"Data exagerada"},date_format:function(){return"Escolha um data válida"}},end:{after:function(){return"Data de fim não pode ser menor nem igual a data de início"}},name:{required:function(){return"É obrigatório introduzir um nome"}},lastname:{required:function(){return"É obrigatório introduzir um apelido"}},username:{required:function(){return"Insira um nome de utilizador"}},password_confirmation:{confirmed:function(){return"Não coencidem"}},subject:{required:function(){return"É obrigatório escolher um assunto"}},otherSubject:{required_if:function(){return"Tem de especificar um assunto"}},content:{required:function(){return"Nenhum comentário inserido"}}}}),T={methods:{clear:function(){this.$validator.reset(),this.$refs.form.reset()}}},$={methods:{feedback:function(t,e,a,r,s){this.$swal({toast:r,position:s||"top-end",type:t,title:e,showConfirmButton:!1,timer:a||3e3})},registerCreated:function(t,e,a,r){this.$swal({type:t,title:e,text:a,footer:r})}}},S={methods:{deleteAlert:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Ação iurreversível, queres continuar?",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Eliminar",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Cancelar";return this.$swal({title:e,text:a,type:t,showCancelButton:!0,confirmButtonText:"Sim, "+r,cancelButtonText:"Não, "+s})}}},U={methods:{onView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$router.history.current.name!=t&&(e?this.$router.push({name:t,params:{slug:e}}):this.$router.push({name:t}))},onUpdate:function(t,e){this.$router.history.current.name!=t&&this.$router.push({name:t,params:{slug:e}})}}},L={methods:{back:function(){this.$router.go(-1)},redirectTo:function(t){this.$router.history.current.name!=t&&this.$router.push({name:t})}}},O={methods:{getAll:function(t,e){t.length||this.refresh(e)},refresh:function(t){this.$store.dispatch(t)}}},R={mixins:[T,$,L],data:function(){return{formErrors:[],hasError:!1,dictionary:M}},mounted:function(){this.$validator.localize("pt",this.dictionary)},methods:{add:function(t,e,a,r,s){var o=this,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";this.$validator.validateAll().then((function(l){l&&(o.hasError=!1,o.formErrors=[],window.axios.post(e,a).then((function(e){o.feedback("success",e.data.msg,3e3,!0,"top-end"),window.getApp.$emit(r),o.clear(),t||(i?""!=n?o.$router.push({name:n}):o.back():window.getApp.$emit(s))})).catch((function(t){t.response&&(o.hasError=!0,o.formErrors=t.response.data.errors)})))}))},update:function(t,e,a){var r=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";this.$validator.validateAll().then((function(i){i&&(r.hasError=!1,r.formErrors=[],window.axios.put(t+"/",e).then((function(t){s?""!=o?r.$router.push({name:o}):r.back():window.getApp.$emit(a),r.feedback("success",t.data.msg,3e3,!0,"top"),r.clear()})).catch((function(t){t.response&&(r.hasError=!0,r.formErrors=t.response.data.errors)})))}))}}},I={methods:{getSingle:function(t,e,a){if(a.length)return a.find((function(t){return t.id==e}))}}},j={data:function(){return{ids:[],selected:[]}},methods:{setDeleteMult:function(){var t=this;return this.ids=[],this.selected.forEach((function(e){t.ids.push(e.id)})),this.ids},onDelete:function(t,e,a){var r=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.setDeleteMult(),s||(this.ids=e),this.deleteAlert("warning","Eliminar Registo(s) ",this.selected.length>1&&s?"Preste a Eliminar "+this.selected.length+" Registos":"Eliminar este Registo").then((function(e){e.value?(r.selected=[],r.deleteData(t,r.ids,a),r.ids=[]):"cancel"===e.dismiss&&(r.selected=[],r.ids=[],r.feedback("warning","Operação cancelada!",3e3,!0,"top-end"))}))},deleteData:function(t,e,a){var r=this;window.axios.delete(t+"/"+e).then((function(t){r.feedback("success",t.data.msg,3e3,!0,"top-end"),window.getApp.$emit(a)})).catch((function(){}))}}},q={data:function(){return{loadAtivaction:{}}},methods:{toggleStatus:function(t,e,a,r,s){var o=this;this.$set(this.loadAtivaction,e,!1),this.$swal({title:a?"Desativar "+r+"?":"Ativar "+r+"?",text:"Tens certeza que queres efetuar esta ação?",type:"question",showCancelButton:!0,confirmButtonText:a?"Sim, Desativar":"Sim, Ativar",cancelButtonText:"Cancelar!"}).then((function(a){a.value?(o.$set(o.loadAtivaction,e,!0),window.axios.get(t+"/"+e).then((function(t){o.refresh(s),o.feedback("success",t.data.msg,3e3,!0,"top-end"),o.$set(o.loadAtivaction,e,!1)})).catch((function(t){o.feedback("error","Erro de operação, tente outra vez",3e3,!0,"bottom-end")}))):"cancel"===a.dismiss&&o.feedback("error","Operação cancelada!",3e3,!0,"bottom-end")}))}}},N={methods:{errorMsg:function(t){if(t in this.formErrors)return this.formErrors[t][0]}}},F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{staticClass:"appfooter",attrs:{app:"",absolute:"",padless:""}},[a("v-card",{staticClass:"pa-0 overflow-scroll",attrs:{tile:"",width:"100%","max-height":"400"}},[a("v-card-text",{staticClass:"blue-grey darken-3 white--text text-center"},[a("v-btn",{staticClass:"mx-4",attrs:{target:"_blank",href:"https://www.facebook.com",dark:"",icon:""}},[a("v-icon",{attrs:{size:"24px"}},[t._v("mdi-facebook")])],1),a("v-btn",{staticClass:"mx-4",attrs:{target:"_blank",href:"https://www.twitter.com",dark:"",icon:""}},[a("v-icon",{attrs:{size:"24px"}},[t._v("mdi-twitter")])],1),a("v-btn",{staticClass:"mx-4",attrs:{target:"_blank",href:"https://www.linkedin.com",dark:"",icon:""}},[a("v-icon",{attrs:{size:"24px"}},[t._v("mdi-linkedin")])],1)],1),a("v-card-text",{staticClass:"blue-grey darken-3 py-0"},[a("v-container",{attrs:{"grid-list-xl":""}},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("v-card-text",{staticClass:"py-0"},[a("v-card-title",{staticClass:"font-weight-light justify-center grey--text text--lighten-3 my-5 pt-0 pb-3",attrs:{"primary-title":""}},[t._v("Subscrição")]),a("v-divider",{attrs:{dark:""}}),a("v-card-text",{staticClass:"py-0 px-4 mt-2 grey--text text--lighten-3 text-sm-left"},[a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("small",[t._v("Subscreva com o seu email para estar em dia com as nossas publicações")]),a("subscribe")],1)],1)],1)],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("v-card-text",{staticClass:"py-0"},[a("v-card-title",{staticClass:"font-weight-light justify-center grey--text text--lighten-3 my-5 pt-0 pb-3",attrs:{"primary-title":""}},[t._v("Cursos técnicos")]),a("v-divider",{attrs:{dark:""}}),a("v-card-text",{staticClass:"py-0 px-3 mt-2 text-center"},[a("courses")],1)],1)],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[a("v-card-text",{staticClass:"py-0"},[a("v-card-title",{staticClass:"font-weight-light justify-center grey--text text--lighten-3 my-5 pt-0 pb-3",attrs:{"primary-title":""}},[t._v("Ligações Externas")]),a("v-divider",{attrs:{dark:""}}),a("v-card-text",{staticClass:"py-0 px-3 mt-2 grey--text text--lighten-3 text-md-right text-center"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("ul",{attrs:{type:"none"}},[a("li",{staticClass:"ma-0 pa-0"},[a("v-btn",{staticClass:"py-1 ma-0 text-none font-weight-light no-text-transform",attrs:{href:"https://www.cmsv.cv",ripple:!1,"retain-focus-on-click":"",target:"_blank",color:"grey lighten-1",small:"",text:""}},[t._v("CMSV")])],1),a("li",{staticClass:"ma-0 pa-0"},[a("v-btn",{staticClass:"py-1 ma-0 text-none font-weight-light no-text-transform",attrs:{ripple:!1,"retain-focus-on-click":"",href:"https://www.cmsv.cv",target:"_blank",color:"grey lighten-1",small:"",text:""}},[t._v("Ministério de Educação")])],1),a("li",{staticClass:"ma-0 pa-0"},[a("v-btn",{staticClass:"py-1 ma-0 text-none font-weight-light no-text-transform",attrs:{ripple:!1,"retain-focus-on-click":"",href:"https://www.cmsv.cv",target:"_blank",color:"grey lighten-1",small:"",text:""}},[t._v("IEFP")])],1),a("li",{staticClass:"ma-0 pa-0"},[a("v-btn",{staticClass:"py-1 ma-0 text-none font-weight-light no-text-transform",attrs:{ripple:!1,"retain-focus-on-click":"",href:"https://www.cmsv.cv",target:"_blank",color:"grey lighten-1",small:"",text:""}},[t._v("Uni-CV")])],1)])])],1)],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"blue-grey darken-3 grey--text text--darken-2"},[a("small",[t._v("Escola Comercial e Industrial do Mindelo - Guilherme dias Chantre - "+t._s((new Date).getFullYear()))]),a("v-spacer"),a("small",[t._v(" Por: "),a("i",[t._v("DicifraKodigu")])])],1)],1)],1)},G=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-subscribe"}},[a("v-col",{staticClass:"px-0",attrs:{cols:"12",align:"text-md-right text-center"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",solo:"",name:"email",label:"Insira o seu e-mail",id:"id","data-vv-name":"form-subscribe.email","error-messages":t.errorMsg("email")||t.errors.collect("form-subscribe.email"),hint:"Por favor seja claro e direto com a sua mensagem..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.subscribe("form-subscribe")}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.subscribe("form-subscribe")}}},[a("v-icon",[t._v("mdi-send")])],1)]},proxy:!0}]),model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1),a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-dialog",{attrs:{persistent:"","max-width":"460px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"text-none font-weight-light",attrs:{dark:"",text:"",color:"grey lighten-1"}},"v-btn",s,!1),r),[t._v("Retirar a subscrição")])]}}]),model:{value:t.unsubscribe_dialog,callback:function(e){t.unsubscribe_dialog=e},expression:"unsubscribe_dialog"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[a("v-card-title",{staticClass:"title font-weight-regular justify-space-between"},[a("span",[t._v(t._s(t.currentTitle))]),a("v-btn",{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(e){return t.closeDialog()}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-window",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-unsubscribe"}},[a("v-window-item",{attrs:{value:1}},[t.err_msg?a("v-card-text",{staticClass:"my-0 py-0"},[a("v-alert",{attrs:{dense:"",tile:"",color:"error",icon:"mdi-email-alert",border:"right","colored-border":"",dismissible:"",elevation:"3",transition:"scale-transition"}},[a("small",[t._v(t._s(t.err_msg))])])],1):t._e(),a("v-card-text",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{label:"Email",name:"cancel_email",placeholder:"exemplo@eicm.cv","data-vv-name":"form-unsubscribe.cancel_email","error-messages":t.errors.collect("form-unsubscribe.cancel_email"),hint:"Por favor seja claro e direto com a sua mensagem..."},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("span",{staticClass:"caption grey--text text--darken-1"},[t._v("Introduza o email que corresponde à respectiva subscrição")])],1)],1),a("v-window-item",{attrs:{value:2}},[t.unsub_err_msg?a("v-card-text",{staticClass:"my-0 py-0"},[a("v-alert",{attrs:{dense:"",tile:"",color:"error",icon:"mdi-form-textbox-password",border:"right","colored-border":"",dismissible:"",elevation:"3",transition:"scale-transition"},model:{value:t.unsubscribe_alert,callback:function(e){t.unsubscribe_alert=e},expression:"unsubscribe_alert"}},[a("small",[t._v(t._s(t.unsub_err_msg))])])],1):t._e(),a("v-card-text",[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{label:"Código de confirmação",name:"code","data-vv-name":"form-unsubscribe.code","error-messages":t.errors.collect("form-unsubscribe.code")},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),a("span",{staticClass:"caption grey--text text--darken-1"},[t._v("Copie o código que foi lhe enviado por email e cole-o aqui")])],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),t.step<2?a("v-btn",{attrs:{small:"",text:"",color:"primary",depressed:"",loading:t.sending},on:{click:function(e){return t.nextStep("form-unsubscribe")}},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",[t._v("Verificando...")])]},proxy:!0}],null,!1,1311680633)},[t._v(" Seguinte ")]):t._e(),2===t.step?a("v-btn",{attrs:{small:"",text:"",color:"primary",depressed:""},on:{click:function(e){return t.unSubscribe("form-unsubscribe")},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.unSubscribe("form-unsubscribe")}}},[t._v("Enviar")]):t._e()],1)],1)],1)],1)],1)},B=[],H={mixins:[$,T,N],data:function(){return{formErrors:{},err_msg:"",unsub_err_msg:"",unsubscribe_dialog:!1,unsubscribe_alert:!1,step:1,sending:!1,email:"",code:"",formData:{email:""},dictionary:M}},mounted:function(){this.$validator.localize("pt",this.dictionary)},computed:{currentTitle:function(){switch(this.step){case 1:return"Email subscrito";case 2:return"Verificação";default:return"Canselar subscrição"}}},methods:{closeDialog:function(){this.unsubscribe_dialog=!1,this.unsubscribe_alert=!1},nextStep:function(t){var e=this;this.err_msg="",this.sending=!1,this.$validator.validateAll(t).then((function(t){t&&(e.sending=!0,axios.get("verify_subscriber/"+e.$data.email).then((function(t){if(!t.data.exist)return e.sending=!1,void(e.err_msg=t.data.msg);e.sending=!1,e.step++})).catch((function(t){console.log(t),e.sending=!1,e.err_msg="Ocorreu algum problema com a operação"})))}))},subscribe:function(t){var e=this;this.$validator.validateAll(t).then((function(t){t&&axios.post("subscribe",e.$data.formData).then((function(t){e.formErrors={},e.clear(),e.registerCreated("success","Subscrito",t.data.msg,"A equipa da EICM-GDC agradece a sua subscrição, de agora em diante receberás notificações das nossas publicações em primeira mão")})).catch((function(t){e.formErrors=t.response.data.errors}))}))},unSubscribe:function(t){var e=this;this.unsub_err_msg="",this.$validator.validateAll(t).then((function(t){t&&axios.get("unsubscribe/"+e.$data.email+"/"+e.$data.code).then((function(t){if(t.data.success)return e.unsubscribe_dialog=!1,e.feedback(t.data.success?"success":"error",t.data.msg,3e3,!0,"top-end"),void(e.unsub_err_msg="");e.unsub_err_msg="Verifique o código"})).catch((function(t){console.log(t),e.msg="Ocorreu algum problema com a operação"}))}))}}},Y=H,K=a("6544"),W=a.n(K),J=a("0798"),X=a("8336"),Z=a("b0af"),Q=a("99d9"),tt=a("62ad"),et=a("169a"),at=a("ce7e"),rt=a("4bd4"),st=a("132d"),ot=a("2fa4"),it=a("8654"),nt=a("f665"),lt=a("1e6c"),ct=Object(l["a"])(Y,z,B,!1,null,null,null),dt=ct.exports;W()(ct,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VDialog:et["a"],VDivider:at["a"],VForm:rt["a"],VIcon:st["a"],VSpacer:ot["a"],VTextField:it["a"],VWindow:nt["a"],VWindowItem:lt["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("ul",{attrs:{type:"none"}},[t._l(t.courses,(function(e,r){return[a("li",{key:r,staticClass:"ma-0 pa-0"},[a("v-btn",{staticClass:"py-1 ma-0 text-none font-weight-light",attrs:{ripple:!1,"retain-focus-on-click":"",color:"grey lighten-1",small:"",text:""},on:{click:function(a){return a.stopPropagation(),t.onView("course_info",e.slug)}}},[t._v(t._s(e.name))])],1)]}))],2)])],1)],1)},mt=[],pt={mixins:[O,U],data:function(){return{}},created:function(){this.getAll(this.courses,"getActivedCourses")},computed:{courses:function(){return this.$store.getters.cursos_via_tecnica}},methods:{}},vt=pt,ft=a("0fd9"),ht=Object(l["a"])(vt,ut,mt,!1,null,null,null),_t=ht.exports;W()(ht,{VBtn:X["a"],VCol:tt["a"],VRow:ft["a"]});var gt={components:{Subscribe:dt,Courses:_t}},bt=gt,xt=a("a523"),yt=a("553a"),Dt=Object(l["a"])(bt,F,G,!1,null,null,null),At=Dt.exports;W()(Dt,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VFooter:yt["a"],VIcon:st["a"],VRow:ft["a"],VSpacer:ot["a"]});var Ct={name:"app_front",mixins:[O,U],data:function(){return{mobile_front_menu:!1,menus:E}},methods:{toggle_mobile_front_menu:function(){this.mobile_front_menu=!this.mobile_front_menu},menuLink:function(t,e){this.$router.history.current.name!=t&&this.$router.push({name:t,params:{slug:e}})},logout:function(){this.$store.commit("logout"),this.onView("home_page")}},components:{AppFooter:At}},wt=Ct,kt=(a("ce45"),a("7496")),Vt=a("40dc"),Pt=a("5bc1"),Et=a("8212"),Mt=a("adda"),Tt=a("8860"),$t=a("56b0"),St=a("da13"),Ut=a("8270"),Lt=a("5d23"),Ot=a("1baa"),Rt=a("34c3"),It=a("f6c4"),jt=a("e449"),qt=a("f774"),Nt=a("2a7f"),Ft=Object(l["a"])(wt,k,V,!1,null,"0d02233a",null),Gt=Ft.exports;W()(Ft,{VApp:kt["a"],VAppBar:Vt["a"],VAppBarNavIcon:Pt["a"],VAvatar:Et["a"],VBtn:X["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VList:Tt["a"],VListGroup:$t["a"],VListItem:St["a"],VListItemAvatar:Ut["a"],VListItemContent:Lt["a"],VListItemGroup:Ot["a"],VListItemIcon:Rt["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VMain:It["a"],VMenu:jt["a"],VNavigationDrawer:qt["a"],VSpacer:ot["a"],VToolbarItems:Nt["a"],VToolbarTitle:Nt["b"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{app:"","hide-overlay":"","mini-variant":t.backend_mini_drawer},on:{"update:miniVariant":function(e){t.backend_mini_drawer=e},"update:mini-variant":function(e){t.backend_mini_drawer=e}},model:{value:t.back_menu_drawer,callback:function(e){t.back_menu_drawer=e},expression:"back_menu_drawer"}},[a("v-list-item",{staticClass:"pb-2"},[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.apiUrl+"/images/app/system/users/"+t.authUser.avatar}})],1),a("v-list-item-title",{staticClass:"primary--text"},[t._v("#"+t._s(t.authUser.username))]),a("v-btn",{attrs:{icon:""},on:{click:function(e){e.stopPropagation(),t.backend_mini_drawer=!t.backend_mini_drawer}}},[a("v-icon",[t._v("mdi-chevron-left")])],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},[t._l(t.menus,(function(e,r){return[e.items?[t.checkRoles(e.roles)?a("v-list-group",{key:e.name,attrs:{group:e.group,"prepend-icon":t.checkRoles(e.roles)?e.icon:"mdi-lock","no-action":"no-action",ripple:!1,"active-class":""}},[a("v-list-item",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1)],1),t._l(e.items,(function(r,s){return[a("v-list-item",{key:s,attrs:{to:t.genChildTarget(e,r),href:r.href,disabled:r.disabled,target:r.target}},[a("v-list-item-content",[a("v-list-item-title",[a("span",[t._v(t._s(r.title))])])],1),r.action?a("v-list-item-action",[a("v-icon",{class:[r.actionClass||"success--text"]},[t._v(t._s(r.action))])],1):t._e(),a("v-icon",{domProps:{textContent:t._s(r.icon)}})],1)]}))],2):t._e()]:e.header?a("v-subheader",{key:r,style:t.backend_mini_drawer?"display: none":""},[t._v(t._s(e.header))]):e.divider?a("v-divider",{key:r}):a("v-list-item",{key:e.name,attrs:{to:e.href?null:{name:e.name},href:e.href,disabled:e.disabled,target:e.target,rel:"noopener"}},[e.icon?a("v-list-item-action",[a("v-icon",[t._v(t._s(e.icon))])],1):t._e(),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.title))])],1),e.subAction?a("v-list-item-action",[a("v-icon",{staticClass:"success--text"},[t._v(t._s(e.subAction))])],1):t._e()],1)]}))],2)],1),a("v-app-bar",{staticClass:"primary--text",attrs:{app:"",fixed:"",elevation:"3",light:""}},[a("v-app-bar-nav-icon",{attrs:{color:"primary"},on:{click:function(e){e.stopPropagation(),t.back_menu_drawer=!t.back_menu_drawer}}}),a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",[t._v("EICM-")]),a("span",{staticClass:"font-weight-light"},[t._v("GDC")])]),a("v-spacer"),a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{text:"",icon:"",color:"primary"}},r),[a("v-avatar",{attrs:{size:"28px"}},[a("img",{attrs:{src:t.apiUrl+"/images/app/system/users/"+t.authUser.avatar,alt:"User Avatar"}})])],1)]}}])},[a("v-list",{attrs:{dense:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.onView("back_perfil",t.authUser.username)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-at")])],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(t.authUser.username)}})],1)],1),a("v-list-item",{attrs:{ripple:!1},on:{click:function(e){return e.stopPropagation(),t.onView("home_page")}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Principal")])],1)],1),a("v-list-item",{attrs:{ripple:!1},on:{click:function(e){return e.stopPropagation(),t.logout()}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-logout-variant")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Terminr Sessão")])],1)],1)],1)],1)],1)],1),a("v-main",[a("v-container",{attrs:{fluid:""}},[0==t.schools.length?a("v-alert",{attrs:{border:"top","colored-border":"",type:"warning",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""},model:{value:t.school_alert,callback:function(e){t.school_alert=e},expression:"school_alert"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Atenção, não se pode realizar algumas operações que dependem da instituição, pois ainda não tem nenhuma instituição configurada")]),a("v-col",{staticClass:"shrink"},[t.canAdd()||t.canManage()?a("v-btn",{attrs:{small:"",to:{name:"add_school"},rounded:"",outlined:"",color:"primary"},on:{click:function(e){t.school_alert=!1}}},[t._v("Configurar Uma")]):t._e()],1)],1)],1):t._e(),a("router-view")],1)],1),a("v-footer",{attrs:{app:"",fixed:""}},[a("span",{staticClass:"caption"},[t._v("EICM-GDC © "+t._s((new Date).getFullYear()))]),a("v-spacer"),a("span",{staticClass:"caption"},[t._v("DECIFRA CODE")])],1)],1)},Bt=[],Ht=(a("99af"),[{header:"Base"},{title:"Dashboard",group:"general",icon:"mdi-view-dashboard-variant",name:"admin_page"},{header:"EICM-GDC"},{title:"Instituição",group:"institution",roles:["Diretor"],icon:"mdi-domain",items:[{name:"list-schools",title:"Escola",component:"list_schools",icon:"mdi-square-small"},{name:"list-histories",title:"Histórias",component:"list_histories",icon:"mdi-square-small"},{name:"list-murals",title:"Mural",component:"list_murals",icon:"mdi-square-small"},{name:"list-guidelines",title:"Missão, Visão e Valores",component:"list_guidelines",icon:"mdi-square-small"}]},{title:"RH",group:"resources",roles:["Diretor"],icon:"mdi-account-tie",items:[{name:"list-charges",title:"Funções/Cargos",component:"list_charges",icon:"mdi-square-small"},{name:"list-employees",title:"Colaboradores",component:"list_employees",icon:"mdi-square-small"},{name:"list-teachers",title:"Professores",component:"list_teachers",icon:"mdi-square-small"}]},{title:"Formações",group:"formations",roles:["Diretor","Coordenador"],icon:"mdi-school",items:[{name:"list-courses",title:"Cursos",component:"list_courses",icon:"mdi-square-small"},{name:"list-outcomes",title:"Saídas/Cursos",component:"list_outcomes",icon:"mdi-square-small"},{name:"list-disciplines",title:"Disciplinas",component:"list_disciplines",icon:"mdi-square-small"},{name:"list-departments",title:"Departamentos",component:"list_departments",icon:"mdi-square-small"}]},{header:"Sistema"},{title:"Sistema",group:"system",roles:["Administrador"],icon:"mdi-account-settings",items:[{name:"list-users",title:"Utilizadores",component:"list_users",icon:"mdi-square-small"},{name:"access-role",title:"Permissões e Acessos",component:"access_role",icon:"mdi-square-small"}]},{header:"Gestão de Conteúdos e Publicações"},{title:"Publicações",group:"cms",roles:["Diretor","Gestor de Artigo"],icon:"mdi-post-outline",items:[{name:"list-articles",title:"Artigos",component:"list_articles",icon:"mdi-square-small"},{name:"list-categories",title:"Categorias",component:"list_categories",icon:"mdi-square-small"},{name:"list-tags",title:"Marcadores",component:"list_tags",icon:"mdi-square-small"}]},{divider:!0},{header:"Aplicativo"},{title:"Widgets",group:"settings",roles:["Diretor","Gestor"],icon:"mdi-widgets-outline",items:[{name:"list-sliders",title:"Sliders",component:"list_sliders",icon:"mdi-square-small"}]}]);Ht.forEach((function(t){t.items&&t.items.sort((function(t,e){var a=t.title.toUpperCase(),r=e.title.toUpperCase();return a<r?-1:a>r?1:0}))}));var Yt=Ht,Kt={mixins:[O,U],data:function(){return{school_alert:!0,back_menu_drawer:!0,backend_mini_drawer:!0,menus:Yt}},created:function(){this.getAll(this.schools,"getSchools"),this.checkRoles(["Admin","Gestor"])},computed:{schools:function(){return this.$store.getters.schools}},methods:{checkRoles:function(t){for(var e=0;e<t.length;e++)if(this._is(t[e]))return!0},genChildTarget:function(t,e){if(!e.href)return e.component?{name:e.component}:{name:"".concat(t.group,"/").concat(e.name)}},logout:function(){this.$store.commit("logout"),this.onView("home_page")}}},Wt=Kt,Jt=a("1800"),Xt=a("e0c7"),Zt=Object(l["a"])(Wt,zt,Bt,!1,null,null,null),Qt=Zt.exports;W()(Zt,{VAlert:J["a"],VApp:kt["a"],VAppBar:Vt["a"],VAppBarNavIcon:Pt["a"],VAvatar:Et["a"],VBtn:X["a"],VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VFooter:yt["a"],VIcon:st["a"],VImg:Mt["a"],VList:Tt["a"],VListGroup:$t["a"],VListItem:St["a"],VListItemAction:Jt["a"],VListItemAvatar:Ut["a"],VListItemContent:Lt["a"],VListItemGroup:Ot["a"],VListItemIcon:Rt["a"],VListItemTitle:Lt["c"],VMain:It["a"],VMenu:jt["a"],VNavigationDrawer:qt["a"],VRow:ft["a"],VSpacer:ot["a"],VSubheader:Xt["a"],VToolbarTitle:Nt["b"]});var te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",[t.actived_sliders.length||t.actived_sliders.length||t.featured_employees.length||t.featured_courses.length||t.murals.length||t.schools.length?t._e():a("v-col",{staticClass:"ma-0 pt-0 pb-5",attrs:{cols:"12"}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[t.actived_sliders.length?t._e():[a("v-col",{staticClass:"pt-0 mb-5",attrs:{cols:"12"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"image"}})],1)],[a("v-col",{attrs:{cols:"4",align:"center"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"avatar"}})],1),a("v-col",{attrs:{cols:"4",align:"center"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"avatar"}})],1),a("v-col",{attrs:{cols:"4",align:"center"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"avatar"}})],1)],[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"list-item-three-line"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"list-item-three-line"}})],1)],[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"image"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"image"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"image"}})],1)]],2)],1)],1),a("v-col",{staticClass:"ma-0 pa-0",attrs:{cols:"12"}},[t.actived_sliders.length?a("section",[a("app-slider",{attrs:{sliders:t.actived_sliders}})],1):t._e(),t.murals.length?a("section",[a("app-murals",{attrs:{murals:t.murals}})],1):t._e(),t.featured_employees.length?a("section",{staticClass:"grey lighten-3"},[a("app-team",{attrs:{teams:t.featured_employees}})],1):t._e(),t.featured_courses.length?a("section",[a("app-featured-formations",{attrs:{formations:t.featured_courses}})],1):t._e(),t.featured_articles.length?a("section",{staticClass:"white"},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",align:"left",justify:"center"}},[a("h4",{staticClass:"text-uppercase font-weight-light"},[t._v("EICM Blog")]),a("div",{staticClass:"title-divider"})])],1)],1),a("app-blog",{attrs:{featured_articles:t.featured_articles}})],1):t._e(),t.schools.length?a("section",{staticClass:"grey lighten-3"},[a("app-contacts",{attrs:{schoolData:t.schools}})],1):t._e()])],1)},ee=[],ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{tile:"",flat:""},on:{mouseenter:t.pauseSlider,mouseleave:t.startSlider}},[a("swiper",{ref:"sliderSwiper",attrs:{options:t.swiperOption}},[t._l(t.sliders,(function(e,r){return[a("swiper-slide",{key:"slider_"+r},[a("v-img",{staticClass:"white--text slide--igm",attrs:{src:t.apiUrl+"/images/app/sliders/"+e.background,height:"580"}},[3==e.type?a("div",{staticClass:"link-slider-container"},[a("div",{staticClass:"link-slider-content ani",attrs:{"swiper-animate-effect":"fadeIn","swiper-animate-delay":"2s","swiper-animate-duration":"1s"}},[a("div",{staticClass:"link-slider-title"},[a("h3",{staticClass:"ani font-weight-light",attrs:{"swiper-animate-effect":"flipInX","swiper-animate-delay":"2s","swiper-animate-duration":"1s"}},[a("b",[t._v(t._s(e.title))])]),a("div",{staticClass:"link-slide-title-underline",style:{backgroundColor:e.color}})]),a("div",{staticClass:"link-slider-btn"},[a("v-btn",{staticClass:"elevation-6 text-none",attrs:{href:e.link,target:"_blank",color:e.color,dark:"",small:""}},[t._v(t._s(e.btn_text))])],1)])]):t._e(),1==e.type||2==e.type?a("div",{staticClass:"ani slider-container",class:1==e.type?"course-slider-container":"post-slider-container",attrs:{"swiper-animate-effect":1==e.type?"slideInLeft":"fadeIn","swiper-animate-duration":"2s","swiper-animate-delay":2==e.type?"1s":""}},[a("div",{staticClass:"slider-content ani",class:1==e.type?"course-slider-content":"post-slider-content",attrs:{"swiper-animate-effect":1==e.type?"slideInLeft":"fadeInUp","swiper-animate-delay":"1s","swiper-animate-duration":"2s"}},[a("div",{staticClass:"slider-title",class:1==e.type?"course-slider-title":"post-slider-title"},[a("h3",{staticClass:"ani text-uppercase font-weight-light display-1",style:{color:2==e.type?e.color:"grey lighten-4"},attrs:{"swiper-animate-effect":"flipInX","swiper-animate-delay":"3s","swiper-animate-duration":"2s"}},[a("b",[t._v(t._s(e.title))])]),a("div",{staticClass:"slide-title-underline",style:{backgroundColor:e.color}})]),a("div",{staticClass:"ani slider-body",class:1==e.type?"course-slider-body":"post-slider-body",attrs:{"swiper-animate-effect":"zoomIn","swiper-animate-delay":"2s","swiper-animate-duration":"1s"}},[a("p",[t._v(t._s(t._f("truncate")(e.summary,150)))])]),a("v-divider",{staticClass:"pa-1 ani",attrs:{"swiper-animate-effect":1==e.type?"rotateInDownLeft":"rotateInDownRight","swiper-animate-delay":"3s","swiper-animate-duration":"2s"}}),a("div",{staticClass:"slider-footer ani",class:1==e.type?"course-slider-footer":"post-slider-footer",attrs:{"swiper-animate-effect":1==e.type?"fadeInRight":"fadeInLeft","swiper-animate-delay":"2s","swiper-animate-duration":"3s"}},[a("v-btn",{staticClass:"text-none",attrs:{text:1==e.btn_style&&2==e.type,dark:"",outlined:"",tile:"",color:1==e.type?"white":e.color,course_info:""},on:{click:function(a){1==e.type?t.onView("course_info",e.slug):t.onView("read_article",e.slug)}}},[t._v(t._s(e.btn_text))])],1)],1)]):t._e()])],1)]})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)],1)},re=[];a("ac1f"),a("5319");function se(t){oe();for(var e=t.slides[t.activeIndex].querySelectorAll(".ani"),a=0;a<e.length;a++){e[a].style.visibility="visible";var r=e[a].attributes["swiper-animate-effect"]?e[a].attributes["swiper-animate-effect"].value:"";e[a].className=e[a].className+" "+r+" animated";var s=e[a].attributes["swiper-animate-duration"]?e[a].attributes["swiper-animate-duration"].value:"",o=e[a].attributes["swiper-animate-delay"]?e[a].attributes["swiper-animate-delay"].value:"",i=e[a].attributes["style"].value+"animation-duration:"+s+";-webkit-animation-duration:"+s+";animation-delay:"+o+";-webkit-animation-delay:"+o+";";e[a].setAttribute("style",i)}}function oe(){for(var t=window.document.documentElement.querySelectorAll(".ani"),e=0;e<t.length;e++){t[e].attributes["swiper-animate-style-cache"]&&t[e].setAttribute("style",t[e].attributes["swiper-animate-style-cache"].value),t[e].style.visibility="hidden",t[e].className=t[e].className.replace("animated"," ");var a=t[e].attributes["swiper-animate-effect"].value;t[e].attributes["swiper-animate-effect"]&&(t[e].className=t[e].className.replace(a," "))}}var ie={filters:{truncate:function(t,e){return t.length>e&&(t=t.substring(0,e-3)+"..."),t.replace(/(<([^>]+)>)/gi,"")}}},ne={mixins:[ie,U],props:["sliders"],data:function(){return{swiperOption:{pagination:{el:".swiper-pagination",clickable:!0},centeredSlides:!0,autoplay:{delay:6500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},zoom:!0,effect:"fade",on:{slideChange:function(){se(this)}}}}},computed:{swiper:function(){return this.$refs.sliderSwiper.swiper}},methods:{pauseSlider:function(){this.swiper.autoplay.pause()},startSlider:function(){this.swiper.autoplay.run()}}},le=ne,ce=(a("50a0"),Object(l["a"])(le,ae,re,!1,null,"da4e7500",null)),de=ce.exports;W()(ce,{VBtn:X["a"],VCard:Z["a"],VDivider:at["a"],VImg:Mt["a"]});var ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-parallax",{attrs:{src:a("0661"),height:"400"}},[r("v-container",{attrs:{"grid-list-xs":""}},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("div",{attrs:{"data-aos":"slide-down","data-aos-duration":"2000"},on:{mouseenter:function(e){return t.$refs.swiperRef.swiper.autoplay.stop()},mouseleave:function(e){return t.$refs.swiperRef.swiper.autoplay.start()}}},[r("swiper",{ref:"swiperRef",attrs:{options:t.swiperOption}},[t._l(t.featured_articles,(function(e){return[r("swiper-slide",{key:"artigo_"+e.id},[r("v-card",{attrs:{tile:""}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:t.apiUrl+"/images/articles/covers/"+e.cover,height:"120px","aspect-ratio":"2.75"}},[r("v-card-title",{staticClass:"body-1 font-weight-regular",domProps:{textContent:t._s(e.title)}})],1),r("v-card-text",[r("div",{staticClass:"text-capitalize"},[r("small",[t._v(t._s(t.dateForHumanPresentation(e.created_at)))])]),r("div",{staticClass:"grey--text text--darken-4 font-weight-regular pr-5"},[r("span",[t._v(t._s(t._f("truncate")(e.summary,80)))])])]),r("v-card-actions",{staticClass:"pb-3 pt-0 pl-2"},[r("v-btn",{staticClass:"font-weight-regular",attrs:{color:"primary",text:"",small:"",left:"",ripple:!1},on:{click:function(a){return t.onView("read_article",e.slug)}}},[t._v("Ler")])],1)],1)],1)]})),r("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),r("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),r("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)])],1)],1)],1)},me=[],pe={computed:{actual_date:function(){return window.moment((new Date).toISOString().substr(0,10)).format("DD/MM/YYYY")}},methods:{formated:function(t){return t?window.moment(t).format("DD/MM/YYYY"):""},dateForHumanPresentation:function(t){return t?window.moment(t).fromNow():""},displayDate:function(t){return t?window.moment().format("LL"):""},displayDayAndMonth:function(t){return t?window.moment().format("MM-YYYY"):""}}},ve={props:["featured_articles"],mixins:[ie,S,U,pe],data:function(){return{swiperOption:{slidesPerView:3,spaceBetween:2,loopFillGroupWithBlank:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:{delay:3e3},breakpoints:{1024:{slidesPerView:3,spaceBetween:20},768:{slidesPerView:2,spaceBetween:15},640:{slidesPerView:1,spaceBetween:10},320:{slidesPerView:1,spaceBetween:10}}}}}},fe=ve,he=(a("f0bb"),a("8b9c")),_e=Object(l["a"])(fe,ue,me,!1,null,"506ef805",null),ge=_e.exports;W()(_e,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VImg:Mt["a"],VParallax:he["a"],VRow:ft["a"]});var be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"my-5":""}},[a("v-row",[t._l(t.murals,(function(e,r){return[a("v-col",{key:"appmural"+r,attrs:{cols:"12",md:"4",align:"center",justify:"center"}},[a("div",[a("v-icon",{attrs:{color:"grey darken-1",size:"65"}},[t._v(t._s(e.icon))])],1),a("div",[a("h4",{staticClass:"subtitle-1 mb-0 primary--text font-weight-light text-uppercase"},[t._v(t._s(e.title))]),a("p",{staticClass:"font-weight-light body-2 grey--text text--darken-3"},[t._v(t._s(e.description))])])])]}))],2)],1)},xe=[],ye={props:["murals"]},De=ye,Ae=Object(l["a"])(De,be,xe,!1,null,null,null),Ce=Ae.exports;W()(Ae,{VCol:tt["a"],VContainer:xt["a"],VIcon:st["a"],VRow:ft["a"]});var we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",{staticClass:"my-3",attrs:{"data-aos":"fade-in","data-aos-duration":"2000",align:"center",justify:"center"}},[t._l(t.teams,(function(e,r){return[a("v-col",{key:"team_"+r,attrs:{cols:"12",md:"2",sm:"6",align:"center",justify:"center"}},[a("div",{staticClass:"team_display",on:{click:function(a){return a.stopPropagation(),t.$set(t.team_dialog,e.id,!0)}}},[a("v-avatar",{attrs:{size:"Diretor"==e.charges[0].name?"135":"110",color:"Diretor"==e.charges[0].name?"grey lighten-1":"grey lighten-3"}},[a("img",{attrs:{src:t.apiUrl+"/images/app/resources/employees/"+e.perfil_photo,alt:"Foto de Perfil"}})]),a("div",{staticClass:"mt-2"},[a("h4",{staticClass:"text-none grey--text text--darken-3 font-weight-regular"},[t._v(t._s(e.folk.name+" "+e.folk.lastname))])]),a("div",{staticClass:"pa-0 ma-0"},[a("small",{staticClass:"text-none team_charge grey--text text--darken-1"},[t._v(t._s(e.charges[0].name))])])],1)]),a("v-dialog",{key:"team_details_"+r,attrs:{"max-width":"470"},model:{value:t.team_dialog[e.id],callback:function(a){t.$set(t.team_dialog,e.id,a)},expression:"team_dialog[team.id]"}},[a("v-card",{staticClass:"mx-auto"},[a("v-img",{attrs:{"aspect-ratio":"1.4",src:t.apiUrl+"/images/app/resources/employees/"+e.perfil_photo}},[a("v-row",{staticClass:"lightbox white--text pa-3 fill-height",attrs:{align:"end"}},[a("v-col",[a("h2",{staticClass:"subheading font-weight-regular"},[t._v(t._s(e.folk.name+" "+e.folk.lastname))]),a("div",{staticClass:"body-1"},[a("v-chip",{attrs:{rounded:""}},[a("v-icon",[t._v("mdi-tag")]),t._v(" "+t._s(e.charges[0].name)+" ")],1)],1)])],1)],1),a("v-list",[a("v-list-item",[a("v-list-item-action",[a("v-icon",[t._v("mdi-email")])],1),a("v-list-item-title",[t._v(t._s(e.email))])],1),a("v-divider"),a("v-list-item",[a("v-list-item-action",[a("v-icon",[t._v("mdi-phone")])],1),a("v-list-item-title",[t._v(t._s(e.phone))])],1)],1)],1)],1)]}))],2)],1)},ke=[],Ve={props:["teams"],data:function(){return{team_dialog:{}}}},Pe=Ve,Ee=(a("896f"),a("cc20")),Me=Object(l["a"])(Pe,we,ke,!1,null,"2022beb2",null),Te=Me.exports;W()(Me,{VAvatar:Et["a"],VCard:Z["a"],VChip:Ee["a"],VCol:tt["a"],VContainer:xt["a"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VList:Tt["a"],VListItem:St["a"],VListItemAction:Jt["a"],VListItemTitle:Lt["c"],VRow:ft["a"]});var $e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","mb-0":"","pa-5":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",align:"left",justify:"center"}},[a("h4",{staticClass:"text-uppercase font-weight-light"},[t._v("Cursos Em Destaques")]),a("div",{staticClass:"title-divider"})])],1),a("v-row",{staticClass:"fill-height",attrs:{"data-aos":"fade-in","data-aos-duration":"2000",align:"start",justify:"center"}},[t._l(t.formations,(function(e,r){return[a("v-col",{key:r,attrs:{cols:"12",md:1==t.formations.length?"12":2==t.formations.length?"6":"4"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(r){var s=r.hover;return[a("v-card",{staticClass:"mx-auto elevation-10"},[a("v-img",{attrs:{"max-height":"300","aspect-ratio":16/9,src:t.apiUrl+"/images/app/courses/covers/"+e.cover}},[a("v-expand-transition",[s?a("div",{staticClass:"d-flex transition-fast-in-fast-out darken-2 v-card--reveal display-1 white--text text-capitalize",staticStyle:{height:"100%"},style:{backgroundColor:e.color}},[t._v(t._s(t.dateForHumanPresentation(e.release)))]):t._e()])],1),a("v-card-text",{staticClass:"pt-6",staticStyle:{position:"relative"}},[a("v-btn",{staticClass:"white--text",attrs:{small:"",absolute:"",color:e.color,fab:"",right:"",top:""},on:{click:function(a){return t.onView("course_info",e.slug)}}},[a("v-icon",[t._v("mdi-book-open-page-variant")])],1),a("div",{staticClass:"font-weight-light title mb-2 text-capitalize",style:{color:e.color},domProps:{textContent:t._s(e.name)}}),a("div",[a("p",{staticClass:"font-weight-light mb-2"},[t._v(t._s(t._f("truncate")(e.description,100)))])])],1)],1)]}}],null,!0)})],1)]}))],2)],1)},Se=[],Ue={mixins:[ie,U,pe],props:["formations"]},Le=Ue,Oe=(a("79d2"),a("0789")),Re=a("ce87"),Ie=Object(l["a"])(Le,$e,Se,!1,null,null,null),je=Ie.exports;W()(Ie,{VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VExpandTransition:Oe["a"],VHover:Re["a"],VIcon:st["a"],VImg:Mt["a"],VRow:ft["a"]});var qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{attrs:{cols:"12",align:"left",justify:"center"}},[a("h4",{staticClass:"text-uppercase font-weight-light"},[t._v("Contactos")]),a("div",{staticClass:"title-divider"})])],1),a("v-row",[0!=t.schoolData.length?a("v-col",{attrs:{cols:"12",md:"5"}},[a("contacts",{attrs:{contacts:t.schoolData[0].contacts,address:t.schoolData[0].address}})],1):t._e(),a("v-col",{attrs:{"data-aos":"fade-left","data-aos-duration":"2000",cols:"12",md:"7"}},[a("to-contact")],1)],1)],1)},Ne=[],Fe=function(){var t=this,e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"mb-5"},[r("v-card",{attrs:{flat:"",color:"transparent"}},[r("v-card-text",{staticClass:"ma-0 pa-0"},[r("v-list",{attrs:{"two-line":"",color:"transparent"}},[e._l(e.contacts,(function(t,a){return[r("v-list-item",{key:"f_contact"+a,on:{click:function(){}}},[r("v-list-item-icon",[r("v-icon",{attrs:{color:"indigo"}},[e._v(e._s(1==t.type?"mdi-phone":"mdi-email"))])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.contact))]),r("v-list-item-subtitle",[e._v(e._s(t.description))])],1)],1)]})),r("v-divider",{attrs:{inset:""}}),r("v-list-item",{on:{click:function(){t.showLocationDialog=!0}}},[r("v-list-item-icon",[r("v-icon",{attrs:{color:"indigo"}},[e._v("mdi-map-marker")])],1),r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(e.address.zone)+" - "+e._s(e.address.street))]),r("v-list-item-subtitle",[e._v(e._s(e.address.country)+" - "+e._s(e.address.state)+" - "+e._s(e.address.city))])],1)],1)],2)],1)],1),r("v-dialog",{attrs:{"max-width":"890"},model:{value:e.showLocationDialog,callback:function(t){e.showLocationDialog=t},expression:"showLocationDialog"}},[r("v-card",{attrs:{"pa-1":""}},[r("v-card-text",[e._v(" yes ")])],1)],1)],1)},Ge=[],ze={props:["contacts","address"],data:function(){return{showLocationDialog:!1}},components:{}},Be=ze,He=Object(l["a"])(Be,Fe,Ge,!1,null,null,null),Ye=He.exports;W()(He,{VCard:Z["a"],VCardText:Q["b"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VList:Tt["a"],VListItem:St["a"],VListItemContent:Lt["a"],VListItemIcon:Rt["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"]});var Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"elevation-5 mb-5",attrs:{color:"white"}},[a("v-card-text",[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",disabled:!!t.authUser,color:"primary",label:"Nome",name:"name","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"7"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",outlined:"",disabled:!!t.authUser,color:"primary",label:"Email",name:"email","data-vv-name":"email","error-messages":t.errors.collect("email")},model:{value:t.formData.from,callback:function(e){t.$set(t.formData,"from",e)},expression:"formData.from"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-combobox",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"subject",attrs:{dense:"",outlined:"",color:"primary",label:"Escolha o assunto na lista, ou especifique um",items:t.subjects,"data-vv-name":"subject","error-messages":t.errors.collect("subject"),name:"subject"},model:{value:t.formData.subject,callback:function(e){t.$set(t.formData,"subject",e)},expression:"formData.subject"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",color:"primary",outlined:"",rows:"4","auto-grow":"",label:"Escreva aqui a sua mensagem",name:"message","data-vv-name":"message","error-messages":t.errors.collect("message"),hint:"Por favor seja claro e direto com a sua mensagem..."},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),t.formData.name&&t.formData.from&&t.formData.content&&t.formData.subject?a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",align:"right"}},[a("v-btn",{attrs:{loading:t.sending,small:"",color:"primary",outlined:""},on:{click:function(e){return t.sendMessage()}}},[t._v("Enviar")])],1):t._e()],1)],1)],1)],1)],1)},We=[],Je={mixins:[$,T],data:function(){return{sending:!1,subjects:["Reunião com os pais","Matrículas/Propínas","Vaga dos Cursos","Formação Profossional","Outros"],formData:{name:"",from:"",to:"",subject:"",content:""},dictionary:M}},mounted:function(){this.$validator.localize("pt",this.dictionary)},created:function(){this.setContactFields()},methods:{setContactFields:function(){this.authUser&&(this.formData.name=this.authUser.username,this.formData.from=this.authUser.email)},sendMessage:function(){var t=this;this.$validator.validateAll().then((function(e){e&&(t.sending=!0,axios.post("to_contact",t.$data.formData).then((function(e){t.registerCreated("success","Mensagem Inviada",e.data.msg,"A equipa da EICM-GDC agradece o seu contacto, e promete retorna-lo em breve"),t.clear(),t.sending=!1})).catch((function(e){t.sending=!1,console.log(e)})))}))}}},Xe=Je,Ze=a("2b5d"),Qe=a("a844"),ta=Object(l["a"])(Xe,Ke,We,!1,null,null,null),ea=ta.exports;W()(ta,{VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VCombobox:Ze["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var aa={props:["schoolData"],components:{Contacts:Ye,ToContact:ea}},ra=aa,sa=Object(l["a"])(ra,qe,Ne,!1,null,"f85aa890",null),oa=sa.exports;W()(sa,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var ia={mixins:[O],data:function(){return{formations:[{id:1,name:"Electricidade",efect:"slide-right"},{id:2,name:"Meccanica",efect:"slide-up"},{id:3,name:"Contabilidade",efect:"slide-left"}]}},components:{AppSlider:de,AppBlog:ge,AppMurals:Ce,AppTeam:Te,AppFeaturedFormations:je,AppContacts:oa},created:function(){this.getAll(this.featured_courses,"getActivedCourses"),this.getAll(this.teams,"getTeams"),this.getAll(this.published_articles,"getPublishedArticles"),this.getAll(this.murals,"getMurals"),this.getAll(this.actived_sliders,"getActivedSliders"),this.getAll(this.schools,"getSchools")},computed:{schools:function(){return this.$store.getters.schools},published_articles:function(){return this.$store.getters.published_articles},teams:function(){return this.$store.getters.teams},actived_sliders:function(){return this.$store.getters.actived_sliders},murals:function(){return this.$store.getters.murals},featured_courses:function(){return this.$store.getters.featured_courses},featured_employees:function(){return this.$store.getters.featured_employees},featured_articles:function(){return this.$store.getters.featured_articles}}},na=ia,la=a("3129"),ca=Object(l["a"])(na,te,ee,!1,null,null,null),da=ca.exports;W()(ca,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"],VSkeletonLoader:la["a"]});var ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-login"},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{attrs:{align:"center",cols:"12",sm:"8",md:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-10",attrs:{width:"450"}},[a("v-card-text",{staticClass:"mb-0 pb-0"},[a("div",{staticClass:"layout column align-center"},[a("v-avatar",{attrs:{color:"primary",size:"62"}},[a("v-icon",{attrs:{large:"",dark:""}},[t._v("mdi-account-lock")])],1),a("h1",{staticClass:"flex my-4 primary--text font-weight-light"},[t._v(" EICM - "),a("span",{staticClass:"font-weight-thin"},[t._v("Login")])])],1),a("v-flex",{attrs:{xs12:""}},[a("v-alert",{attrs:{dense:"",tile:"",color:"error",value:!!t.loginError,icon:"mdi-lock-alert",border:"right","colored-border":"",dismissible:"",elevation:"3",transition:"scale-transition"}},[a("small",[t._v(t._s(t.loginError))])])],1),a("v-form",[a("v-container",{attrs:{"grid-list-sm":"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",outlined:"",name:"login",label:"Email",type:"text","data-vv-name":"email","error-messages":t.errors.collect("email")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authenticate()}},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1),a("v-row",[a("v-col",{staticClass:"py-0 ma-y",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"","append-icon":t.passIcon?"mdi-eye":"mdi-eye-off",type:t.passIcon?"password":"text",name:"password",label:"Password","data-vv-name":"password","error-messages":t.errors.collect("password")},on:{"click:append":function(){return t.passIcon=!t.passIcon},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authenticate()}},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"mt-0 pt-0"},[a("v-row",[a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none font-weight-light no",attrs:{to:{name:"register_page"},small:"",text:"",dark:"",color:"primary"}},[t._v("criar uma conta")])],1),a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-btn",{staticClass:"text-none",attrs:{tile:"",color:"primary"},on:{click:function(e){return t.authenticate()}}},[t._v("Autenticar")])],1)],1)],1)],1)],1)],1)],1)],1)},ma=[];a("d3b7");function pa(t){return new Promise((function(e,a){axios.post("/login",t).then((function(t){e(t.data)})).catch((function(t){a(t.response.data.error)}))}))}function va(){var t=localStorage.getItem("user");return t?JSON.parse(t):null}var fa={mixins:[$],data:function(){return{sending:!1,formData:{email:"",password:"",remember_token:!1},passIcon:!0,dictionary:M}},computed:{loginError:function(){return this.$store.getters.authError}},methods:{togglePassIcon:function(){this.passIcon=!this.passIcon},authenticate:function(){var t=this;this.$validator.validateAll().then((function(e){e&&(t.sending=!0,t.$store.dispatch("login"),pa(t.$data.formData).then((function(e){t.feedback("success","Autenticação efetuada com sucesso. Obrigado!",5e3,!0,"bottom-left"),t.$store.commit("loginSuccess",e),t.$router.push({path:"/"}),t.sending=!1})).catch((function(e){t.$store.commit("loginFailed",{error:e}),t.sending=!1})))}))}},mounted:function(){this.$validator.localize("pt",this.dictionary)}},ha=fa,_a=(a("b9d8"),a("0e8f")),ga=Object(l["a"])(ha,ua,ma,!1,null,null,null),ba=ga.exports;W()(ga,{VAlert:J["a"],VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VFlex:_a["a"],VForm:rt["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"]});var xa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-login"},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[a("v-card",{staticClass:"elevation-10 pa-3",attrs:{width:"640px"}},[a("v-card-text",{staticClass:"mb-0 pb-0"},[a("div",{staticClass:"layout column align-center"},[a("v-avatar",{attrs:{color:"primary",size:"62"}},[a("v-icon",{attrs:{large:"",dark:""}},[t._v("mdi-account-plus")])],1),a("h1",{staticClass:"flex my-4 primary--text font-weight-light"},[t._v(" EICM - "),a("span",{staticClass:"font-weight-thin"},[t._v("Registar")])])],1),a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-md":"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error",outlined:"",value:t.hasError}},[a("small",[t._v("Erros resultantes do processamento, corrija-os e re-envie")])])],1)],1),a("v-row",[a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{outlined:"",dense:"",name:"name",label:"Nome*",type:"text","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.formData.folk.name,callback:function(e){t.$set(t.formData.folk,"name",e)},expression:"formData.folk.name"}})],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{outlined:"",dense:"",name:"lastname",label:"Apelidos*",type:"text","data-vv-name":"lastname","error-messages":t.errors.collect("lastname")},model:{value:t.formData.folk.lastname,callback:function(e){t.$set(t.formData.folk,"lastname",e)},expression:"formData.folk.lastname"}})],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{outlined:"",dense:"",name:"email",label:"Correio Eletrónico*",type:"text",hint:"exemplo@exemplo.cv","data-vv-name":"email","error-messages":t.errorMsg("email")||t.errors.collect("email")},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash",expression:"'required|alpha_dash'"}],attrs:{outlined:"",dense:"",name:"username",label:"Nome de Utilizador*",type:"text","data-vv-name":"username","error-messages":t.errorMsg("username")||t.errors.collect("username")},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"password",attrs:{outlined:"",dense:"",name:"password",label:"Palavra Passe*",type:"password","data-vv-name":"password","error-messages":t.errors.collect("password")},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",align:"left"}},[a("span",{staticClass:"grey--text text--darken-2"},[t._v("Escolha o Sexo (Opcional)")])]),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-radio-group",{directives:[{name:"validate",rawName:"v-validate",value:"included:0,1,2",expression:"'included:0,1,2'"}],attrs:{dense:"",row:"","data-vv-name":"gender","error-messages":t.errors.collect("gender")},model:{value:t.formData.folk.gender,callback:function(e){t.$set(t.formData.folk,"gender",e)},expression:"formData.folk.gender"}},[a("v-radio",{attrs:{label:"Masculino",value:"0"}}),a("v-radio",{attrs:{label:"Feminino",value:"1"}})],1)],1)],1)],1)],1)],1),a("v-card-actions",{staticClass:"my-0 py-0"},[a("v-row",[a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none font-weight-light",attrs:{to:{name:"login_page"},small:"",text:"",dark:"",color:"primary"}},[t._v("Fazer Login em vez disso")])],1),a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-btn",{staticClass:"text-none ma-1",attrs:{tile:"",width:"130",color:t.hasError?"error":"primary"},on:{click:function(e){return t.register()}}},[t._v(t._s(t.hasError?"Re-Enviar":"Registar"))])],1),a("v-col",{attrs:{cols:"12",align:"left"}},[a("small",{staticClass:"grey--text text--darken-2"},[t._v("(*) - Não pode faltar")])])],1)],1)],1)],1)],1)],1)],1)},ya=[],Da={name:"register_page",mixins:[$,T,N],data:function(){return{formErrors:[],hasError:!1,formData:{username:"",email:"",password:"",password_confirmation:"",folk:{name:"",lastname:""}},sending:!1,acoountCreated:!1}},methods:{showAlert:function(){this.$swal("Hello Vue world!!!")},register:function(){var t=this;this.$validator.validateAll().then((function(e){e&&(t.sending=!0,axios.post("register",t.$data.formData).then((function(e){t.hasError=!1,t.formErrors=[],t.sending=!1,t.acoountCreated=!0,t.registerCreated("info","Conta Criada com Sucesso","Os seus dados já foram registados, aguarde a sua ativação","EICM-GDC aprecía muito pela sua colaboração"),t.clear(),t.$router.push({path:"/"})})).catch((function(e){t.sending=!1,t.acoountCreated=!1,e.response&&(t.hasError=!0,t.formErrors=e.response.data.errors)})))}))}}},Aa=Da,Ca=a("67b6"),wa=a("43a6"),ka=Object(l["a"])(Aa,xa,ya,!1,null,null,null),Va=ka.exports;W()(ka,{VAlert:J["a"],VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VForm:rt["a"],VIcon:st["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VTextField:it["a"]});var Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("perfil")],1)},Ea=[],Ma=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-xs":""}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",{staticClass:"mb-5",attrs:{tile:""}},[r("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:a("d88f")},on:{mouseenter:function(e){t.change_avatar_btn=!0},mouseleave:function(e){t.change_avatar_btn=!1}}},[r("v-row",[r("v-col",{staticClass:"pb-0 mb-0",attrs:{align:"center",cols:"12"}},[r("v-avatar",{staticClass:"profile",attrs:{color:"grey lighten-2",size:"124"}},[r("v-img",{staticClass:"white--text align-end",attrs:{src:t.avatarPath}})],1),r("input",{ref:"upload_avatar_form",staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",name:"avatar"},on:{change:t.onAvatarChange}})],1),r("v-col",{staticClass:"pt-0 mt-0",attrs:{align:"center"}},[r("transition",{attrs:{name:"fade"}},[t.change_avatar_btn||t.formData.avatar.length>500?r("v-btn",{staticClass:"text-none ma-1",attrs:{rounded:"","x-small":"",dark:""},on:{click:function(e){return t.onActiveAvatarField()}}},[t._v("Alterar")]):t._e()],1),t.formData.avatar.length>500?r("v-btn",{staticClass:"text-none ma-1",attrs:{rounded:"","x-small":"",color:"success"},on:{click:function(e){return t.onUpdateAvatar()}}},[t._v("Guradar")]):t._e()],1)],1)],1),r("v-card-text",{staticClass:"ma-0 pa-0"},[r("v-container",{attrs:{"grid-list-xs":"","ma-0":"","pa-0":""}},[r("v-row",[r("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",align:"left"}},[r("v-expansion-panels",{attrs:{tile:"",mandatory:"",focusable:"",hover:""}},[r("v-expansion-panel",[r("v-expansion-panel-header",{staticClass:"primary--text",attrs:{"expand-icon":"mdi-login","disable-icon-rotate":""}},[t._v("Dados da conta")]),r("v-expansion-panel-content",[r("v-list",{attrs:{dense:""}},[r("v-subheader",[t._v("Dados da Conta")]),r("v-list-item-group",{attrs:{color:"primary"}},[r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-email")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Email Primário")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.email))])],1)],1),r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-account")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Nome Utilizador")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.username))])],1)],1),r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-update")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Ativação da Conta")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.updated_at))])],1)],1)],1)],1),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[r("v-btn",{staticClass:"text-none ma-1",attrs:{outlined:"",small:"",color:t.changing_password?"error":"primary"},on:{click:function(e){t.changing_password=!t.changing_password}}},[t._v(t._s(t.changing_password?"Cancelar":"Alterar a Palavra Passe"))]),t.changing_password?r("v-btn",{staticClass:"text-none ma-1",attrs:{outlined:"",small:"",color:"primary"},on:{click:function(e){return t.onChangePassword("form-change-password")}}},[t._v("Guardar")]):t._e(),r("transition",{attrs:{name:"fade"}},[t.changing_password?r("v-form",{ref:"form",attrs:{"data-vv-scope":"form-change-password"}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{dense:"",name:"name",label:"Palavra passe atual","data-vv-name":"form-change-password.old_password","error-messages":t.password_msg||t.errors.collect("form-change-password.old_password")},model:{value:t.formData.old_password,callback:function(e){t.$set(t.formData,"old_password",e)},expression:"formData.old_password"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],attrs:{dense:"",name:"name",label:"Nova palavra Passe","data-vv-name":"form-change-password.password","error-messages":t.old_password_msg||t.errors.collect("form-change-password.password")},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1)],1):t._e()],1)],1)],1)],1),r("v-expansion-panel",[r("v-expansion-panel-header",{staticClass:"primary--text",attrs:{"expand-icon":"mdi-account","disable-icon-rotate":""}},[t._v("Informações Pessoais")]),r("v-expansion-panel-content",[r("v-row",[r("v-col",{attrs:{cols:"12",md:"6",align:"left"}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{color:"primary"}},[r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v("Primeiro Nome")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.folk.name))])],1)],1),r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v("Apelido")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.folk.lastname))])],1)],1)],1)],1)],1),r("v-col",{attrs:{cols:"12",md:"6",align:"left"}},[r("v-list",{attrs:{dense:""}},[r("v-list-item-group",{attrs:{color:"primary"}},[r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v("Data de Nascimento")]),r("v-list-item-subtitle",[t._v(t._s(t.authUser.folk.birthdate?t.authUser.folk.birthdate:"Sem registo"))])],1)],1),r("v-list-item",{attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v("Sexo")]),r("v-list-item-subtitle",[t._v(t._s(0==t.authUser.folk.gender?"Masculino":1==t.authUser.folk.gender?"Feminino":"Sem registo"))])],1)],1)],1)],1)],1),r("v-col",[r("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"text-none",attrs:{color:"primary",small:"",outlined:"",dark:""}},"v-btn",s,!1),a),[t._v("Editar informações")])]}}]),model:{value:t.edit_perfil_dialog,callback:function(e){t.edit_perfil_dialog=e},expression:"edit_perfil_dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"title font-weight-regular"},[r("v-icon",[t._v("mdi-account-edit")])],1)]),r("v-card-text",{staticClass:"mb-0 pb-0"},[r("v-container",{attrs:{"ma-0":"","pa-0":"","mt-3":""}},[r("v-form",{ref:"form",attrs:{"data-vv-scope":"form-edit-perfil"}},[r("v-row",[r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{dense:"",outlined:"",label:"Nome*","data-vv-name":"form-edit-perfil.name","error-messages":t.errors.collect("form-edit-perfil.name")},model:{value:t.formData.folk.name,callback:function(e){t.$set(t.formData.folk,"name",e)},expression:"formData.folk.name"}})],1),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{dense:"",outlined:"",label:"Apelido*","data-vv-name":"form-edit-perfil.lastname","error-messages":t.errors.collect("form-edit-perfil.lastname")},model:{value:t.formData.folk.lastname,callback:function(e){t.$set(t.formData.folk,"lastname",e)},expression:"formData.folk.lastname"}})],1),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[r("v-select",{attrs:{outlined:"",dense:"",items:t.genders,"item-text":"gender","item-value":"value",label:"Sexo"},model:{value:t.formData.folk.gender,callback:function(e){t.$set(t.formData.folk,"gender",e)},expression:"formData.folk.gender"}})],1),r("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valBirthdateRef",staticStyle:{display:"none"},attrs:{name:"birthdate_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),r("v-menu",{ref:"birth_date_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|before:valBirthdateRef",expression:"'date_format:dd/MM/yyyy|before:valBirthdateRef'"}],attrs:{dense:"",outlined:"",name:"birthdate",value:t.formated(t.formData.folk.birthdate),label:"Nascimento","prepend-inner-icon":"mdi-calendar",readonly:"","data-vv-as":"birthdate","error-messages":t.errorMsg("folk.birthdate")||t.errors.collect("birthdate")}},a))]}}]),model:{value:t.birthdate_menu,callback:function(e){t.birthdate_menu=e},expression:"birthdate_menu"}},[r("v-date-picker",{ref:"birth_date_picker",attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.birthdate_menu=!1}},model:{value:t.formData.folk.birthdate,callback:function(e){t.$set(t.formData.folk,"birthdate",e)},expression:"formData.folk.birthdate"}})],1)],1),r("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[r("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",outlined:"",label:"Email*","data-vv-name":"form-edit-perfil.email","error-messages":t.errorMsg("email")||t.errors.collect("form-edit-perfil.email")},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1)],1)],1)],1),r("v-card-actions",[r("small",{staticClass:"info--text"},[r("v-icon",{attrs:{small:"",color:"info"}},[t._v("mdi-information")]),t._v("Ao guardar as alterações, a sua sessão será reiniciada, para carregar informações atualizadas. ")],1),r("v-spacer"),r("v-btn",{staticClass:"text-none",attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.edit_perfil_dialog=!1}}},[t._v("Cancelar")]),r("v-btn",{staticClass:"text-none",attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.onEditPerfil("form-edit-perfil")}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1),t.authUser.permissions.length||t.authUser.roles.length?r("v-expansion-panel",[r("v-expansion-panel-header",{staticClass:"primary--text",attrs:{"expand-icon":"mdi-lock","disable-icon-rotate":""}},[t._v("Acessos e Permissões")]),r("v-expansion-panel-content",[r("v-row",[t.authUser.permissions.length?r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-list",{attrs:{dense:"",rounded:""}},[r("v-subheader",[t._v("Papeis/Funções do Utilizador")]),r("v-list-item-group",{attrs:{color:"primary"}},t._l(t.authUser.permissions,(function(e,a){return r("v-list-item",{key:"permission"+a,attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v("Atribuido em: "+t._s(e.updated_at))])],1)],1)})),1)],1)],1):t._e(),t.authUser.roles.length?r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-list",{attrs:{rounded:"",dense:""}},[r("v-subheader",[t._v("Papeis/Funções do Utilizador")]),r("v-list-item-group",{attrs:{color:"primary"}},t._l(t.authUser.roles,(function(e,a){return r("v-list-item",{key:"role"+a,attrs:{ripple:!1}},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v("Atribuido em: "+t._s(e.updated_at))])],1)],1)})),1)],1)],1):t._e()],1)],1)],1):t._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)},Ta=[],$a={mixins:[pe,N,T,$,U],data:function(){return{change_avatar_btn:!1,password_msg:null,old_password_msg:null,formErrors:{},changing_password:!1,edit_perfil_dialog:!1,birthdate_menu:!1,formData:{folk:{name:"",lastname:"",gender:"",birthdate:""},email:"",old_password:"",avatar:"",password:""},genders:[{gender:"Masculino",value:"0"},{gender:"Feminino",value:"1"}]}},created:function(){this.setUserPerfilForm()},computed:{avatarPath:function(){return this.formData.avatar?this.formData.avatar.length>500?this.formData.avatar:this.apiUrl+"/images/app/system/users/"+this.formData.avatar:this.apiUrl+"/images/app/system/users/default.svg"}},methods:{setUserPerfilForm:function(){this.formData.id=this.authUser.id,this.formData.avatar=this.authUser.avatar,this.formData.email=this.authUser.email,this.formData.username=this.authUser.username,this.formData.folk.id=this.authUser.folk.id,this.formData.folk.name=this.authUser.folk.name,this.formData.folk.lastname=this.authUser.folk.lastname,this.formData.folk.gender=this.authUser.folk.gender,this.formData.folk.birthdate=this.authUser.folk.birthdate},onChangePassword:function(t){var e=this;this.password_msg=null,this.old_password_msg=null,this.$validator.validateAll(t).then((function(t){t&&axios.put("change_password/"+e.$data.formData.id,e.$data.formData).then((function(t){e.formErrors={},0!==t.data.exist?2!==t.data.exist?(e.changing_password=!1,e.feedback("success",t.data.msg,3e3,!0,"top-end"),e.logout()):e.old_password_msg=t.data.msg:e.password_msg=t.data.msg})).catch((function(t){e.password_msg=null,e.old_password_msg=null,e.formErrors=t.response.data.errors}))}))},onEditPerfil:function(t){var e=this;this.$validator.validateAll(t).then((function(t){t&&axios.put("update_profile/"+e.$data.formData.id,e.$data.formData).then((function(t){e.formErrors={},e.edit_perfil_dialog=!1,e.registerCreated("success","Resgisto Atualizado",t.data.msg,"Reinicie a sua sessão para recarregar os dados atualizados"),e.logout()})).catch((function(t){e.formErrors=t.response.data.errors}))}))},onUpdateAvatar:function(){var t=this;axios.put("update_avatar/"+this.$data.formData.id,this.$data.formData).then((function(e){t.feedback("success",e.data.msg,3e3,!0,"top-end"),t.logout()})).catch((function(t){console.log(t.response.data.errors)}))},onActiveAvatarField:function(){this.$refs.upload_avatar_form.click()},onAvatarChange:function(t){var e=this,a=t.target.files[0]||t.dataTransfer.files[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(t){e.formData.avatar=t.target.result}},logout:function(){this.$store.commit("logout"),this.onView("login_page")}}},Sa=$a,Ua=(a("6e87"),a("2e4b")),La=a("cd55"),Oa=a("49e2"),Ra=a("c865"),Ia=a("0393"),ja=a("b974"),qa=Object(l["a"])(Sa,Ma,Ta,!1,null,null,null),Na=qa.exports;W()(qa,{VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDialog:et["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VForm:rt["a"],VIcon:st["a"],VImg:Mt["a"],VList:Tt["a"],VListItem:St["a"],VListItemContent:Lt["a"],VListItemGroup:Ot["a"],VListItemIcon:Rt["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VMenu:jt["a"],VRow:ft["a"],VSelect:ja["a"],VSpacer:ot["a"],VSubheader:Xt["a"],VTextField:it["a"]});var Fa={components:{Perfil:Na}},Ga=Fa,za=Object(l["a"])(Ga,Pa,Ea,!1,null,null,null),Ba=za.exports,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",{staticClass:"ma-0 pa-0"},[t._l(t.guidelines,(function(e,r){return[a("div",{key:"guideline_"+r},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h3",{staticClass:"headline primary--text"},[t._v(t._s(e.name))])]),a("v-card-text",[a("p",{staticClass:"text-justify"},[t._v(t._s(e.description))])])],1),r!=t.guidelines.length-1?a("v-divider"):t._e()],1)]}))],2)],1)],1)],1)},Ya=[],Ka={mixins:[O],data:function(){return{}},created:function(){this.getAll(this.guidelines,"getGuidelines")},computed:{guidelines:function(){return this.$store.getters.guidelines}}},Wa=Ka,Ja=a("a722"),Xa=Object(l["a"])(Wa,Ha,Ya,!1,null,null,null),Za=Xa.exports;W()(Xa,{VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VContainer:xt["a"],VDivider:at["a"],VLayout:Ja["a"]});var Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"white darken-4",attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{staticClass:"mt-0 pt-0"},[a("router-view")],1)],1)],1)},tr=[],er={},ar=Object(l["a"])(er,Qa,tr,!1,null,null,null),rr=ar.exports;W()(ar,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var sr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","pt-0":""}},[0==t.featured_articles.length||0==t.categories.length?a("v-alert",{attrs:{border:"top","colored-border":"",type:"warning",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Aguarde a publicação no Blog da Escola Industrial e Comercial do Mindelo, em breve iremos fazer parte do seu dia.")])],1)],1):t._e(),a("v-row",{attrs:{row:"",wrap:""}},[t.featured_articles.length?a("v-col",{staticClass:"pt-0",attrs:{cols:"12"}},[a("AppFeaturedArticleSlider",{attrs:{articles:t.featured_articles}})],1):[a("v-col",{staticClass:"pt-0 mb-5",attrs:{cols:"12"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"image"}})],1)],t.categories.length?a("v-col",{attrs:{cols:"12",md:"8"}},[t._l(t.categories,(function(e){return[a("v-card",{key:"categoria"+e.id,staticClass:"mb-8",attrs:{color:"transparent",flat:"",tile:""}},[a("v-card-title",{staticClass:"black--text pa-0 mx-0 text-capitalize font-weight-light",attrs:{"primary-title":""}},[a("div",[a("a",{staticClass:"black--text text-uppercase",on:{click:function(a){return t.onView("article_categories",e.slug)}}},[t._v(t._s(e.name))]),a("div",{staticClass:"category_title_divider indigo"})])]),a("v-card-text",{staticClass:"ma-0 pa-1"},[a("v-row",{staticClass:"my-1 pa-0"},[t._l(e.articles,(function(r,s){return[a("v-col",{key:"artigo_"+s,staticClass:"ma-0 pa-2",attrs:{cols:"12",sm:"6",md:1==e.articles.length?"12":(e.articles.length,"6")}},[a("v-card",{staticClass:"mx-auto elevation-1",attrs:{tile:""},on:{click:function(e){return t.onView("read_article",r.slug)}}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"120",src:t.apiUrl+"/images/articles/covers/"+r.cover}},[a("v-card-title",{staticClass:"title font-weight-regular"},[t._v(t._s(r.title))])],1),a("v-card-text",{staticClass:"text--primary py-2"},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"grey--text text--darken-2 text-capitalize"},[t._v(t._s(t.dateForHumanPresentation(r.created_at)))])]),a("p",{staticClass:"font-weight-regular body-2"},[t._v(t._s(t._f("truncate")(r.summary,100)))])])],1)],1)]}))],2)],1),a("v-card-actions",[a("v-spacer"),e.articles.length>=3?a("v-btn",{staticClass:"text-none",attrs:{color:"primary",outlined:"",small:""}},[t._v("Listar mais")]):t._e()],1),a("v-divider")],1)]}))],2):[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"card"}})],1)],t.categories.length?a("v-col",{staticClass:"mt-8 pt-0",attrs:{cols:"12",md:"4"}},[a("article-aside")],1):[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{attrs:{boilerplate:"",type:"paragraph"}}),a("v-skeleton-loader",{attrs:{boilerplate:"",type:"paragraph"}}),a("v-skeleton-loader",{attrs:{boilerplate:"",type:"paragraph"}}),a("v-skeleton-loader",{attrs:{boilerplate:"",type:"paragraph"}})],1)]],2)],1)},or=[],ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{tile:"",flat:"","mt-0":"","pt-0":""}},[a("swiper",{ref:"mySwiper",attrs:{options:t.swiperOption}},[t._l(t.articles,(function(e,r){return[a("swiper-slide",{key:"article_slider_"+r},[a("v-img",{staticClass:"white--text slide--igm",attrs:{src:t.apiUrl+"/images/articles/covers/"+e.cover,height:"280"}},[a("section",{staticClass:"ani",attrs:{"swiper-animate-effect":"slideInLeft","swiper-animate-duration":"3s"}},[a("v-container",{staticClass:"ma-0 pa-0 slide-container",attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",{staticClass:"ma-0 pa-0"},[a("v-col",{staticClass:"ma-0 pa-0"},[a("div",{staticClass:"slide-content-box"},[a("div",{staticClass:"slide-content-box-outer"},[a("div",{staticClass:"slide-content-box-inner"},[a("div",{staticClass:"slide-title"},[a("h3",{staticClass:"ani text-uppercase",attrs:{"swiper-animate-effect":"fadeUp","swiper-animate-delay":"3s","swiper-animate-duration":"2s"}},[a("b",[t._v(t._s(e.title))])]),a("div",{staticClass:"slide-title-underline"})]),a("div",{staticClass:"slide-descrition ani",attrs:{"swiper-animate-effect":"slideInLeft","swiper-animate-delay":"1s","swiper-animate-duration":"3s"}},[a("p",{staticClass:"body-2"},[t._v(t._s(t._f("truncate")(e.summary,150)))])]),a("div",{staticClass:"slide-read-more ani",attrs:{"swiper-animate-effect":"fadeInLeft","swiper-animate-delay":"2s","swiper-animate-duration":"3s"}},[a("v-btn",{staticClass:"ma-0 px-5",attrs:{small:"",color:"indigo",dark:"",tile:""},on:{click:function(a){return t.onView("read_article",e.slug)}}},[t._v("Ler")])],1)])])])])],1)],1)],1)])],1)]})),a("div",{staticClass:"swiper-button-prev hidden-xs-only",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next hidden-xs-only",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)},nr=[],lr={name:"AppFeaturedArticleSlider",props:["articles"],mixins:[ie,U],data:function(){return{swiperOption:{spaceBetween:60,centeredSlides:!0,autoplay:{delay:5500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},zoom:!0,effect:"fade",on:{slideChange:function(){se(this)}}}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},methods:{slideEffect:function(t){return"topRight"==t||"bottomRight"==t?"slideInRight":"topLeft"==t||"bottomLeft"==t?"slideInLeft":void 0}}},cr=lr,dr=(a("ded3"),Object(l["a"])(cr,ir,nr,!1,null,"b3f7a06a",null)),ur=dr.exports;W()(dr,{VBtn:X["a"],VCard:Z["a"],VCol:tt["a"],VContainer:xt["a"],VImg:Mt["a"],VRow:ft["a"]});var mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{staticClass:"pa-0 mx-0 mb-4"},[a("v-col",{staticClass:"pa-0 ma-0"},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"py-2",attrs:{"primary-title":""}},[a("h5",{staticClass:"font-weight-regular subtitle-2 text-uppercase primary--text"},[t._v("CATEGORIAS")])]),a("v-divider"),a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-list",{attrs:{dense:"",flat:"",color:"grey lighten-3"}},[a("v-list-item-group",{attrs:{color:"primary"}},t._l(t.categories,(function(e,r){return a("v-list-item",{key:"category_filter_"+r,attrs:{disabled:!e.articles.length},on:{click:function(a){return t.onView("article_categories",e.slug)}}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"primary--text",style:{color:e.color}},[t._v(t._s(e.name)+" ("+t._s(e.articles.length)+")")])],1)],1)})),1)],1)],1)],1)],1)],1),a("v-row",{staticClass:"pa-0 mx-0 mb-4"},[a("v-col",{staticClass:"pa-0 ma-0"},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"py-2",attrs:{"primary-title":""}},[a("h5",{staticClass:"font-weight-regular subtitle-2 text-uppercase primary--text"},[t._v("MARCADORES")])]),a("v-divider"),a("v-card-text",{staticClass:"grey lighten-3"},[t._l(t.tags,(function(e){return[a("span",{key:"marcadoraside_"+e.id},[e.articles.length?a("v-chip",{staticClass:"ma-2 text-capitalize",attrs:{disabled:!e.articles.length,color:"primary",small:"",dark:""},on:{click:function(a){return t.onView("articles_by_tag",e.slug)}}},[t._v(t._s(e.name))]):t._e()],1)]}))],2)],1)],1)],1),a("v-row",{staticClass:"pa-0 mx-0 mb-4"},[a("v-col",{staticClass:"pa-0 ma-0"},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"py-2",attrs:{"primary-title":""}},[a("h5",{staticClass:"font-weight-regular subtitle-2 text-uppercase primary--text"},[t._v("ARTIGOS EM DESTAQUES")])]),a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-expansion-panels",{attrs:{flat:"",hover:""}},t._l(t.featured_articles,(function(e,r){return a("v-expansion-panel",{key:"side_article_"+r,staticClass:"px-0"},[a("v-expansion-panel-header",{staticClass:"subtitle-1 primary--text font-weight-bold"},[t._v(t._s(e.title))]),a("v-expansion-panel-content",[a("div",[t._v(t._s(t._f("truncate")(e.summary,100)))]),a("div",[a("v-btn",{staticClass:"text-none mt-2",attrs:{small:"",tile:"",color:"primary"},on:{click:function(a){return t.onView("read_article",e.slug)}}},[t._v("Ler artigo")])],1)])],1)})),1)],1)],1)],1)],1)],1)},pr=[],vr={name:"ArticleAside",mixins:[U,ie,O],created:function(){this.getAll(this.categories,"getArticlesByCategories"),this.getAll(this.tags,"getArticlesByTags")},computed:{featured_articles:function(){return this.$store.getters.featured_articles},categories:function(){return this.$store.getters.articles_by_categories},tags:function(){return this.$store.getters.articles_by_tags}}},fr=vr,hr=Object(l["a"])(fr,mr,pr,!1,null,null,null),_r=hr.exports;W()(hr,{VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VDivider:at["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VList:Tt["a"],VListItem:St["a"],VListItemContent:Lt["a"],VListItemGroup:Ot["a"],VListItemTitle:Lt["c"],VRow:ft["a"]});var gr={mixins:[pe,$,S,I,O,j,U,ie],data:function(){return{hover:!1}},created:function(){this.getAll(this.articles,"getPublishedArticles"),this.getAll(this.categories,"getArticlesByCategories"),this.getAll(this.tags,"getArticlesByTags")},computed:{featured_articles:function(){return this.$store.getters.featured_articles},articles:function(){return this.$store.getters.published_articles},categories:function(){return this.$store.getters.articles_by_categories},tags:function(){return this.$store.getters.articles_by_tags}},methods:{},components:{AppFeaturedArticleSlider:ur,ArticleAside:_r}},br=gr,xr=(a("2a08"),Object(l["a"])(br,sr,or,!1,null,"5ed2a95b",null)),yr=xr.exports;W()(xr,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VImg:Mt["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VSpacer:ot["a"]});var Dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","pt-0":"","mt-0":""}},[a("v-row",[a("v-col",{staticClass:"mt-0 pt-0"},[a("read-article",{attrs:{article:t.article,flat:!0}})],1)],1)],1)},Ar=[],Cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("v-card",{attrs:{flat:"",tile:""}},[a("v-img",{staticClass:"white--text align-end",attrs:{src:t.apiUrl+"/images/articles/covers/"+t.article.cover,height:"300"}},[a("v-card-title",{staticClass:"display-1 text-decoration-underline",domProps:{textContent:t._s(t.article.title)}})],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-row",[a("v-col",{staticClass:"grey--text",attrs:{cols:"12",align:"start"}},[a("div",[a("v-chip",{attrs:{label:"",color:t.article.category.color},on:{click:function(e){return t.onView("article_categories",t.article.category.slug)}}},[t._v(t._s(t.article.category.name))])],1),a("div",{staticClass:"font-weight-regular"},[a("small",[a("v-btn",{staticClass:"text-none pa-1",attrs:{text:"",small:"",color:"primary"},on:{click:function(e){return t.onView("articles_by_user",t.article.user.username)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-account-tie")]),a("span",[t._v(t._s(t.article.user.folk.name)+" "+t._s(t.article.user.folk.lastname))])],1),a("small",[t._v("em "+t._s(t.displayDate(t.article.created_at)))])],1)]),t.article.created_at!==t.article.updated_at?a("div",{staticClass:"font-weight-regular ml-1"},[a("v-icon",{attrs:{small:""}},[t._v("mdi-update")]),a("small",[a("small",[t._v("Atualizado em: "+t._s(t.displayDate(t.article.updated_at)))])])],1):t._e()])],1)],1),a("v-card-text",{staticClass:"text-none"},[a("div",{staticClass:"mb-6"},[a("h2",{staticClass:"font-weight-medium text-justify"},[t._v(t._s(t.article.summary))])]),a("div",[a("p",{domProps:{innerHTML:t._s(t.article.content)}})])]),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Marcadores:")])],1),a("v-col",{staticClass:"py-0 ml-3",attrs:{cols:"12"}},[t._l(t.article.tags,(function(e){return[a("v-chip",{key:"marcador_"+e.id,staticClass:"ma-2 text-capitalize",attrs:{color:"primary"}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[t._v("mdi-tag")])],1),t._v(" "+t._s(e.name)+" ")],1)]}))],2)],1)],1),a("v-divider"),a("v-card-actions",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Partilha:")])],1),a("v-col",{staticClass:"py-0 ml-4",attrs:{cols:"12"}},t._l(t.networks,(function(e){return a("ShareNetwork",{key:e.network,attrs:{network:e.network,url:t.sharing.url,title:t.sharing.title,description:t.sharing.description,quote:t.sharing.quote,hashtags:t.sharing.hashtags,twitterUser:t.sharing.twitterUser}},[a("v-btn",{staticClass:"ma-1 text-none",attrs:{outlined:"",small:"",color:e.color,tile:"",dark:""}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.name)+" ")],1)],1)})),1)],1)],1)],1)],1)])},wr=[],kr={mixins:[j,L,pe,U],props:["article","flat"],data:function(){return{sharing:{url:"https://anacao.cv/covid-19-aglomeracoes-para-inaugurar-obras-preocupa-municipes/",title:"Say hi to Vite! A brand new, extremely fast development setup for Vue.",description:'This week, I’d like to introduce you to "Vite", which means "Fast". It’s a brand new development setup created by Evan You.',quote:"The hot reload is so fast it's near instant. - Evan You",hashtags:"vuejs,vite,javascript",twitterUser:"youyuxi"},networks:[{network:"facebook",name:"Facebook",icon:"mdi-facebook",color:"#1877f2"},{network:"linkedin",name:"LinkedIn",icon:"mdi-linkedin",color:"#007bb5"},{network:"twitter",name:"Twitter",icon:"mdi-twitter",color:"#1da1f2"},{network:"email",name:"Email",icon:"mdi-email",color:"#333333"},{network:"evernote",name:"Evernote",icon:"mdi-evernote",color:"#2dbe60"},{network:"pinterest",name:"Pinterest",icon:"mdi-pinterest",color:"#bd081c"},{network:"whatsapp",name:"Whatsapp",icon:"mdi-whatsapp",color:"#25d366"}]}},components:{}},Vr=kr,Pr=(a("c766"),Object(l["a"])(Vr,Cr,wr,!1,null,"29698d89",null)),Er=Pr.exports;W()(Pr,{VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VRow:ft["a"],VSubheader:Xt["a"]});var Mr={mixins:[O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.articles,"getPublishedArticles")},computed:{articles:function(){return this.$store.getters.published_articles},article:function(){return this.$store.getters.published_article(this.slug)}},components:{ReadArticle:Er}},Tr=Mr,$r=Object(l["a"])(Tr,Dr,Ar,!1,null,null,null),Sr=$r.exports;W()($r,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[void 0!=t.category?a("v-alert",{attrs:{color:"primary",border:"left",elevation:"2","colored-border":"",icon:"mdi-check"}},[t._v(" Lista de artigos da categoria, "),void 0!=t.category?a("strong",{staticClass:"text-capitalize"},[t._v(t._s(t.category.name))]):t._e()]):t._e()],1),a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"8"}},[a("v-row",[t._l(t.articles_by_category,(function(e){return[a("v-col",{key:e.id,staticClass:"mx-1",attrs:{cols:"12",md:"4"}},[a("v-card",{staticClass:"mx-auto elevation-1",attrs:{tile:""},on:{click:function(a){return t.onView("read_article",e.slug)}}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"120",src:t.apiUrl+"/images/articles/covers/"+e.cover}},[a("v-card-title",{staticClass:"title font-weight-regular"},[t._v(t._s(e.title))])],1),a("v-card-text",{staticClass:"text--primary py-2"},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"grey--text text--darken-2 text-capitalize"},[t._v(t._s(t.dateForHumanPresentation(e.created_at)))])]),a("p",{staticClass:"font-weight-regular body-2"},[t._v(t._s(t._f("truncate")(e.summary,100)))])])],1)],1)]}))],2)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("article-aside")],1)],1)],1)},Lr=[],Or={mixins:[O,ie,U,pe],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.categories,"getArticlesByCategories"),this.getAll(this.articles,"getPublishedArticles")},computed:{articles:function(){return this.$store.getters.published_articles},articles_by_category:function(){return this.$store.getters.articles_by_category(this.slug)},categories:function(){return this.$store.getters.articles_by_categories},category:function(){return this.$store.getters.article_category(this.slug)}},components:{ArticleAside:_r}},Rr=Or,Ir=Object(l["a"])(Rr,Ur,Lr,!1,null,null,null),jr=Ir.exports;W()(Ir,{VAlert:J["a"],VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VImg:Mt["a"],VRow:ft["a"]});var qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Filtrado por utilizador ")])},Nr=[],Fr={},Gr=Object(l["a"])(Fr,qr,Nr,!1,null,null,null),zr=Gr.exports,Br=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{color:"primary",border:"left",elevation:"2","colored-border":"",icon:"mdi-check"}},[t._v(" Lista de artigos do marcador, "),void 0!=t.tag?a("strong",{staticClass:"text-capitalize"},[t._v(t._s(t.tag.name))]):t._e()])],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",[t._l(t.articles_by_tag,(function(e){return[a("v-col",{key:e.id,staticClass:"mx-1",attrs:{cols:"12",md:"4"}},[a("v-card",{staticClass:"mx-auto elevation-1",attrs:{tile:""},on:{click:function(a){return t.onView("read_article",e.slug)}}},[a("v-img",{staticClass:"white--text align-end",attrs:{height:"120",src:t.apiUrl+"/images/articles/covers/"+e.cover}},[a("v-card-title",{staticClass:"title font-weight-regular"},[t._v(t._s(e.title))])],1),a("v-card-text",{staticClass:"text--primary py-2"},[a("div",{staticClass:"my-2"},[a("span",{staticClass:"grey--text text--darken-2 text-capitalize"},[t._v(t._s(t.dateForHumanPresentation(e.created_at)))])]),a("p",{staticClass:"font-weight-regular body-2"},[t._v(t._s(t._f("truncate")(e.summary,100)))])])],1)],1)]}))],2)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("article-aside")],1)],1)],1)},Hr=[],Yr={mixins:[O,ie,U,pe],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.tags,"getArticlesByTags"),this.getAll(this.articles,"getPublishedArticles")},computed:{articles:function(){return this.$store.getters.published_articles},articles_by_tag:function(){return this.$store.getters.articles_by_tag(this.slug)},tags:function(){return this.$store.getters.articles_by_tags},tag:function(){return this.$store.getters.article_tag(this.slug)}},components:{ArticleAside:_r}},Kr=Yr,Wr=Object(l["a"])(Kr,Br,Hr,!1,null,null,null),Jr=Wr.exports;W()(Wr,{VAlert:J["a"],VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VImg:Mt["a"],VRow:ft["a"]});var Xr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},Zr=[],Qr={},ts=Object(l["a"])(Qr,Xr,Zr,!1,null,null,null),es=ts.exports,as=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",{attrs:{wrap:""}},[t.histories[0]?a("v-col",{staticClass:"py-0"},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"font-weight-regular primary--text",domProps:{textContent:t._s(t.histories[0].title)}}),a("v-spacer"),a("v-btn",{attrs:{color:"grey",icon:""}},[a("v-icon",[t._v("mdi-share-variant")])],1)],1),a("v-divider"),a("v-card-text",[a("p",{staticClass:"text-justify body-1"},[t._v(t._s(t.histories[0].content))])])],1)],1):t._e(),a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h4",{staticClass:"font-weight-regular primary--text"},[t._v("Marcos Históricos")]),a("v-spacer"),a("v-btn",{attrs:{color:"grey",icon:""}},[a("v-icon",[t._v("mdi-share-variant")])],1)],1),a("v-divider"),a("v-card-text",[a("v-timeline",[t._l(t.marks,(function(e,r){return[a("v-timeline-item",{key:"front_mark_"+r,attrs:{small:""}},[a("span",{staticClass:"primary--text",class:"subtitle-1 font-weight-bold",attrs:{slot:"opposite"},slot:"opposite"},[t._v(" "+t._s(t.displayDayAndMonth(e.begin))+" "),a("v-icon",[t._v("mdi-arrow-right-bold")]),t._v(" "+t._s(t.displayDayAndMonth(e.end))+" ")],1),a("div",{staticClass:"py-3"},[a("h2",{class:"headline font-weight-regular mb-3"},[t._v(t._s(e.title))]),a("div",{staticClass:"text-justify"},[t._v(t._s(e.description))])])])]}))],2)],1)],1)],1)],1)],1)},rs=[],ss={mixins:[O,pe],data:function(){return{}},created:function(){this.getAll(this.histories,"getHistories"),this.getAll(this.marks,"getMarks")},computed:{histories:function(){return this.$store.getters.histories},marks:function(){return this.$store.getters.marks}}},os=ss,is=a("8414"),ns=a("1e06"),ls=Object(l["a"])(os,as,rs,!1,null,null,null),cs=ls.exports;W()(ls,{VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSpacer:ot["a"],VTimeline:is["a"],VTimelineItem:ns["a"]});var ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[t._l(t.teams,(function(e,r){return[a("v-col",{key:"school_team_"+r,attrs:{cols:"12",md:"3",sm:"6",align:"center",justify:"center"}},[a("div",{staticClass:"team_display"},[a("v-avatar",{attrs:{size:"130",color:"primary",tile:""}},[a("img",{attrs:{src:t.apiUrl+"/images/app/resources/employees/"+e.perfil_photo,alt:"Foto de Perfil"}})]),a("div",{staticClass:"mt-2"},[a("h4",{staticClass:"text-none grey--text text--darken-3 font-weight-regular"},[t._v(t._s(e.folk.name+" "+e.folk.lastname))])]),a("div",{staticClass:"pa-0 ma-0"},[a("small",{staticClass:"text-none team_charge grey--text text--darken-1"},[t._v(t._s(e.charges[0].name))])])],1)])]}))],2)],1)},us=[],ms={mixins:[O],data:function(){return{}},created:function(){this.getAll(this.teams,"getTeams")},computed:{teams:function(){return this.$store.getters.teams}},methods:{}},ps=ms,vs=Object(l["a"])(ps,ds,us,!1,null,null,null),fs=vs.exports;W()(vs,{VAvatar:Et["a"],VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",[a("div",[t._v("Quadors")])])],1)],1)},_s=[],gs={},bs=Object(l["a"])(gs,hs,_s,!1,null,null,null),xs=bs.exports;W()(bs,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var ys=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("router-view")],1)},Ds=[],As={},Cs=Object(l["a"])(As,ys,Ds,!1,null,null,null),ws=Cs.exports,ks=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","py-2":""}},[a("v-row",[a("v-col",{staticClass:"pa-0",attrs:{cols:"12"}},[a("v-card",{staticClass:"pa-0",attrs:{tile:"",flat:""}},[a("v-tabs",{attrs:{"background-color":"transparent",color:"primary",left:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-cvt"}},[t._v("Cursos Via da Técnica")]),a("v-tab",{attrs:{href:"#tab-fp"}},[t._v("Formações Profissionais")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-cvt"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("course-presentation-card",{attrs:{courses:t.actived_courses,type:1}})],1)],1)],1),a("v-tab-item",{attrs:{value:"tab-fp"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("course-presentation-card",{attrs:{courses:t.actived_courses,type:2}})],1)],1)],1)],1)],1)],1)],1)],1)},Vs=[],Ps=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[t._l(t.courses,(function(e,r){return[e.type==t.type?a("v-col",{key:"coourse_cvt_"+r,staticClass:"pa-2",attrs:{cols:"12",md:"4",sm:"6"}},[a("v-card",{attrs:{tile:""}},[a("v-img",{attrs:{height:"130",src:t.apiUrl+"/images/app/courses/covers/"+e.cover}},[a("v-row",[a("v-col",{attrs:{aling:"end"}},[a("v-icon",[t._v("mdi-alert-decagram")])],1)],1)],1),a("v-card-title",{staticClass:"font-weight-regular"},[t._v(t._s(e.name))]),a("v-card-text",[a("v-row",{staticClass:"mx-0",attrs:{align:"center"}},[a("v-rating",{attrs:{value:4.5,color:"amber",dense:"","half-increments":"",readonly:"",size:"14"}}),a("div",{staticClass:"grey--text ml-4"},[t._v("4.5 (413)")])],1),a("div",{staticClass:"my-1 grey--text text-capitalize"},[t._v(t._s(t.dateForHumanPresentation(e.release)))]),a("div",[t._v(t._s(t._f("truncate")(e.description,100)))])],1),a("v-divider",{staticClass:"mx-4"}),a("v-card-actions",[a("v-btn",{staticClass:"text-none",attrs:{color:"primary",text:""},on:{click:function(a){return t.onView("course_info",e.slug)}}},[t._v("Detalhes")]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-share")])],1)],1)],1)],1):t._e()]}))],2)],1)},Es=[],Ms={mixins:[ie,U,pe],props:["courses","type"]},Ts=Ms,$s=a("1d4d"),Ss=Object(l["a"])(Ts,Ps,Es,!1,null,null,null),Us=Ss.exports;W()(Ss,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VRating:$s["a"],VRow:ft["a"],VSpacer:ot["a"]});var Ls={mixins:[O],data:function(){return{tab:null}},created:function(){this.getAll(this.actived_courses,"getActivedCourses")},computed:{actived_courses:function(){return this.$store.getters.actived_courses}},components:{CoursePresentationCard:Us}},Os=Ls,Rs=a("71a3"),Is=a("c671"),js=a("fe57"),qs=a("aac8"),Ns=a("9a96"),Fs=Object(l["a"])(Os,ks,Vs,!1,null,null,null),Gs=Fs.exports;W()(Fs,{VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"],VTab:Rs["a"],VTabItem:Is["a"],VTabs:js["a"],VTabsItems:qs["a"],VTabsSlider:Ns["a"]});var zs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","mt-0":"","pt-0":""}},[a("v-row",[a("v-col",[a("course-info",{attrs:{course:t.course}})],1)],1)],1)},Bs=[],Hs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:"",tile:""}},[a("v-img",{staticClass:"white--text align-end",attrs:{contain:"default.svg"==t.course.cover,src:t.apiUrl+"/images/app/courses/covers/"+t.course.cover,"aspect-ratio":"2.75"}},[a("v-col",{attrs:{align:"right"}},[a("v-chip",{staticClass:"ma-2",attrs:{dark:""}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-star")]),t._v(" "+t._s(t.displayDate(t.course.release))+" ")],1),a("v-chip",{staticClass:"ma-2",attrs:{dark:"",color:t.course.color}},[t._v("Duração: "+t._s(t.course.duration)+" "+t._s(t.courseDuration(t.course.duration,t.course.duration_type)))])],1)],1),a("v-card-title",{staticClass:"display-1 font-weight-regular text-decoration-underline",style:{color:t.course.color},attrs:{"primary-title":""}},[t._v(t._s(t.course.name))]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("p",{staticClass:"body-1 text-justify"},[t._v(t._s(t.course.description))])]),a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"title",style:{color:t.course.color}},[t._v("Perfil de acesso ao curso")])]),a("v-col",{attrs:{cols:"12"}},[a("p",[t._v(t._s(t.course.requirement))])]),a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"title",style:{color:t.course.color}},[t._v("Saídas do Profissional/Académicas")])]),a("v-col",{attrs:{cols:"12"}},[a("v-expansion-panels",{staticClass:"mb-6",attrs:{tile:"",focusable:""}},t._l(t.course.outcomes,(function(e,r){return a("v-expansion-panel",{key:"show_outcome_"+r},[a("v-expansion-panel-header",[t._v(t._s(e.name))]),a("v-expansion-panel-content",[t._v(t._s(e.description))])],1)})),1)],1),a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"title",style:{color:t.course.color}},[t._v("Disciplinas/Módulos deste curso")])]),a("v-col",{attrs:{cols:"12"}},[a("v-expansion-panels",{staticClass:"mb-6",attrs:{tile:"",inset:"",focusable:""}},t._l(t.course.disciplines,(function(e,r){return a("v-expansion-panel",{key:"show_course_"+r},[a("v-expansion-panel-header",[t._v(t._s(e.name))]),a("v-expansion-panel-content",[a("div",{staticClass:"my-2"},[t._v(t._s(e.description))]),a("v-divider"),a("div",{staticClass:"my-2"},[t._v(" Natureza da disciplina: "),a("v-chip",{attrs:{small:""}},[t._v(t._s(e.type))])],1)],1)],1)})),1)],1)],1)],1),a("v-card-actions",[a("div",t._l(t.networks,(function(e){return a("ShareNetwork",{key:e.network,attrs:{network:e.network,url:t.sharing.url,title:t.sharing.title,description:t.sharing.description,quote:t.sharing.quote,hashtags:t.sharing.hashtags,twitterUser:t.sharing.twitterUser}},[a("v-btn",{staticClass:"ma-1 text-none",attrs:{outlined:"",small:"",color:e.color,tile:"",dark:""}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.name)+" ")],1)],1)})),1),a("v-spacer"),a("small",{staticClass:"text-decoration-underline font-italic"},[t._v("Cordenador do curso: "+t._s(t.course.teachers[0].employee.folk.name)+" "+t._s(t.course.teachers[0].employee.folk.lastname))])],1)],1)],1)},Ys=[],Ks={data:function(){return{sharing:{url:"https://anacao.cv/covid-19-aglomeracoes-para-inaugurar-obras-preocupa-municipes/",title:"Say hi to Vite! A brand new, extremely fast development setup for Vue.",description:'This week, I’d like to introduce you to "Vite", which means "Fast". It’s a brand new development setup created by Evan You.',quote:"The hot reload is so fast it's near instant. - Evan You",hashtags:"vuejs,vite,javascript",twitterUser:"youyuxi"},networks:[{network:"facebook",name:"Facebook",icon:"mdi-facebook",color:"#1877f2"},{network:"linkedin",name:"LinkedIn",icon:"mdi-linkedin",color:"#007bb5"},{network:"twitter",name:"Twitter",icon:"mdi-twitter",color:"#1da1f2"}]}},mixins:[j,L,pe],props:["course","flat"],methods:{courseDuration:function(t,e){return t>1?1==e?"Anos":2==e?"Meses":"Dias":1==e?"Ano":2==e?"Mês":"Dia"}}},Ws=Ks,Js=Object(l["a"])(Ws,Hs,Ys,!1,null,null,null),Xs=Js.exports;W()(Js,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VDivider:at["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VIcon:st["a"],VImg:Mt["a"],VRow:ft["a"],VSpacer:ot["a"]});var Zs={mixins:[O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.courses,"getCourses")},computed:{courses:function(){return this.$store.getters.actived_courses},course:function(){return this.$store.getters.actived_course(this.slug)}},components:{CourseInfo:Xs}},Qs=Zs,to=Object(l["a"])(Qs,zs,Bs,!1,null,null,null),eo=to.exports;W()(to,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Admin raiz ")])},ro=[],so={},oo=Object(l["a"])(so,ao,ro,!1,null,null,null),io=oo.exports,no=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",[a("router-view")],1)],1)],1)},lo=[],co={},uo=Object(l["a"])(co,no,lo,!1,null,null,null),mo=uo.exports;W()(uo,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var po=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar utilizador na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("users","","APP_UPDATE_ALL_USERS_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1)],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.users,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.status",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!t.canActive(),loading:t.loadAtivaction[r.id],"x-small":"",text:"",color:1==r.status?"primary":"grey darken-2"},on:{click:function(e){return t.toggleStatus("toggleUserStatus",r.id,r.status,"Utilizador","getUsers")}}},[a("span",[t._v(t._s(1==r.status?"ativo":"desativo"))]),a("span",{staticClass:"custom-loader-class",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{small:""}},[t._v("mdi-dots-horizontal")])],1)])]}},{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:"",small:""},on:{click:function(e){return t.updateUserModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:"",small:""},on:{click:function(e){return t.onDelete("users",r.id,"APP_UPDATE_ALL_USERS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("v-card",{attrs:{id:"users-action"}},[a("v-speed-dial",{attrs:{color:"primary",bottom:"bottom",right:"right",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"primary",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.canAdd()?a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(e){return t.addUserModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-user"),a("update-user"),a("user-info",{attrs:{formData:t.user}})],1)],1)],1)},vo=[],fo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addUserModal,callback:function(e){t.addUserModal=e},expression:"addUserModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-plus")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("user-form",{attrs:{formData:t.formData}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddUser(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddUser(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddUserModal}},[t._v("Sair")])],1)],1)],1)},ho=[],_o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Dados de Pessoais")])],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errors.collect("name")},model:{value:t.formData.folk.name,callback:function(e){t.$set(t.formData.folk,"name",e)},expression:"formData.folk.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{dense:"",label:"Apelido*",name:"lastname",outlined:"","data-vv-name":"lastname","error-messages":t.errors.collect("lastname")},model:{value:t.formData.folk.lastname,callback:function(e){t.$set(t.formData.folk,"lastname",e)},expression:"formData.folk.lastname"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"",items:t.genders,"item-text":"name","item-value":"key",label:"Sexo"},model:{value:t.formData.folk.gender,callback:function(e){t.$set(t.formData.folk,"gender",e)},expression:"formData.folk.gender"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valBirthdateRef",staticStyle:{display:"none"},attrs:{name:"birthdate_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{ref:"birth_date_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|before:valBirthdateRef",expression:"'date_format:dd/MM/yyyy|before:valBirthdateRef'"}],attrs:{dense:"",outlined:"",name:"birthdate",value:t.formated(t.formData.folk.birthdate),label:"Nascimento","prepend-inner-icon":"mdi-calendar",readonly:"","data-vv-as":"birthdate","error-messages":t.errorMsg("folk.birthdate")||t.errors.collect("birthdate")}},r))]}}]),model:{value:t.birthdate_menu,callback:function(e){t.birthdate_menu=e},expression:"birthdate_menu"}},[a("v-date-picker",{ref:"birth_date_picker",attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.birthdate_menu=!1}},model:{value:t.formData.folk.birthdate,callback:function(e){t.$set(t.formData.folk,"birthdate",e)},expression:"formData.folk.birthdate"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Dados de autenticação")])],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",label:"Email*",name:"email",outlined:"","data-vv-name":"email","error-messages":t.errorMsg("email")||t.errors.collect("email")},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash",expression:"'required|alpha_dash'"}],attrs:{dense:"",label:"Utilizador*",name:"username",outlined:"","data-vv-name":"username","error-messages":t.errorMsg("username")||t.errors.collect("username")},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),t.disable_field?t._e():a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:"Utilizar Palavra passe padrão"},model:{value:t.defautPassword,callback:function(e){t.defautPassword=e},expression:"defautPassword"}})],1),t.disable_field?t._e():a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:8",expression:"'required|min:8'"}],ref:"password",attrs:{dense:"",name:"password",label:"Palavra Passe",type:"password",disabled:t.defautPassword,outlined:"","data-vv-name":"password","error-messages":t.errors.collect("password")},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t.disable_field?t._e():a("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{dense:"",name:"password",label:"Confirmar Palavra Passe",type:"password",disabled:t.defautPassword,outlined:"","data-vv-name":"password_confirmation","error-messages":t.errors.collect("password_confirmation")},model:{value:t.formData.password_confirmation,callback:function(e){t.$set(t.formData,"password_confirmation",e)},expression:"formData.password_confirmation"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Autorizações e Acessos")])],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"grey lighten-2"}},[t._v("Papeis/Funcções")]),a("v-expansion-panel-content",[a("v-card",{staticClass:"overflow-y-auto pa-2",attrs:{flat:"",height:"300"}},[t._l(t.roles,(function(e,r){return[a("v-checkbox",{key:"userrole_"+r,attrs:{dense:"","hide-details":"",label:e.name,value:e.id},model:{value:t.formData.roles,callback:function(e){t.$set(t.formData,"roles",e)},expression:"formData.roles"}})]}))],2)],1)],1)],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"grey lighten-2"}},[t._v("Permissções de acesso")]),a("v-expansion-panel-content",[a("v-card",{staticClass:"overflow-y-auto pa-2",attrs:{flat:"",height:"300"}},[t._l(t.permissions,(function(e,r){return[a("v-checkbox",{key:"userpermission_"+r,attrs:{dense:"","hide-details":"",label:e.name,value:e.id},model:{value:t.formData.permissions,callback:function(e){t.$set(t.formData,"permissions",e)},expression:"formData.permissions"}})]}))],2)],1)],1)],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-subheader",[t._v("Ativação")]),a("v-switch",{attrs:{dense:"",label:t.formData.status?"Ativo":"Inativo",color:"indigo",value:"","input-value":"true","hide-details":""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}})],1)],1)],1)],1)},go=[],bo={mixins:[T,$,R,O,pe,N],props:["formData","disable_field"],data:function(){return{selected:["John"],birthdate_menu:!1,formErrors:[],hasError:!1,genders:[{key:"0",name:"Masculino"},{key:"1",name:"Feminino"}],defautPassword:!0}},watch:{birthdate_menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.birth_date_picker.activePicker="YEAR"}))}},computed:{roles:function(){return this.$store.getters.roles},permissions:function(){return this.$store.getters.permissions}},created:function(){var t=this;this.getAll(this.permissions,"getPermissions"),this.getAll(this.roles,"getRoles"),window.getApp.$on("APP_ADD_USER",(function(e){t.add(e,"users",t.$props.formData,"APP_UPDATE_ALL_USERS_DATA","APP_ADD_USER_MODAL")})),window.getApp.$on("APP_UPDATE_USER",(function(){t.update("users/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_USER_MODAL")}))}},xo=bo,yo=a("c6a6"),Do=a("ac7c"),Ao=a("b73d"),Co=Object(l["a"])(xo,_o,go,!1,null,null,null),wo=Co.exports;W()(Co,{VAutocomplete:yo["a"],VCard:Z["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VForm:rt["a"],VMenu:jt["a"],VRow:ft["a"],VSubheader:Xt["a"],VSwitch:Ao["a"],VTextField:it["a"]});var ko={data:function(){return{addUserModal:!1,defautPassWord:!0,formData:{folk:{name:"",lastname:"",gender:"",birthdate:(new Date).toISOString().substr(0,10)},username:"",email:"",password:"",password_confirmation:"",roles:[],permissions:[]}}},created:function(){var t=this;window.getApp.$on("APP_ADD_USER_MODAL",(function(){t.handleAddUserModal()}))},components:{UserForm:wo},methods:{handleAddUserModal:function(){this.addUserModal=!this.addUserModal},handleAddUser:function(t){window.getApp.$emit("APP_ADD_USER",t)}}},Vo=ko,Po=Object(l["a"])(Vo,fo,ho,!1,null,null,null),Eo=Po.exports;W()(Po,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Mo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"940px",persistent:""},model:{value:t.userInfoModal,callback:function(e){t.userInfoModal=e},expression:"userInfoModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-information")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[t._v("Informa;\\ao de utilizador"+t._s(t.formData.username))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleUserInfoModal}},[t._v("Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.handleUpdateUserModal()}}},[t._v("Editar")])],1)],1)],1)},To=[],$o={props:["formData"],data:function(){return{disable_field:!0,userInfoModal:!1}},created:function(){var t=this;window.getApp.$on("APP_USER_INFO_MODAL",(function(){t.handleUserInfoModal()}))},methods:{handleUserInfoModal:function(){this.userInfoModal=!this.userInfoModal},handleUserInfo:function(){window.getApp.$emit("APP_USER_INFO")},handleUpdateUserModal:function(){window.getApp.$emit("APP_UPDATE_USER_MODAL",this.formData)}}},So=$o,Uo=Object(l["a"])(So,Mo,To,!1,null,null,null),Lo=Uo.exports;W()(Uo,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Oo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateUserModal,callback:function(e){t.updateUserModal=e},expression:"updateUserModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("user-form",{attrs:{formData:t.formData,disable_field:t.disable_field}})],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdateUser(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateUserModel}},[t._v("Sair")])],1)],1)],1)},Ro=[],Io={data:function(){return{disable_field:!0,updateUserModal:!1,defautPassWord:!0,tempUser:[],formData:{folk:{name:"",lastname:"",gender:"",birthdate:(new Date).toISOString().substr(0,10)},id:"",username:"",email:"",status:"",password:"",password_confirmation:"",roles:[],permissions:[]}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_USER_MODAL",(function(e){t.setUserUpdateForm(e),t.handleUpdateUserModal()}))},components:{UserForm:wo},methods:{setUserUpdateForm:function(t){if(t){this.formData.id=t.id,this.formData.username=t.username,this.formData.email=t.email,this.formData.status=t.status,this.formData.folk.name=t.folk.name,this.formData.folk.lastname=t.folk.lastname,this.formData.folk.gender=t.folk.gender,this.formData.folk.birthdate=t.folk.birthdate,this.formData.roles=[],this.formData.permissions=[];var e=this;t.roles&&t.roles.forEach((function(t){e.formData.roles.push(t.id)})),t.permissions&&t.permissions.forEach((function(t){e.formData.permissions.push(t.id)}))}},handleUpdateUserModal:function(){window.getApp.$emit("APP_UPDATE_ALL_USERS_DATA"),this.updateUserModal=!this.updateUserModal},closeUpdateUserModel:function(){this.formData={folk:{name:"",lastname:"",gender:"",birthdate:(new Date).toISOString().substr(0,10)},id:"",username:"",email:"",status:"",password:"",password_confirmation:"",roles:[],permissions:[]},this.updateUserModal=!this.updateUserModal},handleUpdateUser:function(){window.getApp.$emit("APP_UPDATE_USER")}}},jo=Io,qo=Object(l["a"])(jo,Oo,Ro,!1,null,null,null),No=qo.exports;W()(qo,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Fo={mixins:[$,S,O,I,j,q],data:function(){return{activedUsers:[],fab:!1,search:"",selected:[],users_id:[],headers:[{text:"Nome",value:"folk.name"},{text:"Apelido",value:"folk.lastname"},{text:"Utilizador",value:"username"},{text:"Estado",value:"status",align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"}],user:[]}},computed:{users:function(){return this.$store.getters.users}},created:function(){var t=this;this.getAll(this.users,"getUsers"),window.getApp.$on("APP_UPDATE_ALL_USERS_DATA",(function(){t.refresh("getUsers")}))},components:{AddUser:Eo,UpdateUser:No,UserInfo:Lo},methods:{addUserModal:function(){window.getApp.$emit("APP_ADD_USER_MODAL")},updateUserModal:function(t){this.user=this.getSingle("users",t,this.users),window.getApp.$emit("APP_UPDATE_USER_MODAL",this.user)},userInfoModal:function(t){this.user=this.getSingle("users",t,this.users),window.getApp.$emit("APP_USER_INFO_MODAL",this.user)}}},Go=Fo,zo=(a("3b53"),a("8fea")),Bo=a("c73b"),Ho=a("71d9"),Yo=Object(l["a"])(Go,po,vo,!1,null,"485da479",null),Ko=Yo.exports;W()(Yo,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSpeedDial:Bo["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("list-permissions")],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("list-roles")],1)],1)],1)},Jo=[],Xo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar permissões na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("permissions","","APP_UPDATE_ALL_PERMISSIONS_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addPermissionModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.permissions,"items-per-page":5,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.updatePermissionModal(r.id)}}},[t._v("editar")]):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"warning","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.onDelete("permissions",r.id,"APP_UPDATE_ALL_PERMISSIONS_DATA")}}},[t._v("eliminar")]):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-permission"),a("update-permission")],1)],1)],1)},Zo=[],Qo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:t.addPermissionModal,callback:function(e){t.addPermissionModal=e},expression:"addPermissionModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-plus")]),t._v(" Criar Permissão ")],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("permission-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddPermission(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddPermission(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddPermissionModal}},[t._v("Sair")])],1)],1)],1)},ti=[],ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mt-2 mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("small",[t._v("Associar funções a esta permissão")])]),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"grey lighten-2"}},[t._v("Papeis/Funcções")]),a("v-expansion-panel-content",[a("v-card",{staticClass:"overflow-y-auto pa-2",attrs:{flat:"",height:"300"}},[t._l(t.roles,(function(e,r){return[a("v-checkbox",{key:"roleper_"+r,attrs:{dense:"","hide-details":"",label:e.name,value:e.id},model:{value:t.formData.roles,callback:function(e){t.$set(t.formData,"roles",e)},expression:"formData.roles"}})]}))],2)],1)],1)],1)],1)],1)],1)],1)},ai=[],ri={mixins:[T,$,R,N],props:["formData"],computed:{roles:function(){return this.$store.getters.roles}},created:function(){var t=this;window.getApp.$on("APP_ADD_PERMISSION",(function(e){t.add(e,"permissions",t.$props.formData,"APP_UPDATE_ALL_PERMISSIONS_DATA","APP_ADD_PERMISSION_MODAL")})),window.getApp.$on("APP_UPDATE_PERMISSION",(function(){t.update("permissions/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_PERMISSION_MODAL")}))}},si=ri,oi=Object(l["a"])(si,ei,ai,!1,null,null,null),ii=oi.exports;W()(oi,{VCard:Z["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"]});var ni={data:function(){return{addPermissionModal:!1,formData:{name:"",roles:[]}}},created:function(){var t=this;window.getApp.$on("APP_ADD_PERMISSION_MODAL",(function(){t.handleAddPermissionModal()}))},components:{PermissionForm:ii},methods:{handleAddPermissionModal:function(){this.addPermissionModal=!this.addPermissionModal},handleAddPermission:function(t){window.getApp.$emit("APP_ADD_PERMISSION",t)}}},li=ni,ci=Object(l["a"])(li,Qo,ti,!1,null,null,null),di=ci.exports;W()(ci,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px",persistent:""},model:{value:t.updatePermissionModal,callback:function(e){t.updatePermissionModal=e},expression:"updatePermissionModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")]),t._v("Etitar Permissão ")],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("permission-form",{attrs:{formData:t.formData,type:"permission"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdatePermission(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleUpdatePermissionModal}},[t._v("Sair")])],1)],1)],1)},mi=[],pi={data:function(){return{updatePermissionModal:!1,formData:{id:"",name:"",roles:[]}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_PERMISSION_MODAL",(function(e){t.setPermissionUpdateForm(e),t.handleUpdatePermissionModal()}))},components:{PermissionForm:ii},methods:{setPermissionUpdateForm:function(t){if(t){this.formData.id=t.id,this.formData.name=t.name;var e=this;this.formData.roles=[],t.roles&&t.roles.forEach((function(t){e.formData.roles.push(t.id)}))}},handleUpdatePermissionModal:function(){window.getApp.$emit("APP_UPDATE_ALL_PERMISSIONS_DATA"),this.updatePermissionModal=!this.updatePermissionModal},handleUpdatePermission:function(){window.getApp.$emit("APP_UPDATE_PERMISSION")}}},vi=pi,fi=Object(l["a"])(vi,ui,mi,!1,null,null,null),hi=fi.exports;W()(fi,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var _i={mixins:[$,S,I,O,j],data:function(){return{umteste:3,fab:!1,search:"",permissions_id:[],headers:[{text:"Nome",value:"name"},{text:"Operação",align:"center",sortable:!1,value:"action"}],permission:[]}},computed:{permissions:function(){return this.$store.getters.permissions}},created:function(){var t=this;this.getAll(this.permissions,"getPermissions"),window.getApp.$on("APP_UPDATE_ALL_PERMISSIONS_DATA",(function(){t.refresh("getPermissions")}))},components:{AddPermission:di,UpdatePermission:hi},methods:{addPermissionModal:function(){window.getApp.$emit("APP_ADD_PERMISSION_MODAL")},updatePermissionModal:function(t){this.permission=this.getSingle("permissions",t,this.permissions),window.getApp.$emit("APP_UPDATE_PERMISSION_MODAL",this.permission)}}},gi=_i,bi=(a("a14d"),Object(l["a"])(gi,Xo,Zo,!1,null,"36973e16",null)),xi=bi.exports;W()(bi,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var yi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar funções yes na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canEdit()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("roles","","APP_UPDATE_ALL_ROLES_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addRoleModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.roles,"items-per-page":5,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.updateRoleModal(r.id)}}},[t._v("editar")]):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"warning","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.onDelete("roles",r.id,"APP_UPDATE_ALL_ROLES_DATA")}}},[t._v("eliminar")]):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')]),a("v-data-footer",[t._v("testtrtrtr")])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-role"),a("update-role")],1)],1)],1)},Di=[],Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"500px",persistent:""},model:{value:t.addRoleModal,callback:function(e){t.addRoleModal=e},expression:"addRoleModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-plus")]),t._v(" Criar Função ")],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("role-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddRole(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddRole(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddRoleModal}},[t._v("Sair")])],1)],1)],1)},Ci=[],wi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mt-2 mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("small",[t._v("Associar permissões a esta função")])]),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{color:"grey lighten-2"}},[t._v("Permissões de acesso")]),a("v-expansion-panel-content",[a("v-card",{staticClass:"overflow-y-auto pa-2",attrs:{flat:"",height:"300"}},[t._l(t.permissions,(function(e,r){return[a("v-checkbox",{key:"perrole"+r,attrs:{dense:"","hide-details":"",label:e.name,value:e.id},model:{value:t.formData.permissions,callback:function(e){t.$set(t.formData,"permissions",e)},expression:"formData.permissions"}})]}))],2)],1)],1)],1)],1)],1)],1)],1)},ki=[],Vi={mixins:[T,$,R,N],props:["formData"],computed:{permissions:function(){return this.$store.getters.permissions}},created:function(){var t=this;window.getApp.$on("APP_ADD_ROLE",(function(e){t.add(e,"roles",t.$props.formData,"APP_UPDATE_ALL_ROLES_DATA","APP_ADD_ROLE_MODAL")})),window.getApp.$on("APP_UPDATE_ROLE",(function(){t.update("roles/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_ROLE_MODAL")}))}},Pi=Vi,Ei=Object(l["a"])(Pi,wi,ki,!1,null,null,null),Mi=Ei.exports;W()(Ei,{VCard:Z["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VExpansionPanel:La["a"],VExpansionPanelContent:Oa["a"],VExpansionPanelHeader:Ra["a"],VExpansionPanels:Ia["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"]});var Ti={data:function(){return{addRoleModal:!1,formData:{name:"",permissions:[]}}},created:function(){var t=this;window.getApp.$on("APP_ADD_ROLE_MODAL",(function(){t.handleAddRoleModal()}))},components:{RoleForm:Mi},methods:{handleAddRoleModal:function(){this.addRoleModal=!this.addRoleModal},handleAddRole:function(t){window.getApp.$emit("APP_ADD_ROLE",t)}}},$i=Ti,Si=Object(l["a"])($i,Ai,Ci,!1,null,null,null),Ui=Si.exports;W()(Si,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Li=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"500px",persistent:""},model:{value:t.updateRoleModal,callback:function(e){t.updateRoleModal=e},expression:"updateRoleModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")]),t._v("Editar Função ")],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("role-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdateRole(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleUpdateRoleModal}},[t._v("Sair")])],1)],1)],1)},Oi=[],Ri={data:function(){return{updateRoleModal:!1,formData:{id:"",name:"",permissions:[]}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_ROLE_MODAL",(function(e){t.setRoleUpdateForm(e),t.handleUpdateRoleModal()}))},components:{RoleForm:Mi},methods:{setRoleUpdateForm:function(t){if(t){this.formData.permissions=[],this.formData.id=t.id,this.formData.name=t.name;var e=this;t.permissions&&t.permissions.forEach((function(t){e.formData.permissions.push(t.id)}))}},handleUpdateRoleModal:function(){window.getApp.$emit("APP_UPDATE_ALL_ROLES_DATA"),this.updateRoleModal=!this.updateRoleModal},handleUpdateRole:function(){window.getApp.$emit("APP_UPDATE_ROLE")}}},Ii=Ri,ji=Object(l["a"])(Ii,Li,Oi,!1,null,null,null),qi=ji.exports;W()(ji,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Ni={mixins:[$,S,I,O,j],data:function(){return{fab:!1,search:"",selected:[],roles_id:[],headers:[{text:"Nome",value:"name"},{text:"Operação",align:"center",sortable:!1,value:"action"}],role:[],deleted:!1}},computed:{roles:function(){return this.$store.getters.roles}},created:function(){var t=this;this.getAll(this.roles,"getRoles"),window.getApp.$on("APP_UPDATE_ALL_ROLES_DATA",(function(){t.refresh("getRoles")}))},components:{AddRole:Ui,UpdateRole:qi},methods:{addRoleModal:function(){window.getApp.$emit("APP_ADD_ROLE_MODAL")},updateRoleModal:function(t){this.role=this.getSingle("roles",t,this.roles),window.getApp.$emit("APP_UPDATE_ROLE_MODAL",this.role)}}},Fi=Ni,Gi=(a("03a1"),a("f41f")),zi=Object(l["a"])(Fi,yi,Di,!1,null,"b513bfe4",null),Bi=zi.exports;W()(zi,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataFooter:Gi["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Hi={components:{ListPermissions:xi,ListRoles:Bi}},Yi=Hi,Ki=Object(l["a"])(Yi,Wo,Jo,!1,null,null,null),Wi=Ki.exports;W()(Ki,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",[a("router-view")],1)],1)],1)},Xi=[],Zi={},Qi=Object(l["a"])(Zi,Ji,Xi,!1,null,null,null),tn=Qi.exports;W()(Qi,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var en=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",[a("v-card",{attrs:{tile:""}},[a("v-card-title",{attrs:{"primary-title":""}},[t._v(" Ações ")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-row",[t._l(t.articles,(function(e,r){return[a("v-col",{key:r,attrs:{cols:"12",md:"4"}},[a("v-card",[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-1"},[t._v(t._s(e.title))]),a("v-list-item-subtitle",[t._v(" Autor: "),a("span",{staticClass:"font-italic"},[t._v(t._s(e.user.folk.name)+" "+t._s(e.user.folk.lastname))])])],1)],1),a("v-img",{attrs:{src:t.apiUrl+"/images/articles/covers/"+e.cover,height:"120"}}),a("v-card-actions",[a("v-btn",{attrs:{small:"",color:"info",icon:""},on:{click:function(a){return t.onView("view_article",e.slug)}}},[a("v-icon",[t._v("mdi-information-variant")])],1),a("v-btn",{attrs:{small:"",color:"warning",icon:""},on:{click:function(a){return t.onUpdate("update_article",e.slug)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{small:"",color:"error",icon:""},on:{click:function(a){return t.onDelete("articles",e.id,"APP_UPDATE_ALL_ARTICLES_DATA")}}},[a("v-icon",[t._v("mdi-trash-can-outline")])],1),a("v-spacer"),a("v-btn",{staticClass:"text-none",attrs:{tile:"",color:e.featuring?"success":"info","x-small":""},on:{click:function(a){return t.toggleStatus("featuredArticle",e.id,e.featuring,"Artigo","getArticles")}}},[t._v(t._s(e.featuring?"Destaque":"Normal"))]),a("v-btn",{staticClass:"text-none",attrs:{tile:"",color:e.status?"primary":"error","x-small":""},on:{click:function(a){return t.toggleStatus("publishArticle",e.id,e.status,"Artigo","getArticles")}}},[t._v(t._s(e.status?"Publicado":"Pendente"))])],1)],1)],1)]}))],2)],1)],1)],1),a("v-divider"),a("v-card-actions",[t._v("Navegação")])],1)],1)],1),a("v-row",[a("v-col",[a("v-card",{attrs:{id:"articles-action"}},[a("v-speed-dial",{attrs:{color:"primary",bottom:"bottom",right:"right",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"primary",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.canAdd()?a("v-btn",{attrs:{to:{name:"add_article"},fab:"",dark:"",small:"",color:"primary"}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1)],1)],1)],1)],1)},an=[],rn={mixins:[$,S,I,O,j,U,ie,q],data:function(){return{value:"",fab:!1,rows:["10","20","50","100","200"]}},computed:{articles:function(){return this.$store.getters.articles},published_articles:function(){return this.$store.getters.published_articles}},created:function(){var t=this;this.getAll(this.articles,"getArticles"),this.getAll(this.published_articles,"getPublishedArticles"),window.getApp.$on("APP_UPDATE_ALL_ARTICLES_DATA",(function(){t.refresh("getArticles"),t.refresh("getPublishedArticles")}))}},sn=rn,on=(a("587e"),Object(l["a"])(sn,en,an,!1,null,"7573a404",null)),nn=on.exports;W()(on,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:tt["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VListItem:St["a"],VListItemContent:Lt["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VRow:ft["a"],VSpacer:ot["a"],VSpeedDial:Bo["a"]});var ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-text-box-plus")]),a("small",[t._v(" Criar Publicação")])],1)]),a("v-card-text",[a("article-form",{attrs:{formData:t.formData,update_form:!1}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.onAddArticle(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.onAddArticle(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.redirectTo("list_articles")}}},[t._v("Sair")])],1)],1)},cn=[],dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{fluid:"","grid-list-xs":""}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"9"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Título da Publicação*",name:"name",outlined:"",autofocus:"","data-vv-validate-on":"blur","data-vv-name":"title","error-messages":t.errorMsg("title")||t.errors.collect("title")},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"3"}},[a("v-file-input",{directives:[{name:"validate",rawName:"v-validate",value:t.update_form?"":"required",expression:"!update_form?'required':''"}],attrs:{dense:"",outlined:"",placeholder:t.update_form?"Alterar Imagem":"Imagem de fundo","prepend-icon":"mdi-camera","show-size":"",rules:t.coverRules,"data-vv-name":"image","error-messages":t.errors.collect("image")},on:{change:t.onFileUpload},model:{value:t.imgTemp,callback:function(e){t.imgTemp=e},expression:"imgTemp"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],attrs:{dense:"",label:"Resumo da publicação*",name:"summary",hint:"Apresente um greve resumo da sua publicação",outlined:"",rows:"2",counter:"","data-vv-name":"summary","error-messages":t.errorMsg("summary")||t.errors.collect("summary")},model:{value:t.formData.summary,callback:function(e){t.$set(t.formData,"summary",e)},expression:"formData.summary"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"9"}},[a("tinymce",{ref:"tm_editor",attrs:{id:"d1"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"3"}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"","no-data-text":"Nenhuma categoria com este nome","hide-selected":"",label:"Selecionar uma categoria*",clearable:"",items:t.categories,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"category","error-messages":t.errors.collect("category")},model:{value:t.formData.category_id,callback:function(e){t.$set(t.formData,"category_id",e)},expression:"formData.category_id"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{"small-chips":"",dense:"",outlined:"","no-data-text":"Marcador não encontrado","hide-selected":"",label:"Indicar Marcadores",clearable:"",multiple:"",chips:"","deletable-chips":"",items:t.tags,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-tag-outline"},model:{value:t.formData.tags,callback:function(e){t.$set(t.formData,"tags",e)},expression:"formData.tags"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{label:"Publicar esta publicação"},on:{change:function(e){return t.setDisableArticleStartDate()}},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Colocar em destaque",color:"primary",value:"","input-value":"true","hide-details":""},model:{value:t.formData.featuring,callback:function(e){t.$set(t.formData,"featuring",e)},expression:"formData.featuring"}})],1),a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("v-divider"),a("v-subheader",[t._v("Definir data de publicação (Opcional)")])],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valStartRef",staticStyle:{display:"none"},attrs:{name:"start_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|after:valStartRef",expression:"'date_format:dd/MM/yyyy|after:valStartRef'"}],attrs:{disabled:t.formData.status,dense:"",outlined:"",name:"start",value:t.formated(t.formData.start),label:"Início","prepend-inner-icon":"mdi-calendar-arrow-right",readonly:"","data-vv-as":"start","error-messages":t.errorMsg("start")||t.errors.collect("start")}},r))]}}]),model:{value:t.start_menu,callback:function(e){t.start_menu=e},expression:"start_menu"}},[a("v-date-picker",{attrs:{"no-title":"",min:(new Date).toISOString().substr(0,10),locale:"pt-pt"},on:{input:function(e){t.start_menu=!1}},model:{value:t.formData.start,callback:function(e){t.$set(t.formData,"start",e)},expression:"formData.start"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.initialEndDate,expression:"initialEndDate"}],ref:"valEndRef",staticStyle:{display:"none"},attrs:{name:"end_field_target",type:"text"},domProps:{value:t.initialEndDate},on:{input:function(e){e.target.composing||(t.initialEndDate=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|after:valEndRef",expression:"'date_format:dd/MM/yyyy|after:valEndRef'"}],attrs:{dense:"",outlined:"",name:"end",value:t.formated(t.formData.end),label:"Fím","prepend-inner-icon":"mdi-calendar-arrow-left",readonly:"","data-vv-as":"end","error-messages":t.errorMsg("end")||t.errors.collect("end")}},r))]}}]),model:{value:t.end_menu,callback:function(e){t.end_menu=e},expression:"end_menu"}},[a("v-date-picker",{attrs:{"no-title":"",min:t.formData.start||(new Date).toISOString().substr(0,10),locale:"pt-pt"},on:{input:function(e){t.end_menu=!1}},model:{value:t.formData.end,callback:function(e){t.$set(t.formData,"end",e)},expression:"formData.end"}})],1)],1)],1)],1)],1)],1)],1)},un=[],mn={mixins:[T,pe,R,O,N],props:["formData","update_form"],data:function(){return{start_menu:!1,end_menu:!1,imgTemp:null,coverRules:[function(t){return!!t||"File is required"},function(t){return!t||t.size<2e6||"Imagem de capa não pode ter um tamanho superior a 2MB"}]}},computed:{categories:function(){return this.$store.getters.categories},tags:function(){return this.$store.getters.tags},initialEndDate:function(){return window.moment(this.$props.formData.start).format("DD/MM/YYYY")}},created:function(){var t=this;this.getAll(this.categories,"getCategories"),this.getAll(this.tags,"getTags"),window.getApp.$on("APP_ADD_ARTICLE",(function(e){t.add(e,"articles",t.$props.formData,"APP_UPDATE_ALL_ARTICLES_DATA","APP_CANCEL_ADD_ARTICLE",!1,"list_articles")})),window.getApp.$on("APP_UPDATE_ARTICLE",(function(){t.update("articles/"+t.$props.formData.slug,t.$props.formData,"APP_UPDATE_ALL_ARTICLES_DATA",!1,"list_articles")}))},methods:{setDisableArticleStartDate:function(){this.formData.start=""},onFileUpload:function(t){var e=this,a=new FileReader;try{a.readAsDataURL(t),a.onload=function(t){e.formData.cover=t.target.result}}catch(r){console.log(r)}}},components:{}},pn=mn,vn=a("23a7"),fn=Object(l["a"])(pn,dn,un,!1,null,null,null),hn=fn.exports;W()(fn,{VAutocomplete:yo["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDivider:at["a"],VFileInput:vn["a"],VForm:rt["a"],VMenu:jt["a"],VRow:ft["a"],VSubheader:Xt["a"],VSwitch:Ao["a"],VTextField:it["a"],VTextarea:Qe["a"]});var _n={mixins:[L],data:function(){return{formData:{title:"",summary:"",content:"",status:!1,featuring:!1,start:"",end:"",cover:null,user:"",category_id:"",tags:[]}}},created:function(){var t=this;window.getApp.$on("APP_CANCEL_ADD_ARTICLE",(function(){t.redirectTo("list_articles")}))},components:{ArticleForm:hn},methods:{onAddArticle:function(t){window.getApp.$emit("APP_VALIDATE_DATE"),window.getApp.$emit("APP_ADD_ARTICLE",t)}}},gn=_n,bn=Object(l["a"])(gn,ln,cn,!1,null,null,null),xn=bn.exports;W()(bn,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VIcon:st["a"],VSpacer:ot["a"]});var yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("read-article",{attrs:{article:t.article}})],1)],1)},Dn=[],An={mixins:[O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.articles,"getArticles")},computed:{articles:function(){return this.$store.getters.articles},article:function(){return this.$store.getters.article(this.slug)}},components:{ReadArticle:Er}},Cn=An,wn=Object(l["a"])(Cn,yn,Dn,!1,null,null,null),kn=wn.exports;W()(wn,{VContainer:xt["a"],VLayout:Ja["a"]});var Vn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.article?a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")]),a("small",[t._v(" Editar Publicação")])],1)]),a("v-card-text",[a("article-form",{attrs:{formData:t.article,update_form:!0}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.onUpdateArticle()}}},[t._v("Guadar Alteração")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.redirectTo("list_articles")}}},[t._v("Saír")])],1)],1):t._e()},Pn=[],En={mixins:[O,j,L],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.articles,"getArticles")},computed:{articles:function(){return this.$store.getters.articles},article:function(){return this.$store.getters.article(this.slug)}},components:{ArticleForm:hn},methods:{onUpdateArticle:function(){window.getApp.$emit("APP_UPDATE_ARTICLE")}}},Mn=En,Tn=Object(l["a"])(Mn,Vn,Pn,!1,null,null,null),$n=Tn.exports;W()(Tn,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VIcon:st["a"],VSpacer:ot["a"]});var Sn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-tags")],1)],1)],1)},Un=[],Ln=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar utilizador na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("tags","","APP_UPDATE_ALL_TAGS_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addTagModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.tags,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.updateTagModal(r.id)}}},[t._v("editar")]):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"warning","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.onDelete("tags",r.id,"APP_UPDATE_ALL_TAGS_DATA")}}},[t._v("eliminar")]):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-tag"),a("update-tag")],1)],1)],1)},On=[],Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addTagModal,callback:function(e){t.addTagModal=e},expression:"addTagModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-tag-plus")]),a("small",[t._v(" Criar Marcador")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("tag-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddTag(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddTag(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddTagModal}},[t._v("Sair")])],1)],1)],1)},In=[],jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mt-2 mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:250",expression:"'max:250'"}],attrs:{dense:"",label:"Descrição do marcador (Opcional)",name:"description",hint:"Apresente um pequena descrição deste marcador","persistent-hint":"",outlined:"",rows:"4",counter:"","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1)],1)},qn=[],Nn={mixins:[T,$,R,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;window.getApp.$on("APP_ADD_TAG",(function(e){t.add(e,"tags",t.$props.formData,"APP_UPDATE_ALL_TAGS_DATA","APP_ADD_TAG_MODAL")})),window.getApp.$on("APP_UPDATE_TAG",(function(){t.update("tags/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_TAG_MODAL")}))}},Fn=Nn,Gn=Object(l["a"])(Fn,jn,qn,!1,null,null,null),zn=Gn.exports;W()(Gn,{VCol:tt["a"],VContainer:xt["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var Bn={data:function(){return{addTagModal:!1,formData:{name:"",description:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_TAG_MODAL",(function(){t.handleAddTagModal()}))},components:{TagForm:zn},methods:{handleAddTagModal:function(){this.addTagModal=!this.addTagModal},handleAddTag:function(t){window.getApp.$emit("APP_ADD_TAG",t)}}},Hn=Bn,Yn=Object(l["a"])(Hn,Rn,In,!1,null,null,null),Kn=Yn.exports;W()(Yn,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateTagModal,callback:function(e){t.updateTagModal=e},expression:"updateTagModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("small",[t._v(" Criar Marcador")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("tag-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdateTag(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateTagModel}},[t._v("Sair")])],1)],1)],1)},Jn=[],Xn={data:function(){return{updateTagModal:!1,formData:{id:"",name:"",roles:[]}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_TAG_MODAL",(function(e){e&&t.setTagUpdateForm(e),t.handleUpdateTagModal()}))},components:{TagForm:zn},methods:{setTagUpdateForm:function(t){this.formData=t},handleUpdateTagModal:function(){window.getApp.$emit("APP_UPDATE_ALL_TAGS_DATA"),this.updateTagModal=!this.updateTagModal},closeUpdateTagModel:function(){this.formData={name:"",roles:[]},this.updateTagModal=!this.updateTagModal},handleUpdateTag:function(){window.getApp.$emit("APP_UPDATE_TAG")}}},Zn=Xn,Qn=Object(l["a"])(Zn,Wn,Jn,!1,null,null,null),tl=Qn.exports;W()(Qn,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var el={mixins:[$,S,I,O,j],data:function(){return{fab:!1,search:"",tags_id:[],headers:[{text:"Nome",value:"name"},{text:"Descrição",value:"description"},{text:"Operação",align:"center",sortable:!1,value:"action"}],tag:[]}},computed:{tags:function(){return this.$store.getters.tags}},created:function(){var t=this;this.getAll(this.tags,"getTags"),window.getApp.$on("APP_UPDATE_ALL_TAGS_DATA",(function(){t.refresh("getTags")}))},components:{AddTag:Kn,UpdateTag:tl},methods:{addTagModal:function(){window.getApp.$emit("APP_ADD_TAG_MODAL")},updateTagModal:function(t){this.tag=this.getSingle("tags",t,this.tags),window.getApp.$emit("APP_UPDATE_TAG_MODAL",this.tag)}}},al=el,rl=(a("17b1"),Object(l["a"])(al,Ln,On,!1,null,"634e9bba",null)),sl=rl.exports;W()(rl,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var ol={components:{ListTags:sl}},il=ol,nl=Object(l["a"])(il,Sn,Un,!1,null,null,null),ll=nl.exports;W()(nl,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-categories")],1)],1)],1)},dl=[],ul=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar utilizador na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("categories","","APP_UPDATE_ALL_CATEGORIES_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addCategoryModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.categories,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.updateCategoryModal(r.id)}}},[t._v("editar")]):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"warning","x-small":"",outlined:"",rounded:""},on:{click:function(e){return t.onDelete("categories",r.id,"APP_UPDATE_ALL_CATEGORIES_DATA")}}},[t._v("eliminar")]):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-category"),a("update-category")],1)],1)],1)},ml=[],pl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addCategoryModal,callback:function(e){t.addCategoryModal=e},expression:"addCategoryModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-plus-outline")]),a("small",[t._v(" Criar Categoria")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("category-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddCategory(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddCategory(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddCategoryModal}},[t._v("Sair")])],1)],1)],1)},vl=[],fl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mt-2 mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:250",expression:"'max:250'"}],attrs:{dense:"",label:"Descrição da Categoria (Opcional)",name:"description",hint:"Apresente um pequena descrição desta categoria",outlined:"",rows:"4",counter:"","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("span",[t._v("Dispor artigos desta categoria em:")]),a("v-radio-group",{attrs:{dense:"",row:""},model:{value:t.formData.display,callback:function(e){t.$set(t.formData,"display",e)},expression:"formData.display"}},[a("v-radio",{attrs:{label:"Linha",value:"1"}}),a("v-radio",{attrs:{label:"Coluna",value:"2"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({attrs:{dense:"",outlined:"",name:"category_color",value:t.formData.color,label:"Cor","prepend-inner-icon":"mdi-palette",placeholder:"Selecione uma cor para esta categoria",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-chip",{attrs:{color:t.formData.color,small:"",label:""}})]},proxy:!0}],null,!0)},r))]}}]),model:{value:t.category_color_menu,callback:function(e){t.category_color_menu=e},expression:"category_color_menu"}},[a("v-color-picker",{attrs:{flat:""},model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1)],1)],1)],1)],1)},hl=[],_l={mixins:[T,$,R,N],props:["formData"],data:function(){return{category_color_menu:!1}},created:function(){var t=this;window.getApp.$on("APP_ADD_CATEGORY",(function(e){t.add(e,"categories",t.$props.formData,"APP_UPDATE_ALL_CATEGORIES_DATA","APP_ADD_CATEGORY_MODAL")})),window.getApp.$on("APP_UPDATE_CATEGORY",(function(){t.update("categories/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_CATEGORY_MODAL")}))}},gl=_l,bl=a("03a4"),xl=Object(l["a"])(gl,fl,hl,!1,null,null,null),yl=xl.exports;W()(xl,{VChip:Ee["a"],VCol:tt["a"],VColorPicker:bl["a"],VContainer:xt["a"],VForm:rt["a"],VMenu:jt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var Dl={data:function(){return{addCategoryModal:!1,formData:{name:"",display:"",color:"",description:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_CATEGORY_MODAL",(function(){t.handleAddCategoryModal()}))},components:{CategoryForm:yl},methods:{handleAddCategoryModal:function(){this.addCategoryModal=!this.addCategoryModal},handleAddCategory:function(t){window.getApp.$emit("APP_ADD_CATEGORY",t)}}},Al=Dl,Cl=Object(l["a"])(Al,pl,vl,!1,null,null,null),wl=Cl.exports;W()(Cl,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var kl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateCategoryModal,callback:function(e){t.updateCategoryModal=e},expression:"updateCategoryModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("small",[t._v(" Criar Categoria")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("category-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdateCategory(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateCategoryModel}},[t._v("Sair")])],1)],1)],1)},Vl=[],Pl={data:function(){return{updateCategoryModal:!1,formData:{id:"",name:"",display:"",color:"",description:"",roles:[]}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_CATEGORY_MODAL",(function(e){e&&t.setCategoryUpdateForm(e),t.handleUpdateCategoryModal()}))},components:{CategoryForm:yl},methods:{setCategoryUpdateForm:function(t){this.formData=t},handleUpdateCategoryModal:function(){window.getApp.$emit("APP_UPDATE_ALL_CATEGORIES_DATA"),this.updateCategoryModal=!this.updateCategoryModal},closeUpdateCategoryModel:function(){this.formData={name:"",display:"",color:"",description:"",roles:[]},this.updateCategoryModal=!this.updateCategoryModal},handleUpdateCategory:function(){window.getApp.$emit("APP_UPDATE_CATEGORY")}}},El=Pl,Ml=Object(l["a"])(El,kl,Vl,!1,null,null,null),Tl=Ml.exports;W()(Ml,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var $l={mixins:[$,S,I,O,j],data:function(){return{fab:!1,search:"",categories_id:[],headers:[{text:"Nome",value:"name"},{text:"Descrição",value:"description"},{text:"Operação",align:"center",sortable:!1,value:"action"}],category:[]}},computed:{categories:function(){return this.$store.getters.categories}},created:function(){var t=this;this.getAll(this.categories,"getCategories"),window.getApp.$on("APP_UPDATE_ALL_CATEGORIES_DATA",(function(){t.refresh("getCategories")}))},components:{AddCategory:wl,UpdateCategory:Tl},methods:{addCategoryModal:function(){window.getApp.$emit("APP_ADD_CATEGORY_MODAL")},updateCategoryModal:function(t){this.category=this.getSingle("categories",t,this.categories),window.getApp.$emit("APP_UPDATE_CATEGORY_MODAL",this.category)}}},Sl=$l,Ul=(a("0575"),Object(l["a"])(Sl,ul,ml,!1,null,"da71a1c8",null)),Ll=Ul.exports;W()(Ul,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Ol={components:{ListCategories:Ll}},Rl=Ol,Il=Object(l["a"])(Rl,cl,dl,!1,null,null,null),jl=Il.exports;W()(Il,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var ql=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",[a("router-view")],1)],1)],1)},Nl=[],Fl={},Gl=Object(l["a"])(Fl,ql,Nl,!1,null,null,null),zl=Gl.exports;W()(Gl,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Bl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.schools.length?[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{boilerplate:"",type:"list-item-avatar-three-line, image, article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{boilerplate:"",type:"list-item-avatar-three-line, image, article, actions"}})],1)]:t._e(),t._l(t.schools,(function(e,r){return[a("v-col",{key:"school_"+r,staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"6"}},[a("v-card",{attrs:{tile:""}},[a("v-list-item",{on:{click:function(){}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.apiUrl+"/images/app/schools/logos/"+e.logo}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[t._v(t._s(e.abbr))]),a("v-list-item-subtitle",[t._v(t._s(e.name))])],1),a("v-spacer"),a("v-btn",{attrs:{icon:"",color:"grey"}},[a("v-icon",[t._v("mdi-share")])],1)],1),a("v-img",{attrs:{src:t.apiUrl+"/images/app/schools/covers/"+e.cover,height:"194"}}),a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show_contact_info[e.id],expression:"show_contact_info[school.id]"}]},[a("v-divider"),a("v-card-text",[a("v-list",{attrs:{"two-line":""}},[t._l(e.contacts,(function(e,r){return[a("div",{key:"phone"+r},[1==e.type?a("v-list-item",{on:{click:function(){}}},[a("v-list-item-action"),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.contact)}}),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.description)}})],1),a("v-list-item-action",[a("v-icon",[t._v("mdi-message-text")])],1)],1):t._e()],1)]})),a("v-divider"),t._l(e.contacts,(function(e,r){return[a("div",{key:"email"+r},[2==e.type?a("v-list-item",{on:{click:function(){}}},[a("v-list-item-action"),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.contact)}}),a("v-list-item-subtitle",{domProps:{textContent:t._s(e.description)}})],1)],1):t._e()],1)]})),a("v-divider"),a("v-list-item",{on:{click:t.showMaps}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-map-marker")])],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.address.street)}}),a("v-list-item-subtitle",[t._v(t._s(e.address.country)+", "+t._s(e.address.state)+", "+t._s(e.address.city)+", "+t._s(e.address.zone))])],1)],1)],2)],1)],1)]),a("v-card-actions",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.onView("view_school",e.slug)}}},[a("v-icon",[t._v("mdi-eye")])],1),a("v-btn",{attrs:{icon:""}},[a("v-icon",{on:{click:function(a){return t.onUpdate("update_school",e.slug)}}},[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.onDelete("schools",e.id,"APP_UPDATE_ALL_SCHOOLS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.more_details(e.id)}}},[a("v-icon",[t._v(t._s(t.show_contact_info[e.id]?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1)],1)],1)]}))],2),a("v-row",[a("v-col",[a("v-card",{attrs:{id:"sliders-action"}},[a("v-speed-dial",{attrs:{bottom:"bottom",right:"right",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"blue darken-2",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.canAdd()?a("v-btn",{attrs:{to:{name:"add_school"},fab:"",dark:"",small:"",color:"primary"}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1)],1)],1)],1)],1)},Hl=[],Yl={mixins:[U,O,I,j,$,S],data:function(){return{fab:!1,show_contact_info:{}}},computed:{schools:function(){return this.$store.getters.schools}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_ALL_SCHOOLS_DATA",(function(){t.refresh("getSchools")}))},methods:{more_details:function(t){this.show_contact_info[t]?this.$set(this.show_contact_info,t,!1):this.$set(this.show_contact_info,t,!0)},showMaps:function(){}}},Kl=Yl,Wl=(a("ab99"),Object(l["a"])(Kl,Bl,Hl,!1,null,"5f75e815",null)),Jl=Wl.exports;W()(Wl,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCol:tt["a"],VDivider:at["a"],VExpandTransition:Oe["a"],VIcon:st["a"],VImg:Mt["a"],VList:Tt["a"],VListItem:St["a"],VListItemAction:Jt["a"],VListItemAvatar:Ut["a"],VListItemContent:Lt["a"],VListItemSubtitle:Lt["b"],VListItemTitle:Lt["c"],VRow:ft["a"],VSkeletonLoader:la["a"],VSpacer:ot["a"],VSpeedDial:Bo["a"]});var Xl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-subheader",[t._v("Registo da instituição")]),a("school-form",{attrs:{formData:t.formData,updating:!1}})],1)],1)],1)],1)],1)},Zl=[],Ql=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-stepper",{attrs:{"non-linear":"",vertical:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>1,step:"1",rules:[function(){return t.schoolForm1Error()}]}},[t._v(" Informações da Instituição "),a("small",[t._v("Registe as informações básicas da escola")])]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-1"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-1")}}},[a("v-row",[a("v-col",{staticClass:"mb-0 mt-2 py-0",attrs:{cols:"12",md:"10"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{dense:"",outlined:"",name:"name",label:"Nome da Escola","data-vv-name":"form-step-1.name","error-messages":t.errorMsg("name")||t.errors.collect("form-step-1.name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"mb-0 mt-2 py-0",attrs:{cols:"12",md:"2"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_dash|max:15",expression:"'required|alpha_dash|max:15'"}],attrs:{dense:"",outlined:"",name:"abbr",label:"Abreviatura","data-vv-name":"form-step-1.abbr","error-messages":t.errorMsg("abbr")||t.errors.collect("form-step-1.abbr"),hint:"Abreviatura do nome da Escola"},model:{value:t.formData.abbr,callback:function(e){t.$set(t.formData,"abbr",e)},expression:"formData.abbr"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:200",expression:"'max:200'"}],attrs:{dense:"",outlined:"",rows:"1",name:"slogan",label:"Apresente um slogan","auto-grow":"","data-vv-name":"form-step-1.slogan","error-messages":t.errors.collect("form-step-1.slogan"),hint:"Um lema da escola"},model:{value:t.formData.slogan,callback:function(e){t.$set(t.formData,"slogan",e)},expression:"formData.slogan"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:500",expression:"'max:500'"}],attrs:{dense:"",outlined:"",rows:"4",name:"description",label:"Descrição da Escola","auto-grow":"",hint:"Descriva esta escola",counter:"","data-vv-name":"form-step-1.description","error-messages":t.errors.collect("form-step-1.description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valOpningRef",staticStyle:{display:"none"},attrs:{name:"opning_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|before:valOpningRef",expression:"'required|date_format:dd/MM/yyyy|before:valOpningRef'"}],attrs:{dense:"",outlined:"",name:"opning",value:t.formated(t.formData.opning),label:"Data de Abertura","prepend-icon":"mdi-calendar",readonly:"","data-vv-as":"form-step-1.opning","error-messages":t.errorMsg("opning")||t.errors.collect("form-step-1.opning")}},r))]}}]),model:{value:t.opningDateMenu,callback:function(e){t.opningDateMenu=e},expression:"opningDateMenu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.opningDateMenu=!1}},model:{value:t.formData.opning,callback:function(e){t.$set(t.formData,"opning",e)},expression:"formData.opning"}})],1)],1)],1),a("v-divider"),a("v-row",{staticClass:"my-3"},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>2,step:"2",rules:[function(){return t.contactFormError()}]}},[t._v(" Contactos da Instituição "),a("small",[t._v("Regsite os principais contactos da instituição")])]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-2"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-2")}}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[t._v("Registo de Contactos")]),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t._l(t.formData.contacts,(function(e,r){return[a("v-row",{key:r+"contact"},[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"2"}},[a("v-autocomplete",{attrs:{dense:"",label:"Tipo de Contacto",items:[{id:"1",name:"Tel(Móvel)"},{id:"2",name:"Email"}],"item-text":"name","item-value":"id","prepend-inner-icon":1==e.type?"mdi-phone":"mdi-email"},on:{change:function(t){e.contact=e.description=""}},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"contact.type"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:1==e.type?"3":"4"}},[1==e.type?a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"(+238) ###-##-##",expression:"'(+238) ###-##-##'"},{name:"validate",rawName:"v-validate",value:"required|length:16",expression:"'required|length:16'"}],attrs:{dense:"",name:"contact"+r,label:"Telefone/Móvel "+(r+1),placeholder:"(+238) 000-00-00","data-vv-name":"form-step-2.contact"+r,"error-messages":t.errorMsg("contacts."+r+".contact")||t.errors.collect("form-step-2.contact"+r),hint:"Insira um número de telefone válido e funcional"},on:{change:function(a){return t.findRepeatedContact(e.contact,r)}},model:{value:e.contact,callback:function(a){t.$set(e,"contact",a)},expression:"contact.contact"}}):a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{dense:"",name:"contact"+r,label:"Correio Eletronico "+(r+1),placeholder:"exemplo@email.com","data-vv-name":"form-step-2.contact"+r,"error-messages":t.errorMsg("contacts."+r+".contact")||t.errors.collect("form-step-2.contact"+r),hint:"Insira um correio eletrónico válido e em utilização na instituição"},on:{change:function(a){return t.findRepeatedContact(e.contact,r)}},model:{value:e.contact,callback:function(a){t.$set(e,"contact",a)},expression:"contact.contact"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:1==e.type?"7":"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",disabled:!e.contact,name:"description"+r,label:1==e.type?"Descrição do número "+(r+1):"Descrição do email "+(r+1),"data-vv-name":"form-step-2.description"+r,"error-messages":t.errorMsg("contacts."+r+".description")||t.errors.collect("form-step-2.description"+r),hint:1==e.type?"Apresente uma pequena descrição do número "+e.contact:"Apresente uma pequena descrição do  email "+e.contact},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:r||!r&&t.formData.contacts.length>1,expression:"k || ( !k && formData.contacts.length > 1)"}],attrs:{outlined:"",icon:"",small:"",color:"error"},on:{click:function(e){return t.removeContact(r)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-minus")])],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:r==t.formData.contacts.length-1,expression:"k == formData.contacts.length-1"}],attrs:{disabled:t.canAddContact(r),outlined:"",icon:"",small:"",color:t.repeatedContact?"error":"primary"},on:{click:function(e){!t.repeatedContact&&t.moreContact(r)}}},[t.repeatedContact?a("v-icon",{attrs:{small:""}},[t._v("mdi-alert")]):a("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)]},proxy:!0}],null,!0),model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"contact.description"}})],1)],1)]})),a("v-row",[t.repeatedContact?a("v-col",{attrs:{cols:"12"}},[a("small",{staticClass:"error--text"},[a("v-icon",{attrs:{color:"error",small:""}},[t._v("mdi-alert")]),t._v("Verefique os campos porque existe contactos repitidos, caso contrário os dados não serão guardados na base de dados!! ")],1)]):t._e()],1)],2)],1),a("v-divider"),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>3,step:"3",rules:[function(){return t.addressFormError()}]}},[t._v(" Enderço e Localização Geográfica "),a("small",[t._v("Apresende o endereço da isntituição e as suas coordenadas no mapa")])]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-3"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-3")}}},[a("v-row",{staticClass:"mt-3"},[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",disabled:"",name:"country",label:"País","data-vv-name":"form-step-3.country","error-messages":t.errors.collect("form-step-3.country")},model:{value:t.formData.address.country,callback:function(e){t.$set(t.formData.address,"country",e)},expression:"formData.address.country"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",name:"state",label:"Ilha/Estado","data-vv-name":"form-step-3.state","error-messages":t.errors.collect("form-step-3.state")},model:{value:t.formData.address.state,callback:function(e){t.$set(t.formData.address,"state",e)},expression:"formData.address.state"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",name:"city",label:"Cidade","data-vv-name":"form-step-3.city","error-messages":t.errors.collect("form-step-3.city")},model:{value:t.formData.address.city,callback:function(e){t.$set(t.formData.address,"city",e)},expression:"formData.address.city"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",name:"zone",label:"Zona","data-vv-name":"form-step-3.zone","error-messages":t.errors.collect("form-step-3.zone")},model:{value:t.formData.address.zone,callback:function(e){t.$set(t.formData.address,"zone",e)},expression:"formData.address.zone"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",name:"street",label:"Rua","data-vv-name":"form-step-3.street","error-messages":t.errors.collect("form-step-3.street")},model:{value:t.formData.address.street,callback:function(e){t.$set(t.formData.address,"street",e)},expression:"formData.address.street"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"4"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",outlined:"",name:"post_code",label:"Código Postal","data-vv-name":"form-step-3.post_code","error-messages":t.errors.collect("form-step-3.post_code")},model:{value:t.formData.address.post_code,callback:function(e){t.$set(t.formData.address,"post_code",e)},expression:"formData.address.post_code"}})],1)],1),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>4,step:"4",rules:[function(){return t.schoolFormError()}]}},[t._v(" Apresentações Gerais "),a("small",[t._v("Configure as informações de apresentação da isntituição")])]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-4"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-4")}}},[a("v-row",[a("v-col",{staticClass:"mt-3 py-0",attrs:{cols:"12"}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-file-input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],attrs:{dense:"",outlined:"",name:"cover",label:"Imagem de rosto",placeholder:"Carregar uma imagem de rosto","prepend-icon":"mdi-camera","show-size":"",accept:"image/png, image/jpeg, image/bmp",rules:t.coverRules,"data-vv-name":"cover","error-messages":t.errors.collect("cover")},on:{change:function(e){return e.target!==e.currentTarget?null:t.onCoverUpload(e)}},model:{value:t.tempCover,callback:function(e){t.tempCover=e},expression:"tempCover"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-file-input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],attrs:{dense:"",outlined:"",name:"logo",label:"Logo da Instituição",placeholder:"Carregar logotipo","prepend-icon":"mdi-camera","show-size":"",rules:t.logoRules,accept:"image/png, image/jpeg, image/bmp","data-vv-name":"logo","error-messages":t.errorMsg("logo")||t.errors.collect("logo")},on:{change:function(e){return e.target!==e.currentTarget?null:t.onLogoUpload(e)}},model:{value:t.tempLogo,callback:function(e){t.tempLogo=e},expression:"tempLogo"}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[t._v("Configuração de cores")]),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({attrs:{dense:"",outlined:"",name:"school_color",value:t.formData.primary_color,label:"Cor","prepend-inner-icon":"mdi-palette",placeholder:"Selecione uma cor para esta categoria",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-chip",{attrs:{color:t.formData.primary_color,small:"",label:""}})]},proxy:!0}],null,!0)},r))]}}]),model:{value:t.school_color_menu,callback:function(e){t.school_color_menu=e},expression:"school_color_menu"}},[a("v-color-picker",{attrs:{flat:""},model:{value:t.formData.primary_color,callback:function(e){t.$set(t.formData,"primary_color",e)},expression:"formData.primary_color"}})],1)],1)],1)],1)],1),a("v-divider"),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",color:t.hasError?"error":"primary",rounded:""},on:{click:function(e){e.stopPropagation(),t.update_form?t.updateSchool():t.addSchool(!1)}}},[t.hasError?a("v-icon",{attrs:{small:""}},[t._v("mdi-alert")]):t._e(),t._v("Salvar ")],1),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")]),a("v-spacer")],1),t.hasError?a("v-col",{attrs:{align:"end"}},[a("small",{staticClass:"error--text"},[t._v("**Os dados enviados não foram guardados, por causa de erros, verefique-os nas sessões anteriores para prosseguir com a operação")])]):t._e()],1)],1)],1)],1)],1)},tc=[],ec=(a("a4d3"),a("e01a"),{data:function(){return{coverRules:[function(t){return!t||t.size<2e6||"Uma imagem de capa não pode ter um tamanho superior a 3MB"}],logoRules:[function(t){return!t||t.size<1e6||"Um logo tipo não pode ser superior a 1MB"}]}}}),ac=(a("a434"),{data:function(){return{repeatedContact:!1}},methods:{addFormData:function(t,e,a){e.push(a)},removeFormData:function(t,e){e.splice(t,1)},canAddContact:function(t){return""==this.formData.contacts[t].contact||""==this.formData.contacts[t].description},findRepeatedContact:function(t,e){this.repeatedContact=!1;for(var a=0;a<this.formData.contacts.length-1;a++)if(this.formData.contacts[a].contact==t&&a!=e)return void(this.repeatedContact=!0);this.repeatedContact=!1},moreContact:function(t){this.addFormData(t,this.formData.contacts,{type:"1",contact:"",description:""})},removeContact:function(t){this.removeFormData(t,this.formData.contacts)}}}),rc={props:["formData","update_form"],mixins:[T,pe,R,ec,ac,L,N],data:function(){return{formErrors:[],school_color_menu:!1,tempCover:null,tempLogo:null,step:1,opningDateMenu:!1,dictionary:M,headers:[{text:"contacto",value:"contact"},{text:"Descrição",value:"description"},{text:"Operação",align:"center",sortable:!1,value:"action"}]}},mounted:function(){this.$validator.localize("pt",this.dictionary)},methods:{schoolForm1Error:function(){return 0==this.formErrors.length||!(this.formErrors.name||this.formErrors.abbr||this.formErrors.slogan||this.formErrors.description||this.formErrors.opning)},schoolFormError:function(){return 0==this.formErrors.length||!this.formErrors.logo&&!this.formErrors.cover},addressFormError:function(){return 0==this.formErrors.length||!this.formErrors["address.state"]},contactFormError:function(){if(0!=this.formErrors.length)for(var t=0;t<this.formData.contacts.length;t++)if(this.formErrors["contacts."+t+".contact"]||this.formErrors["contacts."+t+".description"])return!1;return!0},nextStep:function(t){var e=this;this.$validator.validateAll(t).then((function(t){t&&e.step++}))},prevStep:function(){this.step--},onCoverUpload:function(t){var e=this,a=new FileReader;try{a.readAsDataURL(t),a.onload=function(t){e.formData.cover=t.target.result}}catch(r){console.log(r)}},onLogoUpload:function(t){var e=this,a=new FileReader;try{a.readAsDataURL(t),a.onload=function(t){e.formData.logo=t.target.result}}catch(r){console.log(r)}},addSchool:function(t){this.add(t,"schools",this.$props.formData,"APP_UPDATE_ALL_SCHOOLS_DATA","",!0,"list_schools")},updateSchool:function(){this.update("schools/"+this.$props.formData.id,this.$props.formData,"APP_UPDATE_ALL_SCHOOLS_DATA",!0,"list_schools")}}},sc=rc,oc=a("7e85"),ic=a("e516"),nc=a("56a4"),lc=Object(l["a"])(sc,Ql,tc,!1,null,null,null),cc=lc.exports;W()(lc,{VAutocomplete:yo["a"],VBtn:X["a"],VChip:Ee["a"],VCol:tt["a"],VColorPicker:bl["a"],VDatePicker:Ua["a"],VDivider:at["a"],VFileInput:vn["a"],VForm:rt["a"],VIcon:st["a"],VMenu:jt["a"],VRow:ft["a"],VSpacer:ot["a"],VStepper:oc["a"],VStepperContent:ic["a"],VStepperStep:nc["a"],VTextField:it["a"],VTextarea:Qe["a"]});var dc={data:function(){return{formData:{name:"",abbr:"",description:"",slogan:"",logo:"",cover:"",primary_color:"",secundary_color:"",opning:(new Date).toISOString().substr(0,10),contacts:[{type:"1",contact:"",description:""}],address:{country:"Cabo Verde",state:"",city:"",zone:"",street:"",post_code:"",location:{lat:"22",lng:"29"}}}}},components:{SchoolForm:cc}},uc=dc,mc=Object(l["a"])(uc,Xl,Zl,!1,null,null,null),pc=mc.exports;W()(mc,{VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"],VSubheader:Xt["a"]});var vc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Ver escola ")])},fc=[],hc={},_c=Object(l["a"])(hc,vc,fc,!1,null,null,null),gc=_c.exports,bc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",[t.school?a("v-card",[a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-subheader",[t._v("Atualizar instituição")]),a("school-form",{attrs:{formData:t.school,update_form:!0}})],1)],1):a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"article, actions"}})],1)],1)],1)},xc=[],yc={mixins:[O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.schools,"getSchools")},computed:{schools:function(){return this.$store.getters.schools},school:function(){return this.$store.getters.school(this.slug)}},components:{SchoolForm:cc}},Dc=yc,Ac=Object(l["a"])(Dc,bc,xc,!1,null,null,null),Cc=Ac.exports;W()(Ac,{VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VSubheader:Xt["a"]});var wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-histories")],1)],1)],1)},kc=[],Vc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.histories.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem histórias registadas para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",rounded:"",outlined:"",text:"",color:"primary"},on:{click:function(e){return t.addHistoryModal()}}},[t._v("Criar um historia")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"font-weight-regular mb-7"},[t._v("Histórias da Instituição")]),a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar histórias...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("histories","","APP_UPDATE_ALL_HISTORY_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{disabled:1==t.histories.length,color:"primary",fab:"",small:""},on:{click:function(e){return t.addHistoryModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.histories,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:"",small:""},on:{click:function(e){return t.updateHistoryModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:"",small:""},on:{click:function(e){return t.onDelete("histories",r.id,"APP_UPDATE_ALL_HISTORIES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.content))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],2),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("h3",{staticClass:"font-weight-regular"},[t._v("Marcos Históricos")])]),a("v-col",{attrs:{cols:"12"}},[a("list-marks")],1)],1),a("v-row",[a("v-col",[a("add-history"),a("update-history")],1)],1)],1)},Pc=[],Ec=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.marks.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem marcos registados para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",rounded:"",outlined:"",text:"",color:"primary"},on:{click:function(e){return t.addMarkModal()}}},[t._v("Criar um marco história")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar morcos históricos na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("marks","","APP_UPDATE_ALL_MARK_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addMarkModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.marks,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:"",small:""},on:{click:function(e){return t.updateMarkModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:"",small:""},on:{click:function(e){return t.onDelete("marks",r.id,"APP_UPDATE_ALL_MARKS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],2),a("v-row",[a("v-col",[a("add-mark"),a("update-mark")],1)],1)],1)},Mc=[],Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addMarkModal,callback:function(e){t.addMarkModal=e},expression:"addMarkModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-tag-plus")]),a("small",[t._v(" Criar Marco Histórico")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("mark-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddMark(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddMark(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddMarkModal}},[t._v("Sair")])],1)],1)],1)},$c=[],Sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:0==t.schools.length,dense:"",label:"Titulo*",name:"title",outlined:"","data-vv-name":"title","error-messages":t.errorMsg("title")||t.errors.collect("title")},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:500",expression:"'required|max:500'"}],attrs:{disabled:0==t.schools.length,dense:"",label:"Descrição*",name:"description",hint:"Apresente a descrição deste marco de no máximo 500 caracteres","persistent-hint":"",outlined:"",counter:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("v-divider"),a("v-subheader",[t._v("Data do acontecimento")])],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valStartMarkRef",staticStyle:{display:"none"},attrs:{name:"begin_mark_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|before:valStartMarkRef",expression:"'required|date_format:dd/MM/yyyy|before:valStartMarkRef'"}],attrs:{disabled:0==t.schools.length,dense:"",outlined:"",name:"begin",value:t.formated(t.formData.begin),label:"Início*","prepend-inner-icon":"mdi-calendar-arrow-right",readonly:"","data-vv-as":"begin","error-messages":t.errorMsg("begin")||t.errors.collect("begin")}},r))]}}]),model:{value:t.begin_menu,callback:function(e){t.begin_menu=e},expression:"begin_menu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),locale:"pt-pt"},on:{input:function(e){t.begin_menu=!1}},model:{value:t.formData.begin,callback:function(e){t.$set(t.formData,"begin",e)},expression:"formData.begin"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.initialEndDate,expression:"initialEndDate"}],ref:"valEndMarkRef",staticStyle:{display:"none"},attrs:{name:"end_mark_field_target",type:"text"},domProps:{value:t.initialEndDate},on:{input:function(e){e.target.composing||(t.initialEndDate=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|after:valEndMarkRef|before:valStartMarkRef",expression:"'required|date_format:dd/MM/yyyy|after:valEndMarkRef|before:valStartMarkRef'"}],attrs:{disabled:0==t.schools.length,dense:"",outlined:"",name:"end",value:t.formated(t.formData.end),label:"Fím","prepend-inner-icon":"mdi-calendar-arrow-left",readonly:"","data-vv-as":"end","error-messages":t.errorMsg("end")||t.errors.collect("end")}},r))]}}]),model:{value:t.end_menu,callback:function(e){t.end_menu=e},expression:"end_menu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:t.formData.begin,locale:"pt-pt"},on:{input:function(e){t.end_menu=!1}},model:{value:t.formData.end,callback:function(e){t.$set(t.formData,"end",e)},expression:"formData.end"}})],1)],1),a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("small",[t._v("(*) campos de preenchimento obrigatório")])])],1)],1)],1)},Uc=[],Lc={mixins:[T,$,R,O,N,pe],props:["formData"],data:function(){return{formErrors:[],begin_menu:!1,end_menu:!1}},created:function(){var t=this;this.getAll(this.schools,"getSchools"),window.getApp.$on("APP_ADD_MARK",(function(e){t.add(e,"marks",t.$props.formData,"APP_UPDATE_ALL_MARKS_DATA","APP_ADD_MARK_MODAL")})),window.getApp.$on("APP_UPDATE_MARK",(function(){t.update("marks/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_MARK_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools},initialEndDate:function(){return window.moment(this.$props.formData.begin).format("DD/MM/YYYY")}}},Oc=Lc,Rc=Object(l["a"])(Oc,Sc,Uc,!1,null,null,null),Ic=Rc.exports;W()(Rc,{VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDivider:at["a"],VForm:rt["a"],VMenu:jt["a"],VRow:ft["a"],VSubheader:Xt["a"],VTextField:it["a"],VTextarea:Qe["a"]});var jc={data:function(){return{addMarkModal:!1,formData:{title:"",end:"",begin:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_MARK_MODAL",(function(){t.handleAddMarkModal()}))},components:{MarkForm:Ic},methods:{handleAddMarkModal:function(){this.addMarkModal=!this.addMarkModal},handleAddMark:function(t){window.getApp.$emit("APP_ADD_MARK",t)}}},qc=jc,Nc=Object(l["a"])(qc,Tc,$c,!1,null,null,null),Fc=Nc.exports;W()(Nc,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Gc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateMarkModal,callback:function(e){t.updateMarkModal=e},expression:"updateMarkModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("small",[t._v(" Editar Marco Histórico")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("mark-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateMark(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateMaskModel}},[t._v("Sair")])],1)],1)],1)},zc=[],Bc={data:function(){return{updateMarkModal:!1,formData:{title:"",end:"",begin:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_MARK_MODAL",(function(e){e&&t.setMarkUpdateForm(e),t.handleUpdateMarkModal()}))},components:{MarkForm:Ic},methods:{setMarkUpdateForm:function(t){this.formData=t},handleUpdateMarkModal:function(){window.getApp.$emit("APP_UPDATE_ALL_MARKS_DATA"),this.updateMarkModal=!this.updateMarkModal},closeUpdateMaskModel:function(){this.formData={title:"",end:"",begin:"",description:"",school_id:""},this.updateMarkModal=!this.updateMarkModal},handleUpdateMark:function(){window.getApp.$emit("APP_UPDATE_MARK")}}},Hc=Bc,Yc=Object(l["a"])(Hc,Gc,zc,!1,null,null,null),Kc=Yc.exports;W()(Yc,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Wc={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",marks_id:[],headers:[{text:"Designação",value:"title"},{text:"Início",value:"begin",align:"center"},{text:"Fim",value:"end",align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],mark:[]}},computed:{marks:function(){return this.$store.getters.marks}},created:function(){var t=this;this.getAll(this.marks,"getMarks"),window.getApp.$on("APP_UPDATE_ALL_MARKS_DATA",(function(){t.refresh("getMarks")}))},components:{AddMark:Fc,UpdateMark:Kc},methods:{addMarkModal:function(){window.getApp.$emit("APP_ADD_MARK_MODAL")},updateMarkModal:function(t){this.mark=this.getSingle("marks",t,this.marks),window.getApp.$emit("APP_UPDATE_MARK_MODAL",this.mark)}}},Jc=Wc,Xc=(a("de50"),Object(l["a"])(Jc,Ec,Mc,!1,null,"6f606ddb",null)),Zc=Xc.exports;W()(Xc,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Qc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addHistoryModal,callback:function(e){t.addHistoryModal=e},expression:"addHistoryModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-tag-plus")]),a("small",[t._v(" Criar História")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("history-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddHistory(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddHistory(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddHistoryModal}},[t._v("Sair")])],1)],1)],1)},td=[],ed=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[0==t.schools.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Nenhuma instituição encontrada na base de dados, é preciso o seu registo para poder criar a sua história")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"add_school"},rounded:"",outlined:"",color:"primary",text:""}},[t._v("Registar Instituição")]):t._e()],1)],1)],1)],1):t._e(),a("v-col",{staticClass:"mt-2 mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:0==t.schools.length,dense:"",label:"Titulo*",name:"title",outlined:"","data-vv-name":"title","error-messages":t.errorMsg("title")||t.errors.collect("title")},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:1000",expression:"'max:1000'"}],attrs:{disabled:0==t.schools.length,dense:"",label:"Desenvolvimento desta história",name:"content",hint:"Descreva a história da instituição","persistent-hint":"",outlined:"",rows:"8",counter:"","data-vv-name":"content","error-messages":t.errorMsg("content")||t.errors.collect("content")},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1)],1)],1)],1)},ad=[],rd={mixins:[T,$,R,O,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;this.getAll(this.schools,"getSchools"),window.getApp.$on("APP_ADD_HISTORY",(function(e){t.add(e,"histories",t.$props.formData,"APP_UPDATE_ALL_HISTORIES_DATA","APP_ADD_HISTORY_MODAL")})),window.getApp.$on("APP_UPDATE_HISTORY",(function(){t.update("histories/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_HISTORY_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools}}},sd=rd,od=Object(l["a"])(sd,ed,ad,!1,null,null,null),id=od.exports;W()(od,{VAlert:J["a"],VBtn:X["a"],VCol:tt["a"],VContainer:xt["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var nd={data:function(){return{addHistoryModal:!1,formData:{title:"",content:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_HISTORY_MODAL",(function(){t.handleAddHistoryModal()}))},components:{HistoryForm:id},methods:{handleAddHistoryModal:function(){this.addHistoryModal=!this.addHistoryModal},handleAddHistory:function(t){window.getApp.$emit("APP_ADD_HISTORY",t)}}},ld=nd,cd=Object(l["a"])(ld,Qc,td,!1,null,null,null),dd=cd.exports;W()(cd,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var ud=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateHistoryModal,callback:function(e){t.updateHistoryModal=e},expression:"updateHistoryModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("small",[t._v(" Editar História")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("history-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleUpdateHistory(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateHistoryModel}},[t._v("Sair")])],1)],1)],1)},md=[],pd={data:function(){return{updateHistoryModal:!1,formData:{id:"",title:"",content:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_HISTORY_MODAL",(function(e){e&&t.setHistoryUpdateForm(e),t.handleUpdateHistoryModal()}))},components:{HistoryForm:id},methods:{setHistoryUpdateForm:function(t){this.formData=t},handleUpdateHistoryModal:function(){window.getApp.$emit("APP_UPDATE_ALL_HISTORIES_DATA"),this.updateHistoryModal=!this.updateHistoryModal},closeUpdateHistoryModel:function(){this.formData={title:"",content:""},this.updateHistoryModal=!this.updateHistoryModal},handleUpdateHistory:function(){window.getApp.$emit("APP_UPDATE_HISTORY")}}},vd=pd,fd=Object(l["a"])(vd,ud,md,!1,null,null,null),hd=fd.exports;W()(fd,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var _d={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",histories_id:[],headers:[{text:"Título da História",value:"title"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],history:[]}},computed:{histories:function(){return this.$store.getters.histories}},created:function(){var t=this;this.getAll(this.histories,"getHistories"),window.getApp.$on("APP_UPDATE_ALL_HISTORIES_DATA",(function(){t.refresh("getHistories")}))},components:{AddHistory:dd,UpdateHistory:hd,ListMarks:Zc},methods:{addHistoryModal:function(){window.getApp.$emit("APP_ADD_HISTORY_MODAL")},updateHistoryModal:function(t){this.history=this.getSingle("histories",t,this.histories),window.getApp.$emit("APP_UPDATE_HISTORY_MODAL",this.history)}}},gd=_d,bd=(a("12e8"),Object(l["a"])(gd,Vc,Pc,!1,null,"435ed2d4",null)),xd=bd.exports;W()(bd,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VTextField:it["a"],VToolbar:Ho["a"]});var yd={components:{ListHistories:xd}},Dd=yd,Ad=Object(l["a"])(Dd,wc,kc,!1,null,null,null),Cd=Ad.exports;W()(Ad,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var wd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("parametro gerais")])},kd=[],Vd={},Pd=Object(l["a"])(Vd,wd,kd,!1,null,null,null),Ed=Pd.exports,Md=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-marks")],1)],1)],1)},Td=[],$d={components:{ListMarks:Zc}},Sd=$d,Ud=Object(l["a"])(Sd,Md,Td,!1,null,null,null),Ld=Ud.exports;W()(Ud,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Od=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-murals")],1)],1)],1)},Rd=[],Id=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",dense:"",tile:"",text:"",type:"warning",elevation:"2",dismissible:""},model:{value:t.mural_alert,callback:function(e){t.mural_alert=e},expression:"mural_alert"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[t._v("Limita-se a criação de até três lemas, se realmente for necessario cria mais, contacte o adminitrador do sistema")])],1)],1)],1),0==t.murals.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem registos para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",rounded:"",outlined:"",text:"",color:"primary"},on:{click:function(e){return t.addMuralModal()}}},[t._v("Criar um lema")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar lema na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("murals","","APP_UPDATE_ALL_MURAL_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addMuralModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.murals,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.icon",fn:function(e){var r=e.item;return[a("v-icon",{attrs:{large:"",color:"primary"}},[t._v(t._s(r.icon))])]}},{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:"",small:""},on:{click:function(e){return t.updateMuralModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:"",small:""},on:{click:function(e){return t.onDelete("murals",r.id,"APP_UPDATE_ALL_MURALS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],2),a("v-row",[a("v-col",[a("add-mural"),a("update-mural")],1)],1)],1)},jd=[],qd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addMuralModal,callback:function(e){t.addMuralModal=e},expression:"addMuralModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("span",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-heart-plus")]),a("small",[t._v(" Criar o mural/lema da instirição")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("mural-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddMural(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddMural(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddMuralModal}},[t._v("Sair")])],1)],1)],1)},Nd=[],Fd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[0==t.schools.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Nenhuma instituição encontrada na base de dados, é preciso o seu registo para poder criar a sua história")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"add_school"},rounded:"",outlined:"",color:"primary",text:""}},[t._v("Registar Instituição")]):t._e()],1)],1)],1)],1):t._e(),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",disabled:0==t.schools.length,label:"Titulo*",name:"title",outlined:"","data-vv-name":"title","error-messages":t.errorMsg("title")||t.errors.collect("title")},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],attrs:{disabled:0==t.schools.length,dense:"",counter:"",label:"Descrição*",name:"description",hint:"Apresente uma descrição","persistent-hint":"",outlined:"",rows:"3","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("v-divider"),a("v-subheader",[t._v("Represente este lema com um Ícone")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{items:t.icons,outlined:"",clearable:"","item-text":"name","item-value":"key",dense:"",name:"icon",label:"Ícone","data-vv-name":"icon","error-messages":t.errors.collect("icon")},model:{value:t.formData.icon,callback:function(e){t.$set(t.formData,"icon",e)},expression:"formData.icon"}}),t.formData.icon?a("v-avatar",{attrs:{color:"grey lighten-2"}},[a("v-icon",{attrs:{large:"",color:"primary"}},[t._v(t._s(t.formData.icon))])],1):t._e()],1)],1)],1)],1)},Gd=[],zd={mixins:[T,$,R,O,pe,N],props:["formData"],data:function(){return{formErrors:[],begin_menu:!1,end_menu:!1,icons:[{key:"mdi-home",name:"Home"},{key:"mdi-heart",name:"Coração"},{key:"mdi-school",name:"Formação"},{key:"mdi-home-city-outline",name:"Metrópole"},{key:"mdi-flower",name:"Crescimento"},{key:"mdi-hammer-wrench",name:"Ferramentas"},{key:"mdi-hand-heart",name:"Amor"},{key:"mdi-handshake",name:"Negócio"},{key:"mdi-domain",name:"Instituição"},{key:"mdi-charity",name:"Caridade"},{key:"mdi-engine",name:"Engenharia"},{key:"mdi-compass",name:"Explorar"},{key:"mdi-pencil-ruler",name:"Design"},{key:"mdi-brain",name:"Cerebro"},{key:"mdi-math-compass",name:"Projetar"},{key:"mdi-head-cog-outline",name:"Pisicologia"},{key:"mdi-desktop-classic",name:"Computação"},{key:"mdi-home-heart",name:"Família"},{key:"mdi-alphabetical",name:"Afabetização"},{key:"mdi-currency-usd",name:"Dinheiro"},{key:"mdi-certificate-outline",name:"Diploma"},{key:"mdi-diamond",name:"Furtuna"},{key:"mdi-key",name:"Chave"},{key:"mdi-star-outline",name:"Estrela"},{key:"mdi-earth",name:"Globalização"}]}},created:function(){var t=this;this.getAll(this.schools,"getSchools"),window.getApp.$on("APP_ADD_MURAL",(function(e){t.add(e,"murals",t.$props.formData,"APP_UPDATE_ALL_MURALS_DATA","APP_ADD_MURAL_MODAL")})),window.getApp.$on("APP_UPDATE_MURAL",(function(){t.update("murals/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_MURAL_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools},initialEndDate:function(){return window.moment(this.$props.formData.begin).format("DD/MM/YYYY")}}},Bd=zd,Hd=Object(l["a"])(Bd,Fd,Gd,!1,null,null,null),Yd=Hd.exports;W()(Hd,{VAlert:J["a"],VAutocomplete:yo["a"],VAvatar:Et["a"],VBtn:X["a"],VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VForm:rt["a"],VIcon:st["a"],VRow:ft["a"],VSubheader:Xt["a"],VTextField:it["a"],VTextarea:Qe["a"]});var Kd={mixins:[T],data:function(){return{addMuralModal:!1,formData:{title:"",icon:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_MURAL_MODAL",(function(){t.handleAddMuralModal()}))},components:{MuralForm:Yd},methods:{handleAddMuralModal:function(){this.addMuralModal=!this.addMuralModal},handleAddMural:function(t){window.getApp.$emit("APP_ADD_MURAL",t)}}},Wd=Kd,Jd=Object(l["a"])(Wd,qd,Nd,!1,null,null,null),Xd=Jd.exports;W()(Jd,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Zd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateMuralModal,callback:function(e){t.updateMuralModal=e},expression:"updateMuralModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-heart")]),a("small",[t._v(" Editar registo")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("mural-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateMural(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateMuralModel}},[t._v("Sair")])],1)],1)],1)},Qd=[],tu={data:function(){return{updateMuralModal:!1,formData:{title:"",icon:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_MURAL_MODAL",(function(e){e&&t.setMuralUpdateForm(e),t.handleUpdateMuralModal()}))},components:{MuralForm:Yd},methods:{setMuralUpdateForm:function(t){this.formData=t},handleUpdateMuralModal:function(){window.getApp.$emit("APP_UPDATE_ALL_MURALS_DATA"),this.updateMuralModal=!this.updateMuralModal},closeUpdateMuralModel:function(){this.formData={title:"",icon:"mdi-user",description:"",school_id:""},this.updateMuralModal=!this.updateMuralModal},handleUpdateMural:function(){window.getApp.$emit("APP_UPDATE_MURAL")}}},eu=tu,au=Object(l["a"])(eu,Zd,Qd,!1,null,null,null),ru=au.exports;W()(au,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var su={mixins:[$,S,I,O,j],data:function(){return{mural_alert:!1,expanded:[],fab:!1,search:"",murals_id:[],headers:[{text:"Ícone",value:"icon",align:"center",sortable:!1},{text:"Mural/Lema",value:"title"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],mural:[]}},computed:{murals:function(){return this.$store.getters.murals}},created:function(){var t=this;this.getAll(this.murals,"getMurals"),window.getApp.$on("APP_UPDATE_ALL_MURALS_DATA",(function(){t.refresh("getMurals")}))},components:{AddMural:Xd,UpdateMural:ru},methods:{addMuralModal:function(){this.murals.length>=3?this.mural_alert=!0:window.getApp.$emit("APP_ADD_MURAL_MODAL")},updateMuralModal:function(t){this.mural=this.getSingle("murals",t,this.murals),window.getApp.$emit("APP_UPDATE_MURAL_MODAL",this.mural)}}},ou=su,iu=(a("e5a1"),Object(l["a"])(ou,Id,jd,!1,null,"5081ae00",null)),nu=iu.exports;W()(iu,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VTextField:it["a"],VToolbar:Ho["a"]});var lu={components:{ListMurals:nu}},cu=lu,du=Object(l["a"])(cu,Od,Rd,!1,null,null,null),uu=du.exports;W()(du,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var mu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-guidelines")],1)],1)],1)},pu=[],vu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar missão na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("guidelines","","APP_UPDATE_ALL_GUIDELINE_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addGuidelineModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.guidelines,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:""},on:{click:function(e){return t.updateGuidelineModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:""},on:{click:function(e){return t.onDelete("guidelines",r.id,"APP_UPDATE_ALL_GUIDELINES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-guideline"),a("update-guideline")],1)],1)],1)},fu=[],hu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addGuidelineModal,callback:function(e){t.addGuidelineModal=e},expression:"addGuidelineModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-tag-plus")]),a("small",[t._v(" Criar Missão/Visão/Valores")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("guideline-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddGuideline(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddGuideline(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddGuidelineModal}},[t._v("Sair")])],1)],1)],1)},_u=[],gu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-combobox",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",name:"name",outlined:"",color:"primary",label:"Desiguinação",items:["Missão","Visão","Valores"],"data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:500",expression:"'required|max:500'"}],attrs:{dense:"",label:"Descrição*",name:"description",hint:"Apresente a descrição deste marco","persistent-hint":"",outlined:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1)],1)},bu=[],xu={mixins:[T,$,R,O,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;window.getApp.$on("APP_ADD_GUIDELINE",(function(e){t.add(e,"guidelines",t.$props.formData,"APP_UPDATE_ALL_GUIDELINES_DATA","APP_ADD_GUIDELINE_MODAL")})),window.getApp.$on("APP_UPDATE_GUIDELINE",(function(){t.update("guidelines/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_GUIDELINE_MODAL")}))}},yu=xu,Du=Object(l["a"])(yu,gu,bu,!1,null,null,null),Au=Du.exports;W()(Du,{VCol:tt["a"],VCombobox:Ze["a"],VContainer:xt["a"],VForm:rt["a"],VRow:ft["a"],VTextarea:Qe["a"]});var Cu={data:function(){return{addGuidelineModal:!1,formData:{name:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_GUIDELINE_MODAL",(function(){t.handleAddGuidelineModal()}))},components:{GuidelineForm:Au},methods:{handleAddGuidelineModal:function(){this.addGuidelineModal=!this.addGuidelineModal},handleAddGuideline:function(t){window.getApp.$emit("APP_ADD_GUIDELINE",t)}}},wu=Cu,ku=Object(l["a"])(wu,hu,_u,!1,null,null,null),Vu=ku.exports;W()(ku,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Pu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateGuidelineModal,callback:function(e){t.updateGuidelineModal=e},expression:"updateGuidelineModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("small",[t._v(" Editar Informações")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("guideline-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateGuideline(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateGuidelineModel}},[t._v("Sair")])],1)],1)],1)},Eu=[],Mu={data:function(){return{updateGuidelineModal:!1,formData:{id:"",name:"",description:"",school_id:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_GUIDELINE_MODAL",(function(e){e&&t.setGuidelineUpdateForm(e),t.handleUpdateGuidelineModal()}))},components:{GuidelineForm:Au},methods:{setGuidelineUpdateForm:function(t){this.formData=t},handleUpdateGuidelineModal:function(){window.getApp.$emit("APP_UPDATE_ALL_GUIDELINES_DATA"),this.updateGuidelineModal=!this.updateGuidelineModal},closeUpdateGuidelineModel:function(){this.formData={name:"",description:"",school_id:""},this.updateGuidelineModal=!this.updateGuidelineModal},handleUpdateGuideline:function(){window.getApp.$emit("APP_UPDATE_GUIDELINE")}}},Tu=Mu,$u=Object(l["a"])(Tu,Pu,Eu,!1,null,null,null),Su=$u.exports;W()($u,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Uu={mixins:[$,S,I,O,j],data:function(){return{fab:!1,search:"",guidelines_id:[],headers:[{text:"Nome",value:"name"},{text:"Descrição",value:"description",align:"left"},{text:"Operação",align:"center",sortable:!1,value:"action"}],guideline:[]}},computed:{guidelines:function(){return this.$store.getters.guidelines}},created:function(){var t=this;this.getAll(this.guidelines,"getGuidelines"),window.getApp.$on("APP_UPDATE_ALL_GUIDELINES_DATA",(function(){t.refresh("getGuidelines")}))},components:{AddGuideline:Vu,UpdateGuideline:Su},methods:{addGuidelineModal:function(){window.getApp.$emit("APP_ADD_GUIDELINE_MODAL")},updateGuidelineModal:function(t){this.guideline=this.getSingle("guidelines",t,this.guidelines),window.getApp.$emit("APP_UPDATE_GUIDELINE_MODAL",this.guideline)}}},Lu=Uu,Ou=(a("f0b7"),Object(l["a"])(Lu,vu,fu,!1,null,"66b5bf96",null)),Ru=Ou.exports;W()(Ou,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Iu={components:{ListGuidelines:Ru}},ju=Iu,qu=Object(l["a"])(ju,mu,pu,!1,null,null,null),Nu=qu.exports;W()(qu,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Fu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-employees")],1)],1)],1)},Gu=[],zu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.schools.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("O registo do colaorador depende da instituição, pelo que não é possível cria-lo sem esse registo")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"add_school"},rounded:"",outlined:"",text:"",color:"primary"}},[t._v("Configurar Instituição")]):t._e()],1)],1)],1)],1):t._e(),0==t.employees.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem colaboradores registados para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",rounded:"",outlined:"",text:"",color:"primary"},on:{click:function(e){return t.addEmployeeModal()}}},[t._v("Criar um colaborador")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar colaborador na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("employees","","APP_UPDATE_ALL_EMPLOYEE_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addEmployeeModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.employees,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.perfil_photo",fn:function(e){var r=e.item;return[a("v-avatar",{attrs:{size:"36px",color:"grey lighten-3"}},[r.perfil_photo?a("img",{attrs:{alt:"Foto de Perfil",src:t.apiUrl+"/images/app/resources/employees/"+r.perfil_photo}}):a("v-icon",{attrs:{color:t.message.color},domProps:{textContent:t._s(t.message.icon)}})],1)]}},{key:"item.active",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-capitalize",attrs:{text:"",disabled:!t.canActive(),loading:t.loadAtivaction[r.id],"x-small":"",color:1==r.active?"primary":"grey darken-2"},on:{click:function(e){return t.toggleStatus("toggleEmployeeStatus",r.id,r.active,"Colaborador","getEmployees")}}},[a("span",[t._v(t._s(1==r.active?"ativo":"desativo"))]),a("span",{staticClass:"custom-loader-class",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{small:""}},[t._v("mdi-dots-horizontal")])],1)])]}},{key:"item.action",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary",small:"",text:"",icon:""}},[a("v-icon",[t._v("mdi-information")])],1),t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",small:"",text:"",icon:""},on:{click:function(e){return t.updateEmployeeModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",small:"",text:"",icon:""},on:{click:function(e){return t.onDelete("employees",r.id,"APP_UPDATE_ALL_EMPLOYEES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],2),a("v-row",[a("v-col",[a("add-employee"),a("update-employee")],1)],1)],1)},Bu=[],Hu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addEmployeeModal,callback:function(e){t.addEmployeeModal=e},expression:"addEmployeeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("span",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Criar Colaborador")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("employee-form",{attrs:{formData:t.formData,update_form:!1}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddEmployee(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddEmployee(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddEmployeeModal}},[t._v("Sair")])],1)],1)],1)},Yu=[],Ku=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"pb-5",attrs:{cols:"12",align:"center"}},[a("v-avatar",{staticClass:"photo-perfil",attrs:{color:t.formData.perfil_photo?"white":"primary",size:t.formData.perfil_photo?100:80},on:{click:t.onActivePerfilPhotoField}},[t.formData.perfil_photo?a("img",{attrs:{src:t.perfilPhotoPath}}):a("v-icon",{attrs:{dark:"",large:""}},[t._v("mdi-cloud-upload")])],1),a("br"),a("small",[t._v(t._s(t.formData.perfil_photo?"Imagem de Perfil do Colaborador":"Carregar uma foto de perfil"))]),a("input",{ref:"upload_perfil_photo_form",staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",name:"perfil_photo"},on:{change:t.onPerfilPhotoChange}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-divider"),a("v-subheader",[t._v("Informações Básicas")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{dense:"",label:"Nome*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("folk.name")||t.errors.collect("name")},model:{value:t.formData.folk.name,callback:function(e){t.$set(t.formData.folk,"name",e)},expression:"formData.folk.name"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{dense:"",label:"Apelido*",name:"lastname",outlined:"","data-vv-lastname":"lastname","error-messages":t.errorMsg("folk.lastname")||t.errors.collect("lastname")},model:{value:t.formData.folk.lastname,callback:function(e){t.$set(t.formData.folk,"lastname",e)},expression:"formData.folk.lastname"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:6",expression:"'required|numeric|max:6'"}],attrs:{placeholder:"000000",dense:"",label:"BI*",name:"ic",outlined:"","data-vv-name":"ic","error-messages":t.errorMsg("ic")||t.errors.collect("ic")},model:{value:t.formData.ic,callback:function(e){t.$set(t.formData,"ic",e)},expression:"formData.ic"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valBirthdateRef",staticStyle:{display:"none"},attrs:{name:"birthdate_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{ref:"birth_date_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|before:valBirthdateRef",expression:"'date_format:dd/MM/yyyy|before:valBirthdateRef'"}],attrs:{dense:"",outlined:"",name:"birthdate",value:t.formated(t.formData.folk.birthdate),label:"Nascimento","prepend-inner-icon":"mdi-calendar",readonly:"","data-vv-as":"birthdate","error-messages":t.errorMsg("folk.birthdate")||t.errors.collect("birthdate")}},r))]}}]),model:{value:t.birthdate_menu,callback:function(e){t.birthdate_menu=e},expression:"birthdate_menu"}},[a("v-date-picker",{ref:"birth_date_picker",attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.birthdate_menu=!1}},model:{value:t.formData.folk.birthdate,callback:function(e){t.$set(t.formData.folk,"birthdate",e)},expression:"formData.folk.birthdate"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-radio-group",{attrs:{dense:"",row:""},model:{value:t.formData.folk.gender,callback:function(e){t.$set(t.formData.folk,"gender",e)},expression:"formData.folk.gender"}},[a("v-radio",{attrs:{label:"Masculino",value:"0"}}),a("v-radio",{attrs:{label:"Feminino",value:"1"}})],1)],1)],1),a("v-divider"),a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Informações de Contactos")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"(+238) ###-##-##",expression:"'(+238) ###-##-##'"},{name:"validate",rawName:"v-validate",value:"required|length:16",expression:"'required|length:16'"}],attrs:{dense:"",placeholder:"(+238) 000-00-00",label:"Telefone*",name:"phone",outlined:"","data-vv-name":"phone","error-messages":t.errorMsg("phone")||t.errors.collect("phone")},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],attrs:{dense:"",label:"Email Coorporativo",name:"email",outlined:"","data-vv-name":"email","error-messages":t.errorMsg("email")||t.errors.collect("email")},on:{change:t.setAccountEmail},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1)],1),a("v-divider"),a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Funções e responsabilidades")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{dense:"",label:"Este colaborador também leciona nesta escola"},model:{value:t.formData.is_teacher,callback:function(e){t.$set(t.formData,"is_teacher",e)},expression:"formData.is_teacher"}})],1),t._l(t.formData.charges,(function(e,r){return[a("v-row",{key:r+"encumbrance",staticClass:"mx-1"},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",name:"charges",outlined:"","no-data-text":"Sem cargos registados",label:"Função do colaborador*",items:t.charges,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-badge-account-horizontal","data-vv-name":"charges","error-messages":t.errorMsg("charges."+r+".encumbrance.charge_id")||t.errors.collect("charges")},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-btn",{attrs:{small:"",icon:"",color:"primary"},on:{click:function(e){return t.addMoreCharges()}}},[a("v-icon",[t._v("mdi-plus-box-multiple-outline")])],1)]},proxy:!0}],null,!0),model:{value:e.encumbrance.charge_id,callback:function(a){t.$set(e.encumbrance,"charge_id",a)},expression:"encumbrance.encumbrance.charge_id"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valActivityBeginRef",refInFor:!0,staticStyle:{display:"none"},attrs:{name:"activity_begin_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{ref:"activity_begin_menu",refInFor:!0,attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(s){var o=s.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|before:valActivityBeginRef",expression:"'required|date_format:dd/MM/yyyy|before:valActivityBeginRef'"}],attrs:{dense:"",outlined:"",name:"activity_begin"+r,value:t.formated(e.encumbrance.activity_begin),label:"Início de atividade*","prepend-inner-icon":"mdi-calendar-arrow-right",readonly:"","data-vv-as":"activity_begin"+r,"error-messages":t.errorMsg("charges."+r+".encumbrance.activity_begin")||t.errors.collect("activity_begin"+r)}},o))]}}],null,!0),model:{value:t.activity_begin_menu,callback:function(e){t.activity_begin_menu=e},expression:"activity_begin_menu"}},[a("v-date-picker",{ref:"activity_begin_picker",refInFor:!0,attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),locale:"pt-pt"},on:{input:function(e){t.activity_begin_menu=!1}},model:{value:e.encumbrance.activity_begin,callback:function(a){t.$set(e.encumbrance,"activity_begin",a)},expression:"encumbrance.encumbrance.activity_begin"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.initialActivityEndDate,expression:"initialActivityEndDate"}],ref:"valActivityEndRef",refInFor:!0,staticStyle:{display:"none"},attrs:{name:"activity_begin_field_target",type:"text"},domProps:{value:t.initialActivityEndDate},on:{input:function(e){e.target.composing||(t.initialActivityEndDate=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(s){var o=s.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|after:valActivityEndRef|before:valActivityBeginRef",expression:"'date_format:dd/MM/yyyy|after:valActivityEndRef|before:valActivityBeginRef'"}],attrs:{dense:"",outlined:"",name:"activity_end"+r,value:t.formated(e.encumbrance.activity_end),label:"Fim de atividade","prepend-inner-icon":"mdi-calendar-arrow-left",readonly:"","data-vv-as":"activity_end"+r,"error-messages":t.errorMsg("charges."+r+".encumbrance.activity_end")||t.errors.collect("activity_end"+r)}},o))]}}],null,!0),model:{value:t.activity_end_menu,callback:function(e){t.activity_end_menu=e},expression:"activity_end_menu"}},[a("v-date-picker",{attrs:{max:(new Date).toISOString().substr(0,10),min:e.encumbrance.activity_begin,"no-title":"",locale:"pt-pt"},on:{input:function(e){t.activity_end_menu=!1}},model:{value:e.encumbrance.activity_end,callback:function(a){t.$set(e.encumbrance,"activity_end",a)},expression:"encumbrance.encumbrance.activity_end"}})],1)],1)],1)]}))],2),a("v-divider"),a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Sessão de utilizador e autenticação")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{dense:"",label:"Vincular este colaborador a uma conta de utilizador"},on:{change:t.setCoEmail},model:{value:t.formData.sync_user_account,callback:function(e){t.$set(t.formData,"sync_user_account",e)},expression:"formData.sync_user_account"}}),a("v-divider")],1),t.formData.sync_user_account?[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{disabled:""==t.formData.email,label:"Utilizar o email coorporativo"},on:{change:t.setAccountEmail},model:{value:t.formData.co_email,callback:function(e){t.$set(t.formData,"co_email",e)},expression:"formData.co_email"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:t.update_form?"6":"12"}},[a("v-text-field",{attrs:{dense:"",disabled:t.formData.co_email,label:"Email de autenticação*",name:"user_mail",outlined:"","error-messages":t.errorMsg("folk.user.email")||t.auth_errors.email},model:{value:t.formData.folk.user.email,callback:function(e){t.$set(t.formData.folk.user,"email",e)},expression:"formData.folk.user.email"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Nome de Utilizador*",name:"username",outlined:"","error-messages":t.errorMsg("folk.user.username")||t.auth_errors.username},model:{value:t.formData.folk.user.username,callback:function(e){t.$set(t.formData.folk.user,"username",e)},expression:"formData.folk.user.username"}})],1),t.update_form&&t.formData.folk.user.username&&t.formData.folk.user.email?t._e():a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{ref:"col_password",attrs:{disabled:t.default_password,dense:"",outlined:"","append-icon":t.show_pass?"mdi-eye":"mdi-eye-off",type:t.show_pass?"text":"password",name:"user_password",label:"Palavra Passe",counter:"",hint:"Caso não seja inserida uma Palavra Passe, o utilizador terá uma palavra passe predefenida","persistent-hint":"","error-messages":t.errorMsg("folk.user.password")||t.auth_errors.password},on:{"click:append":function(e){t.show_pass=!t.show_pass}},model:{value:t.formData.folk.user.password,callback:function(e){t.$set(t.formData.folk.user,"password",e)},expression:"formData.folk.user.password"}})],1)]:t._e()],2),a("v-divider"),a("v-row",[a("v-col",[a("v-switch",{attrs:{label:"Destacar página principal"},model:{value:t.formData.featured,callback:function(e){t.$set(t.formData,"featured",e)},expression:"formData.featured"}})],1)],1),a("v-row",[a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("small",[t._v("(*) campos de preenchimento obrigatório")])])],1)],1)],1),a("add-charge")],1)},Wu=[],Ju=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addChargeModal,callback:function(e){t.addChargeModal=e},expression:"addChargeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-badge-account-horizontal-outline")]),a("small",[t._v(" Criar Cargo")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("charge-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddCharge(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddCharge(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddChargeModal}},[t._v("Sair")])],1)],1)],1)},Xu=[],Zu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome do cargo*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{attrs:{dense:"",name:"section",outlined:"","hide-no-data":"",label:"Sessão do cargo",items:t.sections,"item-text":"name","item-value":"id"},model:{value:t.formData.section,callback:function(e){t.$set(t.formData,"section",e)},expression:"formData.section"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:500",expression:"'max:500'"}],attrs:{dense:"",label:"Descrição deste cargo",name:"description",hint:"Apresente uma pequena descrição deste cargo","persistent-hint":"",outlined:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1)],1)},Qu=[],tm={mixins:[T,$,R,O,pe,N],props:["formData"],data:function(){return{sections:[{id:"1",name:"Direção da Escola"},{id:"2",name:"Secretaria"},{id:"3",name:"Bibliotáca"},{id:"4",name:"Geral"}]}},created:function(){var t=this;window.getApp.$on("APP_ADD_CHARGE",(function(e){t.add(e,"charges",t.$props.formData,"APP_UPDATE_ALL_CHARGES_DATA","APP_ADD_CHARGE_MODAL")})),window.getApp.$on("APP_UPDATE_CHARGE",(function(){t.update("charges/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_CHARGE_MODAL")}))}},em=tm,am=Object(l["a"])(em,Zu,Qu,!1,null,null,null),rm=am.exports;W()(am,{VAutocomplete:yo["a"],VCol:tt["a"],VContainer:xt["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var sm={data:function(){return{addChargeModal:!1,formData:{name:"",description:"",section:"1"}}},created:function(){var t=this;window.getApp.$on("APP_ADD_CHARGE_MODAL",(function(){t.handleAddChargeModal()}))},components:{ChargeForm:rm},methods:{handleAddChargeModal:function(){this.addChargeModal=!this.addChargeModal},handleAddCharge:function(t){window.getApp.$emit("APP_ADD_CHARGE",t)}}},om=sm,im=Object(l["a"])(om,Ju,Xu,!1,null,null,null),nm=im.exports;W()(im,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var lm={mixins:[T,$,R,O,N,pe],props:["formData","update_form"],data:function(){return{auth_errors:{email:"",username:"",password:""},default_password:!1,show_pass:!1,formErrors:[],birthdate_menu:!1,activity_begin_menu:!1,activity_end_menu:!1}},watch:{birthdate_menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.birth_date_picker.activePicker="YEAR"}))}},created:function(){var t=this;this.getAll(this.schools,"getSchools"),this.getAll(this.charges,"getCharges"),window.getApp.$on("APP_ADD_EMPLOYEE",(function(e){t.checkAuthForm()&&t.add(e,"employees",t.$props.formData,"APP_UPDATE_ALL_EMPLOYEES_DATA","APP_ADD_EMPLOYEE_MODAL")})),window.getApp.$on("APP_UPDATE_EMPLOYEE",(function(){t.checkAuthForm()&&t.update("employees/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_EMPLOYEE_MODAL")}))},computed:{charges:function(){return this.$store.getters.charges},schools:function(){return this.$store.getters.schools},initialActivityEndDate:function(){return window.moment(this.$props.formData.charges[0].encumbrance.activity_begin).format("DD/MM/YYYY")},perfilPhotoPath:function(){return this.formData.perfil_photo?this.formData.perfil_photo.length>500?this.formData.perfil_photo:this.apiUrl+"/images/app/resources/employees/"+this.formData.perfil_photo:this.apiUrl+"/images/app/resources/employees/default.svg"}},methods:{checkAuthForm:function(){return this.auth_errors={email:"",username:"",password:""},this.formData.sync_user_account&&(this.formData.folk.user.username||(this.auth_errors.username="Obrigatório introduzir um nome de utilizador"),this.formData.folk.user.email?this.validateAuthEmail(this.formData.folk.user.email)||(this.auth_errors.email="O email introduzido não é válido"):this.auth_errors.email="Obrigatório introduzir email",this.auth_errors.length),!0},validateAuthEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},setCoEmail:function(){this.formData.sync_user_account||(this.formData.co_email=!1)},setAccountEmail:function(){this.formData.sync_user_account&&this.formData.co_email?this.formData.folk.user.email=this.formData.email:this.formData.folk.user.email=""},addMoreCharges:function(){window.getApp.$emit("APP_ADD_CHARGE_MODAL")},onActivePerfilPhotoField:function(){this.$refs.upload_perfil_photo_form.click()},onPerfilPhotoChange:function(t){var e=this,a=t.target.files[0]||t.dataTransfer.files[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(t){e.formData.perfil_photo=t.target.result}}},components:{AddCharge:nm}},cm=lm,dm=(a("b6cb"),Object(l["a"])(cm,Ku,Wu,!1,null,"a015b8f0",null)),um=dm.exports;W()(dm,{VAutocomplete:yo["a"],VAvatar:Et["a"],VBtn:X["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDivider:at["a"],VForm:rt["a"],VIcon:st["a"],VMenu:jt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VSubheader:Xt["a"],VSwitch:Ao["a"],VTextField:it["a"]});var mm={data:function(){return{addEmployeeModal:!1,formData:{ic:"",phone:"",active:!1,featured:!1,perfil_photo:"",email:"",folk_id:"",school_id:"",folk:{name:"",lastname:"",gender:"",birthdate:"",user:{username:"",email:"",password:"",status:"",type:"",folk_id:""}},charges:[{encumbrance:{charge_id:"",employee_id:"",activity_begin:"",activity_end:""}}],is_teacher:!1,co_email:!1,sync_user_account:!1}}},created:function(){var t=this;window.getApp.$on("APP_ADD_EMPLOYEE_MODAL",(function(){t.handleAddEmployeeModal()}))},components:{EmployeeForm:um},methods:{handleAddEmployeeModal:function(){this.addEmployeeModal=!this.addEmployeeModal},handleAddEmployee:function(t){window.getApp.$emit("APP_ADD_EMPLOYEE",t)}}},pm=mm,vm=Object(l["a"])(pm,Hu,Yu,!1,null,null,null),fm=vm.exports;W()(vm,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var hm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateEmployeeModal,callback:function(e){t.updateEmployeeModal=e},expression:"updateEmployeeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-edit")]),a("small",[t._v(" Editar Informações do Colaborador")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("employee-form",{attrs:{formData:t.formData,update_form:!0}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateEmployee(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateEmployeeModel}},[t._v("Sair")])],1)],1)],1)},_m=[],gm={data:function(){return{updateEmployeeModal:!1,teste:null,formData:{id:"",ic:"",phone:"",active:!1,featured:!1,perfil_photo:"",email:"",folk_id:"",school_id:"",folk:{id:"",name:"",lastname:"",gender:"",birthdate:"",user:{id:"",username:"",email:"",password:"",status:"",type:"",folk_id:""}},charges:[{encumbrance:{charge_id:"",employee_id:"",activity_begin:"",activity_end:""}}],is_teacher:!1,co_email:!1,sync_user_account:!1,password_confirmation:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_EMPLOYEE_MODAL",(function(e){e&&t.setEmployeeUpdateForm(e),t.handleUpdateEmployeeModal()}))},components:{EmployeeForm:um},methods:{setEmployeeUpdateForm:function(t){this.teste=t,this.formData.id=t.id,this.formData.ic=t.ic,this.formData.phone=t.phone,this.formData.active=t.active,this.formData.featured=t.featured,this.formData.perfil_photo=t.perfil_photo,this.formData.email=t.email,this.formData.folk_id=t.folk_id,this.formData.school_id=t.school_id,this.formData.folk.id=t.folk.id,this.formData.folk.name=t.folk.name,this.formData.folk.lastname=t.folk.lastname,this.formData.folk.gender=t.folk.gender,this.formData.folk.birthdate=t.folk.birthdate,t.folk.user&&(this.formData.sync_user_account=!0,t.email==t.folk.user.email&&(this.formData.co_email=!0),this.formData.folk.user.id=t.folk.user.id,this.formData.folk.user.username=t.folk.user.username,this.formData.folk.user.email=t.folk.user.email),0!=t.charges.length&&(this.formData.charges=t.charges),t.teacher&&(this.formData.is_teacher=!0)},handleUpdateEmployeeModal:function(){window.getApp.$emit("APP_UPDATE_ALL_EMPLOYEES_DATA"),this.updateEmployeeModal=!this.updateEmployeeModal},closeUpdateEmployeeModel:function(){this.formData={ic:"",id:"",phone:"",active:!1,perfil_photo:"",email:"",folk_id:"",school_id:"",folk:{id:"",name:"",lastname:"",gender:"0",birthdate:"",user:{id:"",username:"",email:"",password:"",status:"",type:"",folk_id:""}},charges:[{encumbrance:{charge_id:"",employee_id:"",activity_begin:"",activity_end:""}}],is_teacher:!1,co_email:!1,sync_user_account:!1,password_confirmation:""},this.updateEmployeeModal=!this.updateEmployeeModal},handleUpdateEmployee:function(){window.getApp.$emit("APP_UPDATE_EMPLOYEE")}}},bm=gm,xm=Object(l["a"])(bm,hm,_m,!1,null,null,null),ym=xm.exports;W()(xm,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Dm={mixins:[$,S,I,O,j,q],data:function(){return{expanded:[],fab:!1,search:"",employees_id:[],headers:[{text:"",value:"perfil_photo"},{text:"Nome",value:"folk.name"},{text:"Apelido",value:"folk.lastname",align:"left"},{text:"Estado",value:"active",align:"center",sortable:!1},{text:"Operação",align:"center",sortable:!1,value:"action"}],employee:[]}},computed:{employees:function(){return this.$store.getters.employees},schools:function(){return this.$store.getters.schools}},created:function(){var t=this;this.getAll(this.employees,"getEmployees"),window.getApp.$on("APP_UPDATE_ALL_EMPLOYEES_DATA",(function(){t.refresh("getEmployees")}))},components:{AddEmployee:fm,UpdateEmployee:ym},methods:{addEmployeeModal:function(){window.getApp.$emit("APP_ADD_EMPLOYEE_MODAL")},updateEmployeeModal:function(t){this.employee=this.getSingle("employees",t,this.employees),window.getApp.$emit("APP_UPDATE_EMPLOYEE_MODAL",this.employee)}}},Am=Dm,Cm=(a("6525"),Object(l["a"])(Am,zu,Bu,!1,null,"56efb178",null)),wm=Cm.exports;W()(Cm,{VAlert:J["a"],VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VTextField:it["a"],VToolbar:Ho["a"]});var km={components:{ListEmployees:wm}},Vm=km,Pm=Object(l["a"])(Vm,Fu,Gu,!1,null,null,null),Em=Pm.exports;W()(Pm,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Mm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-teachers")],1)],1)],1)},Tm=[],$m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.schools.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("O registo do professor depende da instituição, pelo que não é possível cria-lo sem esse registo")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"add_school"},rounded:"",outlined:"",text:"",color:"primary"}},[t._v("Configurar Instituição")]):t._e()],1)],1)],1)],1):t._e(),0==t.teachers.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem professores registados para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",rounded:"",outlined:"",text:"",color:"primary"},on:{click:function(e){return t.addTeacherModal()}}},[t._v("Criar um professor")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar professor na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("teachers","","APP_UPDATE_ALL_TEACHER_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addTeacherModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.teachers,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.perfil_photo",fn:function(e){var r=e.item;return[a("v-avatar",{attrs:{size:"36px",color:"grey lighten-3"}},[r.employee.perfil_photo?a("img",{attrs:{alt:"Foto de Perfil",src:t.apiUrl+"/images/app/resources/employees/"+r.employee.perfil_photo}}):a("v-icon",{attrs:{color:"grey"}},[t._v("mdi-teach")])],1)]}},{key:"item.employee.active",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-capitalize",attrs:{text:"",disabled:!t.canActive(),loading:t.loadAtivaction[r.id],"x-small":"",color:1==r.employee.active?"primary":"grey darken-2"},on:{click:function(e){return t.toggleStatus("toggleTeacherStatus",r.id,r.employee.active,"Professor","getTeachers")}}},[a("span",[t._v(t._s(1==r.employee.active?"ativo":"desativo"))]),a("span",{staticClass:"custom-loader-class",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{small:""}},[t._v("mdi-dots-horizontal")])],1)])]}},{key:"item.action",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"primary",small:"",text:"",icon:""}},[a("v-icon",[t._v("mdi-information")])],1),t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",small:"",text:"",icon:""},on:{click:function(e){return t.updateTeacherModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",small:"",text:"",icon:""},on:{click:function(e){return t.onDelete("teachers",r.id,"APP_UPDATE_ALL_TEACHERS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],2),a("v-row",[a("v-col",[a("add-teacher"),a("update-teacher")],1)],1)],1)},Sm=[],Um=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addTeacherModal,callback:function(e){t.addTeacherModal=e},expression:"addTeacherModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-regular"},[a("v-icon",[t._v("mdi-teach")]),a("span",[t._v(" Regsito de professor")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("teacher-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddTeacher(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddTeacher(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddTeacherModal}},[t._v("Sair")])],1)],1)],1)},Lm=[],Om=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-5",attrs:{cols:"12",align:"center"}},[a("v-avatar",{staticClass:"photo-perfil",attrs:{color:t.formData.employee.perfil_photo?"white":"primary",size:t.formData.employee.perfil_photo?100:80},on:{click:t.onActivePerfilPhotoField}},[t.formData.employee.perfil_photo?a("img",{attrs:{src:t.perfilPhotoPath}}):a("v-icon",{attrs:{dark:"",large:""}},[t._v("mdi-cloud-upload")])],1),a("br"),a("small",[t._v(t._s(t.formData.employee.perfil_photo?"Imagem de Perfil do Colaborador":"Carregar uma foto de perfil"))]),a("input",{ref:"upload_perfil_photo_form",staticStyle:{display:"none"},attrs:{accept:"image/png, image/jpeg",type:"file",name:"perfil_photo"},on:{change:t.onPerfilPhotoChange}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha",expression:"'required|alpha'"}],attrs:{dense:"",label:"Nome",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("employee.folk.name")||t.errors.collect("name")},model:{value:t.formData.employee.folk.name,callback:function(e){t.$set(t.formData.employee.folk,"name",e)},expression:"formData.employee.folk.name"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],attrs:{dense:"",label:"Apelido",name:"lastname",outlined:"","data-vv-lastname":"lastname","error-messages":t.errorMsg("employee.folk.lastname")||t.errors.collect("lastname")},model:{value:t.formData.employee.folk.lastname,callback:function(e){t.$set(t.formData.employee.folk,"lastname",e)},expression:"formData.employee.folk.lastname"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"######",expression:"'######'"},{name:"validate",rawName:"v-validate",value:"required|numeric|max:6",expression:"'required|numeric|max:6'"}],attrs:{placeholder:"000000",dense:"",label:"BI",name:"ic",outlined:"","data-vv-name":"ic","error-messages":t.errorMsg("employee.ic")||t.errors.collect("ic")},model:{value:t.formData.employee.ic,callback:function(e){t.$set(t.formData.employee,"ic",e)},expression:"formData.employee.ic"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valBirthdateRef",staticStyle:{display:"none"},attrs:{name:"birthdate_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{ref:"birth_date_menu",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|before:valBirthdateRef",expression:"'date_format:dd/MM/yyyy|before:valBirthdateRef'"}],attrs:{dense:"",outlined:"",name:"birthdate",value:t.formated(t.formData.employee.folk.birthdate),label:"Nascimento","prepend-inner-icon":"mdi-calendar",readonly:"","data-vv-as":"birthdate","error-messages":t.errorMsg("employee.folk.birthdate")||t.errors.collect("birthdate")}},r))]}}]),model:{value:t.birthdate_menu,callback:function(e){t.birthdate_menu=e},expression:"birthdate_menu"}},[a("v-date-picker",{ref:"birth_date_picker",attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.birthdate_menu=!1}},model:{value:t.formData.employee.folk.birthdate,callback:function(e){t.$set(t.formData.employee.folk,"birthdate",e)},expression:"formData.employee.folk.birthdate"}})],1)],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-radio-group",{directives:[{name:"validate",rawName:"v-validate",value:"included:0,1,2",expression:"'included:0,1,2'"}],attrs:{dense:"",row:"","data-vv-name":"gender","error-messages":t.errors.collect("gender")},model:{value:t.formData.employee.folk.gender,callback:function(e){t.$set(t.formData.employee.folk,"gender",e)},expression:"formData.employee.folk.gender"}},[a("v-radio",{attrs:{label:"Masculino",value:"0"}}),a("v-radio",{attrs:{label:"Feminino",value:"1"}})],1)],1)],1),a("v-divider"),a("v-row",{staticClass:"mt-5"},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"(+238) ###-##-##",expression:"'(+238) ###-##-##'"},{name:"validate",rawName:"v-validate",value:"required|length:16",expression:"'required|length:16'"}],attrs:{dense:"",placeholder:"(+238) 000-00-00",label:"Telefone",name:"phone",outlined:"","data-vv-name":"phone","error-messages":t.errorMsg("employee.phone")||t.errors.collect("phone")},model:{value:t.formData.employee.phone,callback:function(e){t.$set(t.formData.employee,"phone",e)},expression:"formData.employee.phone"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"email",expression:"'email'"}],attrs:{dense:"",label:"Email Coorporativo",name:"email",outlined:"","data-vv-name":"email","error-messages":t.errorMsg("employee.email")||t.errors.collect("email")},on:{change:t.setAccountEmail},model:{value:t.formData.employee.email,callback:function(e){t.$set(t.formData.employee,"email",e)},expression:"formData.employee.email"}})],1)],1),a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-subheader",[t._v("Sessão de utilizador e autenticação")])],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{dense:"",label:"Vincular este colaborador a uma conta de utilizador"},on:{change:t.setCoEmail},model:{value:t.formData.sync_user_account,callback:function(e){t.$set(t.formData,"sync_user_account",e)},expression:"formData.sync_user_account"}}),a("v-divider")],1),t.formData.sync_user_account?[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-checkbox",{attrs:{disabled:""==t.formData.employee.email,label:"Utilizar o email coorporativo"},on:{change:t.setAccountEmail},model:{value:t.formData.co_email,callback:function(e){t.$set(t.formData,"co_email",e)},expression:"formData.co_email"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:t.update_form?"6":"12"}},[a("v-text-field",{attrs:{dense:"",disabled:t.formData.co_email,label:"Email de autenticação*",name:"user_mail",outlined:"","error-messages":t.errorMsg("employee.folk.user.email")||t.auth_errors.email},model:{value:t.formData.employee.folk.user.email,callback:function(e){t.$set(t.formData.employee.folk.user,"email",e)},expression:"formData.employee.folk.user.email"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Nome de Utilizador*",name:"username",outlined:"","error-messages":t.errorMsg("employee.folk.user.username")||t.auth_errors.username},model:{value:t.formData.employee.folk.user.username,callback:function(e){t.$set(t.formData.employee.folk.user,"username",e)},expression:"formData.employee.folk.user.username"}})],1),t.update_form&&t.formData.employee.folk.user?t._e():a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-text-field",{ref:"col_password",attrs:{disabled:t.default_password,dense:"",outlined:"","append-icon":t.show_pass?"mdi-eye":"mdi-eye-off",type:t.show_pass?"text":"password",name:"user_password",label:"Palavra Passe",counter:"",hint:"Caso não seja inserida uma Palavra Passe, o utilizador terá uma palavra passe predefenida","persistent-hint":"","error-messages":t.errorMsg("employee.folk.user.password")},on:{"click:append":function(e){t.show_pass=!t.show_pass}},model:{value:t.formData.employee.folk.user.password,callback:function(e){t.$set(t.formData.employee.folk.user,"password",e)},expression:"formData.employee.folk.user.password"}})],1)]:t._e()],2),a("v-divider"),a("v-row",[a("v-col",{staticClass:"mt-5 mb-0 pb-0",attrs:{cols:"12"}},[a("small",[t._v("(*) campos de preenchimento obrigatório")])])],1)],1)],1)],1)},Rm=[],Im={mixins:[T,$,R,O,N,pe],props:["formData","update_form"],data:function(){return{auth_errors:{email:"",username:"",password:""},default_password:!1,show_pass:!1,formErrors:[],birthdate_menu:!1,activity_begin_menu:!1,activity_end_menu:!1}},watch:{birthdate_menu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.birth_date_picker.activePicker="YEAR"}))}},created:function(){var t=this;window.getApp.$on("APP_ADD_TEACHER",(function(e){t.add(e,"teachers",t.$props.formData,"APP_UPDATE_ALL_TEACHERS_DATA","APP_ADD_TEACHER_MODAL")})),window.getApp.$on("APP_UPDATE_TEACHER",(function(){t.update("teachers/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_TEACHER_MODAL")}))},computed:{perfilPhotoPath:function(){return this.formData.employee.perfil_photo?this.formData.employee.perfil_photo.length>100?this.formData.employee.perfil_photo:this.apiUrl+"/images/app/resources/employees/"+this.formData.employee.perfil_photo:this.apiUrl+"/images/app/resources/employees/default.svg"}},methods:{checkAuthForm:function(){return this.auth_errors={email:"",username:"",password:""},this.formData.sync_user_account&&(this.formData.employee.folk.user.username||(this.auth_errors.username="Obrigatório introduzir um nome de utilizador"),this.formData.employee.folk.user.email?this.validateAuthEmail(this.formData.employee.folk.user.email)||(this.auth_errors.email="O email introduzido não é válido"):this.auth_errors.email="Obrigatório introduzir email",this.auth_errors.length),!0},validateAuthEmail:function(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},setCoEmail:function(){this.formData.sync_user_account||(this.formData.co_email=!1)},setAccountEmail:function(){this.formData.sync_user_account&&this.formData.co_email?this.formData.employee.folk.user.email=this.formData.employee.email:this.formData.employee.folk.user.email=""},onActivePerfilPhotoField:function(){this.$refs.upload_perfil_photo_form.click()},onPerfilPhotoChange:function(t){var e=this,a=t.target.files[0]||t.dataTransfer.files[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(t){e.formData.employee.perfil_photo=t.target.result}}}},jm=Im,qm=(a("0955"),Object(l["a"])(jm,Om,Rm,!1,null,"2a968fe6",null)),Nm=qm.exports;W()(qm,{VAvatar:Et["a"],VCheckbox:Do["a"],VCol:tt["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDivider:at["a"],VForm:rt["a"],VIcon:st["a"],VMenu:jt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VSubheader:Xt["a"],VTextField:it["a"]});var Fm={data:function(){return{addTeacherModal:!1,formData:{id:"",employee_id:"",employee:{id:"",ic:"",phone:"",active:!1,featured:!1,perfil_photo:null,email:"",folk:{id:"",name:"",lastname:"",gender:"",birthdate:"",user:{id:"",username:"",email:"",password:"",status:"",type:"",folk_id:""}}},co_email:!1,sync_user_account:!1,password_confirmation:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_TEACHER_MODAL",(function(){t.handleAddTeacherModal()}))},components:{TeacherForm:Nm},methods:{handleAddTeacherModal:function(){this.addTeacherModal=!this.addTeacherModal},handleAddTeacher:function(t){window.getApp.$emit("APP_ADD_TEACHER",t)}}},Gm=Fm,zm=Object(l["a"])(Gm,Um,Lm,!1,null,null,null),Bm=zm.exports;W()(zm,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Hm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateTeacherModal,callback:function(e){t.updateTeacherModal=e},expression:"updateTeacherModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-regular"},[a("v-icon",[t._v("mdi-folder-edit-outline")]),a("span",[t._v(" Editar informações do professor")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("teacher-form",{attrs:{formData:t.formData,update_form:!0}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateTeacher(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateTeacherModel}},[t._v("Sair")])],1)],1)],1)},Ym=[],Km={data:function(){return{updateTeacherModal:!1,formData:{id:"",employee_id:"",employee:{id:"",ic:"",phone:"",active:!1,featured:!1,perfil_photo:null,email:"",folk:{id:"",name:"",lastname:"",gender:"",birthdate:"",user:{id:"",username:"",email:"",password:"",status:"",type:""}}},co_email:!1,sync_user_account:!1,password_confirmation:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_TEACHER_MODAL",(function(e){e&&t.setTeacherUpdateForm(e),t.handleUpdateTeacherModal()}))},components:{TeacherForm:Nm},methods:{setTeacherUpdateForm:function(t){this.formData.id=t.id,this.formData.employee_id=t.employee_id,this.formData.employee.id=t.employee.id,this.formData.employee.ic=t.employee.ic,this.formData.employee.phone=t.employee.phone,this.formData.employee.active=t.employee.active,this.formData.employee.perfil_photo=t.employee.perfil_photo,this.formData.employee.email=t.employee.email,this.formData.employee.folk.id=t.employee.folk.id,this.formData.employee.folk.name=t.employee.folk.name,this.formData.employee.folk.lastname=t.employee.folk.lastname,this.formData.employee.folk.gender=t.employee.folk.gender,this.formData.employee.folk.birthdate=t.employee.folk.birthdate,t.employee.folk.user&&(this.formData.sync_user_account=!0,t.employee.email==t.employee.folk.user.email&&(this.formData.co_email=!0),this.formData.employee.folk.user.id=t.employee.folk.user.id,this.formData.employee.folk.user.username=t.employee.folk.user.username,this.formData.employee.folk.user.email=t.employee.folk.user.email)},handleUpdateTeacherModal:function(){window.getApp.$emit("APP_UPDATE_ALL_TEACHERS_DATA"),this.updateTeacherModal=!this.updateTeacherModal},closeUpdateTeacherModel:function(){this.formData={id:"",employee_id:"",employee:{ic:"",id:"",phone:"",active:!1,featured:!1,perfil_photo:null,email:"",folk:{id:"",name:"",lastname:"",gender:"",birthdate:"",user:{id:"",username:"",email:"",password:"",status:"",type:""}}},co_email:!1,sync_user_account:!1,password_confirmation:""},this.updateTeacherModal=!this.updateTeacherModal},handleUpdateTeacher:function(){window.getApp.$emit("APP_UPDATE_TEACHER")}}},Wm=Km,Jm=Object(l["a"])(Wm,Hm,Ym,!1,null,null,null),Xm=Jm.exports;W()(Jm,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Zm={mixins:[$,S,I,O,j,q],data:function(){return{expanded:[],fab:!1,search:"",teachers_id:[],headers:[{text:"",value:"perfil_photo"},{text:"Nome",value:"employee.folk.name"},{text:"Apelido",value:"employee.folk.lastname",align:"left"},{text:"Estado",value:"employee.active",sortable:!1,align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"}],teacher:[]}},computed:{teachers:function(){return this.$store.getters.teachers},schools:function(){return this.$store.getters.schools}},created:function(){var t=this;this.getAll(this.teachers,"getTeachers"),window.getApp.$on("APP_UPDATE_ALL_TEACHERS_DATA",(function(){t.refresh("getTeachers")}))},components:{AddTeacher:Bm,UpdateTeacher:Xm},methods:{addTeacherModal:function(){window.getApp.$emit("APP_ADD_TEACHER_MODAL")},updateTeacherModal:function(t){this.teacher=this.getSingle("teachers",t,this.teachers),window.getApp.$emit("APP_UPDATE_TEACHER_MODAL",this.teacher)}}},Qm=Zm,tp=(a("b49d"),Object(l["a"])(Qm,$m,Sm,!1,null,"676dbe12",null)),ep=tp.exports;W()(tp,{VAlert:J["a"],VAvatar:Et["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VTextField:it["a"],VToolbar:Ho["a"]});var ap={components:{ListTeachers:ep}},rp=ap,sp=Object(l["a"])(rp,Mm,Tm,!1,null,null,null),op=sp.exports;W()(sp,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var ip=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-charges")],1)],1)],1)},np=[],lp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar cargo na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("charges","","APP_UPDATE_ALL_CHARGE_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addChargeModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.charges,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",small:"",icon:""},on:{click:function(e){return t.updateChargeModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",small:"",icon:""},on:{click:function(e){return t.onDelete("charges",r.id,"APP_UPDATE_ALL_CHARGES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-charge"),a("update-charge")],1)],1)],1)},cp=[],dp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateChargeModal,callback:function(e){t.updateChargeModal=e},expression:"updateChargeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")]),a("small",[t._v(" Editar Marco Histórico")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("charge-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateCharge(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateMaskModel}},[t._v("Sair")])],1)],1)],1)},up=[],mp={data:function(){return{updateChargeModal:!1,formData:{name:"",description:"",section:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_CHARGE_MODAL",(function(e){e&&t.setChargeUpdateForm(e),t.handleUpdateChargeModal()}))},components:{ChargeForm:rm},methods:{setChargeUpdateForm:function(t){this.formData=t},handleUpdateChargeModal:function(){window.getApp.$emit("APP_UPDATE_ALL_CHARGES_DATA"),this.updateChargeModal=!this.updateChargeModal},closeUpdateMaskModel:function(){this.formData={name:"",description:"",section:""},this.updateChargeModal=!this.updateChargeModal},handleUpdateCharge:function(){window.getApp.$emit("APP_UPDATE_CHARGE")}}},pp=mp,vp=Object(l["a"])(pp,dp,up,!1,null,null,null),fp=vp.exports;W()(vp,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var hp={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",charges_id:[],headers:[{text:"Cargo",value:"name"},{text:"Descrição do Cargo",value:"description",align:"left"},{text:"Operação",align:"center",sortable:!1,value:"action"}],charge:[]}},computed:{charges:function(){return this.$store.getters.charges}},created:function(){var t=this;this.getAll(this.charges,"getCharges"),window.getApp.$on("APP_UPDATE_ALL_CHARGES_DATA",(function(){t.refresh("getCharges")}))},components:{AddCharge:nm,UpdateCharge:fp},methods:{addChargeModal:function(){window.getApp.$emit("APP_ADD_CHARGE_MODAL")},updateChargeModal:function(t){this.charge=this.getSingle("charges",t,this.charges),window.getApp.$emit("APP_UPDATE_CHARGE_MODAL",this.charge)}}},_p=hp,gp=(a("7991"),Object(l["a"])(_p,lp,cp,!1,null,"013a4023",null)),bp=gp.exports;W()(gp,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var xp={components:{ListCharges:bp}},yp=xp,Dp=Object(l["a"])(yp,ip,np,!1,null,null,null),Ap=Dp.exports;W()(Dp,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Cp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",[a("router-view")],1)],1)],1)},wp=[],kp={},Vp=Object(l["a"])(kp,Cp,wp,!1,null,null,null),Pp=Vp.exports;W()(Vp,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Ep=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.disciplines.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Nenhuma disciplina encontrada na base de dados, recomenda-se o seu registo, antes de configurar os cursos")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"list_disciplines"},rounded:"",outlined:"",color:"primary",text:""}},[t._v("Gerir Disciplinas")]):t._e()],1)],1)],1)],1):t._e(),0==t.departments.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""},model:{value:t.dep_alert,callback:function(e){t.dep_alert=e},expression:"dep_alert"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Atenção, para conigurar um curso, precisa-se de departamentos, que ainda não se encontram registados")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"list_departments"},rounded:"",outlined:"",text:"",color:"primary"}},[t._v("Crai um departamento")]):t._e()],1)],1)],1)],1):t._e(),0==t.outcomes.length?a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"info",text:"",elevation:"2",dismissible:"",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" Ainda não existem saídas profissionais ou académicas registados para atrubuir ao curso, mas pode-se regista-las durante a sua configuração. Ou então, "),a("v-btn",{attrs:{color:"primary",small:"",text:"",outlined:"",rounded:"",to:{name:"list_outcomes"}}},[t._v("Aqui")])],1)],1)],1)],1):t._e(),0==t.courses.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[t._v("Sem nenhum curso registados para apresentar")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"article, actions"}})],1)]:[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar Cursos...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("courses","","APP_UPDATE_ALL_COURSES_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1)],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.courses,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","footer-props":{itemsPerPageText:"Registos por página"}},scopedSlots:t._u([{key:"item.status",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-capitalize",attrs:{text:"",disabled:!t.canActive(),loading:t.loadAtivaction[r.id],"x-small":"",color:1==r.status?"primary":"grey darken-2"},on:{click:function(e){return t.toggleStatus("toggleCourseStatus",r.id,r.status,"Curso","getCourses")}}},[a("span",[t._v(t._s(1==r.status?"ativo":"desativo"))]),a("span",{staticClass:"custom-loader-class",attrs:{slot:"loader"},slot:"loader"},[a("v-icon",{attrs:{small:""}},[t._v("mdi-dots-horizontal")])],1)])]}},{key:"item.color",fn:function(e){var r=e.item;return[a("v-chip",{attrs:{color:r.color,label:"","x-small":"",outlined:""}},[t._v(t._s(r.color))])]}},{key:"item.action",fn:function(e){var r=e.item;return[a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"info",icon:""},on:{click:function(e){return t.onView("view_course",r.slug)}}},[a("v-icon",[t._v("mdi-information-variant")])],1),t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:""},on:{click:function(e){return t.onUpdate("update_course",r.slug)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:""},on:{click:function(e){return t.onDelete("courses",r.id,"APP_UPDATE_ALL_COURSES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)]],2),a("v-row",[a("v-col",[a("v-card",{attrs:{id:"courses-action"}},[a("v-speed-dial",{attrs:{bottom:"bottom",right:"right",direction:"top",transition:"slide-y-reverse-transition"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-btn",{attrs:{color:"primary",dark:"",fab:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("v-icon",[t._v("mdi-dots-vertical")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[t.canAdd()?a("v-btn",{attrs:{to:{name:"add_course"},fab:"",dark:"",small:"",color:"primary"}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1)],1)],1)],1)],1)},Mp=[],Tp={mixins:[$,S,O,I,j,q,U],data:function(){return{fab:!1,dep_alert:!0,search:"",selected:[],headers:[{text:"Curso",value:"name"},{text:"Cor",value:"color",align:"center"},{text:"Data de Abertura",value:"release"},{text:"Estado",value:"status",align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"}]}},created:function(){var t=this;this.getAll(this.courses,"getCourses"),this.getAll(this.departments,"getDepartments"),this.getAll(this.outcomes,"getOutcomes"),this.getAll(this.disciplines,"getDisciplines"),window.getApp.$on("APP_UPDATE_ALL_COURSES_DATA",(function(){t.refresh("getCourses")}))},computed:{courses:function(){return this.$store.getters.courses},outcomes:function(){return this.$store.getters.outcomes},disciplines:function(){return this.$store.getters.disciplines},departments:function(){return this.$store.getters.departments}}},$p=Tp,Sp=(a("86f3"),Object(l["a"])($p,Ep,Mp,!1,null,"970fbe3e",null)),Up=Sp.exports;W()(Sp,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VChip:Ee["a"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VSpeedDial:Bo["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Lp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:"","ma-0":"","pa-0":""}},[a("v-row",[a("v-col",[a("v-card",[a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-subheader",[t._v("Registo de novo curso")]),a("course-form",{attrs:{formData:t.formData,update_form:!1}})],1)],1)],1)],1)],1)},Op=[],Rp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.departments.length?a("div",[a("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2",dismissible:"",prominent:"",icon:"mdi-alert",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Atenção, formulário de criação do curso indesponível porque falta registar alguns dados dos quais o curso depende, como departamentos e disciplinas...")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none ma-1",attrs:{small:"",to:{name:"list_departments"},rounded:"",outlined:"",text:"",color:"primary"}},[t._v("Configurar Departamentos")]):t._e(),t.canAdd()?a("v-btn",{staticClass:"text-none ma-1",attrs:{small:"",to:{name:"list_disciplines"},rounded:"",outlined:"",color:"primary",text:""}},[t._v("Gerir Disciplinas")]):t._e()],1)],1)],1)],1):a("div",[a("v-stepper",{attrs:{"non-linear":"",vertical:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>1,step:"1",rules:[function(){return t.courseForm1Error()}]}},[t._v(" Informações Básicas "),a("small",[t._v("Registe as informações básicas da escola")])]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-1"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-1")}}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"max:100|required|alpha_spaces",expression:"'max:100|required|alpha_spaces'"}],attrs:{dense:"",outlined:"",name:"name",label:"Nome do curso","data-vv-name":"form-step-1.name","error-messages":t.errorMsg("name")||t.errors.collect("form-step-1.name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",name:"type",outlined:"","hide-no-data":"","disable-lookup":"","no-filter":"",label:"Tipo de curso*",items:t.course_types,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"form-step-1.type","error-messages":t.errorMsg("type")||t.errors.collect("form-step-1.type")},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:1000",expression:"'required|max:1000'"}],attrs:{dense:"",outlined:"",rows:"5",name:"description",label:"Descrição do curso","auto-grow":"",counter:"","data-vv-name":"form-step-1.description","error-messages":t.errorMsg("description")||t.errors.collect("form-step-1.description"),hint:"Faça uma pequena apresentação deste curso"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valStartReleaseRef",staticStyle:{display:"none"},attrs:{name:"release_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|before:valStartReleaseRef",expression:"'required|date_format:dd/MM/yyyy|before:valStartReleaseRef'"}],attrs:{dense:"",outlined:"",name:"release",value:t.formated(t.formData.release),label:"Data de lançamento do curso","prepend-icon-outer":"mdi-calendar",readonly:"","data-vv-as":"form-step-1.release","error-messages":t.errorMsg("release")||t.errors.collect("form-step-1.release")}},r))]}}]),model:{value:t.release_menu,callback:function(e){t.release_menu=e},expression:"release_menu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:"1950-01-01",locale:"pt-pt"},on:{input:function(e){t.release_menu=!1}},model:{value:t.formData.release,callback:function(e){t.$set(t.formData,"release",e)},expression:"formData.release"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-slider",{attrs:{"thumb-label":"always","thumb-size":20,dense:"",step:"1",ticks:"always","tick-size":"3",color:"primary","track-color":"grey",max:t.Maxtimer,min:"1",hint:"Defina aqui a duração deste curso","persistent-hint":""},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("v-select",{attrs:{"hide-no-data":"","disable-lookup":"",dense:"","hide-details":"",outlined:"",items:t.duration_types,"item-text":"name","item-value":"key",label:"Duração do curso em:"},on:{change:t.resetDuration},model:{value:t.formData.duration_type,callback:function(e){t.$set(t.formData,"duration_type",e)},expression:"formData.duration_type"}})]},proxy:!0}]),model:{value:t.formData.duration,callback:function(e){t.$set(t.formData,"duration",e)},expression:"formData.duration"}})],1)],1),a("v-divider"),a("v-row",{staticClass:"my-3"},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>2,step:"2",rules:[function(){return t.courseForm2Error()}]}},[t._v(" Gestão do Curso "),a("small",[t._v("Informações referentes à coordenação do cursos e os seus módulos")])]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-2"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-2")}}},[a("v-row",{staticClass:"mt-1"},[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",name:"department",outlined:"","hide-no-data":"","disable-lookup":"",label:"Departamento do Curso*",clearable:"",items:t.departments,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"form-step-2.department","error-messages":t.errors.collect("form-step-2.department")},model:{value:t.formData.department_id,callback:function(e){t.$set(t.formData,"department_id",e)},expression:"formData.department_id"}})],1)],1),a("v-divider"),t._l(t.formData.teachers,(function(e,r){return[a("v-row",{key:r+"coordinator"},[0==r?a("v-col",{attrs:{cols:"12"}},[a("span",[t._v("Coordenação do curso")])]):t._e(),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",name:"teacher"+r,outlined:"","hide-no-data":"","disable-lookup":"",label:"Coordenador(a) do Curso",clearable:"",items:t.teachers,"item-text":"employee.folk.name","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"form-step-2.teacher"+r,"error-messages":t.errorMsg("teachers."+r+".coordination.teacher_id")||t.errors.collect("form-step-2.teacher"+r)},model:{value:e.coordination.teacher_id,callback:function(a){t.$set(e.coordination,"teacher_id",a)},expression:"teacher.coordination.teacher_id"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.actual_date,expression:"actual_date"}],ref:"valStartStart_dateRef",refInFor:!0,staticStyle:{display:"none"},attrs:{name:"start_date_field_target",type:"text"},domProps:{value:t.actual_date},on:{input:function(e){e.target.composing||(t.actual_date=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(s){var o=s.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required|date_format:dd/MM/yyyy|before:valStartStart_dateRef",expression:"'required|date_format:dd/MM/yyyy|before:valStartStart_dateRef'"}],attrs:{dense:"",outlined:"",name:"start_date"+r,value:t.formated(e.coordination.start_date),label:"Início da Coordenação","prepend-icon":"mdi-calendar-arrow-right",readonly:"","data-vv-as":"form-step-2.start_date"+r,"error-messages":t.errorMsg("teachers."+r+".coordination.start_date")||t.errors.collect("form-step-2.start_date"+r)}},o))]}}],null,!0),model:{value:t.start_date_menu,callback:function(e){t.start_date_menu=e},expression:"start_date_menu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),locale:"pt-pt"},on:{input:function(e){t.start_date_menu=!1}},model:{value:e.coordination.start_date,callback:function(a){t.$set(e.coordination,"start_date",a)},expression:"teacher.coordination.start_date"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.initialEndCoordenationDate,expression:"initialEndCoordenationDate"}],ref:"valStartEnd_dateRef",refInFor:!0,staticStyle:{display:"none"},attrs:{name:"end_date_field_target",type:"text"},domProps:{value:t.initialEndCoordenationDate},on:{input:function(e){e.target.composing||(t.initialEndCoordenationDate=e.target.value)}}}),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(s){var o=s.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"date_format:dd/MM/yyyy|after:valStartEnd_dateRef|before:valStartStart_dateRef",expression:"'date_format:dd/MM/yyyy|after:valStartEnd_dateRef|before:valStartStart_dateRef'"}],attrs:{dense:"",outlined:"",name:"end_date"+r,value:t.formated(e.coordination.end_date),label:"Fim da Coordenação","prepend-icon":"mdi-calendar-arrow-left",readonly:"","data-vv-as":"form-step-2.end_date"+r,"error-messages":t.errorMsg("teachers."+r+".coordination.end_date")||t.errors.collect("form-step-2.end_date"+r)}},o))]}}],null,!0),model:{value:t.end_date_menu,callback:function(e){t.end_date_menu=e},expression:"end_date_menu"}},[a("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10),min:e.coordination.start_date,locale:"pt-pt"},on:{input:function(e){t.end_date_menu=!1}},model:{value:e.coordination.end_date,callback:function(a){t.$set(e.coordination,"end_date",a)},expression:"teacher.coordination.end_date"}})],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",align:"right"}},[a("v-btn",{staticClass:"text-none",attrs:{color:t.noAttribution?"error":"primary",text:"",small:""},on:{click:function(e){e.stopPropagation(),t.manage_disciplines_dialog=!0}}},[t._v(t._s(t.noAttribution?"Sem disciplinas atribuidos, clique aqui para configurar as disciplinas para este curso":"Configurar as disciplinas ou os módulos para este curso"))]),a("v-dialog",{attrs:{scrollable:"","max-width":"940px"},model:{value:t.manage_disciplines_dialog,callback:function(e){t.manage_disciplines_dialog=e},expression:"manage_disciplines_dialog"}},[a("v-card",[a("v-card-title",{staticClass:"grey lighten-4"},[a("small",{staticClass:"font-weight-light"},[a("v-icon",[t._v("mdi-form-dropdown")]),a("span",[t._v(" Registar disciplinas no curso")])],1)]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{outlined:"",dense:"",name:"disciplines",items:t.disciplines,"hide-no-data":"","disable-lookup":"","item-text":"name","item-value":"id",label:"Disciplina*",hint:"Selecione uma disciplina nesta lista","persistent-hint":"","error-messages":t.repeatedAttribution?"Esta disciplina já foi configurada, podes editá-la!":""},on:{change:function(e){return t.findRepeatedAttribution(t.attribution.attribution.discipline_id)}},model:{value:t.attribution.attribution.discipline_id,callback:function(e){t.$set(t.attribution.attribution,"discipline_id",e)},expression:"attribution.attribution.discipline_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{outlined:"",type:"number",dense:"",name:"workload",label:"Carga Horária (Horas)","prepend-icon":"mdi-timeline-clock",hint:"Atribua a carga horária desta disciplina neste curso"},model:{value:t.attribution.attribution.workload,callback:function(e){t.$set(t.attribution.attribution,"workload",e)},expression:"attribution.attribution.workload"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"",name:"academic_year",items:["1º Ano","2º Ano"],"disable-lookup":"",label:"Ano curricular"},model:{value:t.attribution.attribution.academic_year,callback:function(e){t.$set(t.attribution.attribution,"academic_year",e)},expression:"attribution.attribution.academic_year"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{dense:"",outlined:"",name:"period",items:["1º Trimestre","2º Trimeestre","3º Trimeestre"],"disable-lookup":"",label:"Periodo"},model:{value:t.attribution.attribution.period,callback:function(e){t.$set(t.attribution.attribution,"period",e)},expression:"attribution.attribution.period"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t.on_edit_attribution?[a("v-btn",{staticClass:"text-none ma-1",attrs:{disabled:!t.attributionValidation,small:"",color:t.repeatedAttribution?"error":"primary"},on:{click:function(e){return e.stopPropagation(),t.updateAttribution()}}},[t._v("Atualizar este registo")]),a("v-btn",{staticClass:"text-none ma-1",attrs:{small:"",color:"warning"},on:{click:function(e){return e.stopPropagation(),t.cancelUpdateAttribution(e)}}},[t._v("Cancelar")])]:a("v-btn",{staticClass:"text-none ma-1",attrs:{disabled:!t.attributionValidation,small:"",color:t.repeatedAttribution?"error":"primary"},on:{click:function(e){return e.stopPropagation(),t.addAttribution()}}},[t._v("Adicionar esta disciplina")])],2)],1),t.formData.disciplines.length?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{attrs:{"fixed-header":"",height:"300px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Disciplina")]),a("th",{staticClass:"text-left"},[t._v("Carga Horária")]),a("th",{staticClass:"text-left"},[t._v("Ano Académico")]),a("th",{staticClass:"text-left"},[t._v("Periodo")]),a("th",{staticClass:"text-center"},[t._v("Op")])])]),a("tbody",t._l(t.formData.disciplines,(function(e,r){return a("tr",{key:"attribution"+r},[a("td",t._l(t.disciplines,(function(r,s){return a("span",{key:"d"+s},[r.id==e.attribution.discipline_id?a("span",[t._v(t._s(r.name))]):t._e()])})),0),a("td",[t._v(t._s(e.attribution.workload))]),a("td",[t._v(t._s(e.attribution.academic_year))]),a("td",[t._v(t._s(e.attribution.period))]),a("td",{staticClass:"text-center"},[a("v-btn",{attrs:{icon:"",small:"",color:"warning",disabled:t.on_edit_attribution},on:{click:function(e){return e.stopPropagation(),t.editAttribution(r)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-pencil")])],1),a("v-btn",{attrs:{icon:"",small:"",color:"error",disabled:t.on_edit_attribution},on:{click:function(e){return e.stopPropagation(),t.removeAttribution(r)}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}],null,!0)})],1)],1):t._e()],1),a("small",[t._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"text-none",attrs:{color:"grey darken-2",text:"",small:""},on:{click:function(e){return t.cancelAllAttribution()}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-close")]),t._v("Cancelar ")],1),a("v-btn",{staticClass:"text-none",attrs:{color:"blue darken-1",text:"",small:""},on:{click:function(e){return t.closeAttrModelAndContinue("form-step-2")}}},[a("v-icon",{attrs:{small:""}},[t._v("mdi-page-next")]),t._v("Continuar com o registo do curso ")],1)],1)],1)],1)],1)],1)]})),a("v-divider"),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:t.noAttribution?"error":"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],2)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>3,step:"3",rules:[function(){return t.courseForm3Error()}]}},[t._v(" Quesitos "),a("small",[t._v("Perfil de acesso ao curso e perfil de saída")])]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-3"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-3")}}},[a("v-row",[a("v-col",{staticClass:"my-2 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:500",expression:"'required|max:500'"}],attrs:{dense:"",outlined:"",rows:"5",name:"requirement",label:"Perfil de Entrada","auto-grow":"","data-vv-name":"form-step-3.requirement","error-messages":t.errorMsg("requirement")||t.errors.collect("form-step-3.requirement"),hint:"Descreva as especificações necessarias para acessar o curso"},model:{value:t.formData.requirement,callback:function(e){t.$set(t.formData,"requirement",e)},expression:"formData.requirement"}})],1),a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outlined:"","no-data-text":"Nenhum perfil com esse nome",chips:"","deletable-chips":"",label:"Perfil de Saída",counter:"",multiple:"","open-on-clear":"",items:t.outcomes,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-account-tie","data-vv-name":"form-step-3.outcomes","error-messages":t.errors.collect("form-step-3.outcomes")},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-btn",{attrs:{"x-small":"",fab:"",color:"primary"},on:{click:function(e){return t.addMoreOutcome()}}},[a("v-icon",[t._v("mdi-plus")])],1)]},proxy:!0}]),model:{value:t.formData.outcomes,callback:function(e){t.$set(t.formData,"outcomes",e)},expression:"formData.outcomes"}})],1)],1),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",type:"submit",color:"primary",rounded:""}},[t._v("Seguinte")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")])],1)],1)],1)],1),a("v-stepper-step",{attrs:{editable:t.update_form,complete:t.step>4,step:"4"}},[t._v(" Apresentação "),a("small",[t._v("Configure as informações de apresentação da isntituição")])]),a("v-stepper-content",{attrs:{step:"4"}},[a("v-form",{ref:"form",attrs:{"data-vv-scope":"form-step-4"},on:{submit:function(e){return e.preventDefault(),t.nextStep("form-step-4")}}},[a("v-row",[a("v-col",{staticClass:"pa-3",attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("span",[t._v("Especifique que paracterize este curso curso")])]),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({attrs:{dense:"",outlined:"",name:"release",value:t.formData.color,label:"Cor","prepend-icon":"mdi-palette",placeholder:"Selecione a cor que representa o curso",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-chip",{attrs:{color:t.formData.color,small:"",label:""}})]},proxy:!0}],null,!0)},r))]}}]),model:{value:t.color_menu,callback:function(e){t.color_menu=e},expression:"color_menu"}},[a("v-color-picker",{attrs:{flat:""},model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1)],1)],1)],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("span",[t._v("Imagem para representar o curso")])]),a("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[a("v-file-input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],attrs:{dense:"",outlined:"",name:"cover",label:"Capa do curso","prepend-icon":"mdi-camera","show-size":"",accept:"image/png, image/jpeg, image/bmp",rules:t.coverRules,"data-vv-name":"cover","error-messages":t.errors.collect("cover")},on:{change:function(e){return e.target!==e.currentTarget?null:t.onCourseCoverUpload()}},model:{value:t.tempCourseCover,callback:function(e){t.tempCourseCover=e},expression:"tempCourseCover"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-img",{attrs:{contain:"default.svg"==t.formData.cover||!t.formData.cover,height:"170px",src:t.courseCoverPath}},[t.formData.cover?a("v-row",{attrs:{align:"start"}},[a("v-col",{attrs:{align:"right"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.formData.cover=null}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1):t._e()],1)],1)],1)],1)],1),a("v-divider"),a("v-row",[a("v-col",{staticClass:"ml-4",attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Ativação do curso"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}}),a("v-switch",{attrs:{label:"Distacar este curso"},model:{value:t.formData.featured,callback:function(e){t.$set(t.formData,"featured",e)},expression:"formData.featured"}})],1)],1),a("v-divider"),a("v-row",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.prevStep()}}},[t._v("Voltar")]),a("v-btn",{staticClass:"text-none",attrs:{text:"",color:t.hasError?"error":"primary",rounded:""},on:{click:function(e){e.stopPropagation(),t.update_form?t.updateCourse():t.addCourse(!1,"form-step-4")}}},[t.hasError?a("v-icon",{attrs:{small:""}},[t._v("mdi-alert")]):t._e(),t._v("Salvar ")],1),a("v-btn",{staticClass:"text-none",attrs:{text:"",rounded:""},nativeOn:{click:function(e){return t.back()}}},[t._v("Sair")]),a("v-spacer")],1),t.hasError?a("v-col",{attrs:{align:"end"}},[a("small",{staticClass:"error--text"},[t._v("**Os dados enviados não foram guardados, por causa de erros, verefique-os nas sessões anteriores para prosseguir com a operação")])]):t._e()],1)],1)],1)],1)],1),a("add-outcome",{attrs:{add_extra_outcome:!0}})],1)},Ip=[],jp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addOutcomeModal,callback:function(e){t.addOutcomeModal=e},expression:"addOutcomeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Criar nova saída do curso")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("outcome-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[t.add_extra_outcome?a("v-btn",{staticClass:"text-none",attrs:{to:{name:"list_outcomes"},color:"primary","x-small":"",text:""}},[t._v("Gerir as saídas dos cursos")]):t._e(),a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddOutcome(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleAddOutcome(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddOutcomeModal}},[t._v("Sair")])],1)],1)],1)},qp=[],Np=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Designação*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:500",expression:"'required|max:500'"}],attrs:{dense:"",label:"Descrição*",name:"description",hint:"Apresente uma descrição","persistent-hint":"",outlined:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"mt-4 py-0",attrs:{cols:"12"}},[a("v-divider",{staticClass:"pa-2"}),a("span",[t._v("Tipo de saída do curso")]),a("v-radio-group",{attrs:{row:""},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("v-radio",{attrs:{label:"Saída Académica",value:"1"}}),a("v-radio",{attrs:{label:"Saída Profissional",value:"2"}})],1)],1)],1)],1)],1)},Fp=[],Gp={mixins:[T,$,R,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;window.getApp.$on("APP_ADD_OUTCOME",(function(e){t.add(e,"outcomes",t.$props.formData,"APP_UPDATE_ALL_OUTCOMES_DATA","APP_ADD_OUTCOME_MODAL")})),window.getApp.$on("APP_UPDATE_OUTCOME",(function(){t.update("outcomes/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_OUTCOME_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools}}},zp=Gp,Bp=Object(l["a"])(zp,Np,Fp,!1,null,null,null),Hp=Bp.exports;W()(Bp,{VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VForm:rt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var Yp={props:["add_extra_outcome"],mixins:[T],data:function(){return{addOutcomeModal:!1,formData:{name:"",description:"",type:"1"}}},created:function(){var t=this;window.getApp.$on("APP_ADD_OUTCOME_MODAL",(function(){t.handleAddOutcomeModal()}))},components:{OutcomeForm:Hp},methods:{handleAddOutcomeModal:function(){this.addOutcomeModal=!this.addOutcomeModal},handleAddOutcome:function(t){window.getApp.$emit("APP_ADD_OUTCOME",t)}}},Kp=Yp,Wp=Object(l["a"])(Kp,jp,qp,!1,null,null,null),Jp=Wp.exports;W()(Wp,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Xp={props:["formData","update_form"],mixins:[T,pe,R,ec,ac,L,O,$,S,N],data:function(){return{noAttribution:!1,repeatedAttribution:!1,attribution_edited:"",on_edit_attribution:!1,manage_disciplines_dialog:!1,tempCourseCover:null,step:1,release_menu:!1,color_menu:!1,start_date_menu:!1,end_date_menu:!1,duration:"",duration_types:[{key:"1",name:"Ano(s)"},{key:"2",name:"Mês(es)"},{key:"3",name:"Dia(s)"}],dictionary:M,course_types:[{id:"1",name:"Curso Via Técnica"},{id:"2",name:"Formação Profissional"},{id:"3",name:"Capacitação Profissinal"}],attribution:{attribution:{discipline_id:"",workload:"",academic_year:"",period:""}}}},mounted:function(){this.$validator.localize("pt",this.dictionary)},created:function(){this.getAll(this.schools,"getSchools"),this.getAll(this.departments,"getDepartments"),this.getAll(this.teachers,"getActivedTeachers"),this.getAll(this.disciplines,"getDisciplines"),this.getAll(this.outcomes,"getOutcomes")},computed:{courseCoverPath:function(){return this.formData.cover?this.formData.cover.length>100?this.formData.cover:this.apiUrl+"/images/app/courses/covers/"+this.formData.cover:this.apiUrl+"/images/app/courses/covers/default.svg"},schools:function(){return this.$store.getters.schools},departments:function(){return this.$store.getters.departments},teachers:function(){return this.$store.getters.actived_teachers},disciplines:function(){return this.$store.getters.disciplines},outcomes:function(){return this.$store.getters.outcomes},Maxtimer:function(){return"3"==this.formData.duration_type?30:"2"==this.formData.duration_type?12:3},attributionValidation:function(){return""!=this.attribution.attribution.discipline_id},initialEndCoordenationDate:function(){return window.moment(this.$props.formData.teachers[0].coordination.start_date).format("DD/MM/YYYY")}},methods:{clearAttribution:function(){this.attribution={attribution:{discipline_id:"",workload:"",academic_year:"",period:""}}},removeAttribution:function(t){this.removeFormData(t,this.formData.disciplines)},editAttribution:function(t){this.attribution_edited="",this.repeatedAttribution=!1;var e=this.formData.disciplines[t].attribution;this.attribution.attribution.discipline_id=e.discipline_id,this.attribution.attribution.workload=e.workload,this.attribution.attribution.academic_year=e.academic_year,this.attribution.attribution.period=e.period,this.attribution_edited=t,this.on_edit_attribution=!0},cancelAllAttribution:function(){var t=this;this.repeatedAttribution=!1,this.formData.disciplines.length?this.deleteAlert("question","Cancelar","Já se encontram alguns registos na lista, pretendes ignorálos?","Ignorar").then((function(e){e.value&&(t.feedback("error","Registos ignorados, nenhum disciplina vinculada ao curso",3e3,!0,"bottom-end"),t.formData.disciplines=[],t.manage_disciplines_dialog=!1,t.clearAttribution())})):this.manage_disciplines_dialog=!1},cancelUpdateAttribution:function(){this.repeatedAttribution=!1,this.formData.disciplines[this.attribution_edited]=this.formData.disciplines[this.attribution_edited],this.clearAttribution(),this.on_edit_attribution=!1},updateAttribution:function(){this.repeatedAttribution||(this.repeatedAttribution=!1,this.formData.disciplines[this.attribution_edited]=this.attribution,this.clearAttribution(),this.attribution_edited="",this.on_edit_attribution=!1)},addAttribution:function(){this.repeatedAttribution||(this.formData.disciplines.push(this.attribution),this.clearAttribution())},findRepeatedAttribution:function(t){this.repeatedAttribution=!1;for(var e=0;e<this.formData.disciplines.length;e++)if(this.formData.disciplines[e].attribution.discipline_id==t&&e!==this.attribution_edited)return void(this.repeatedAttribution=!0);this.repeatedAttribution=!1},addMoreOutcome:function(){window.getApp.$emit("APP_ADD_OUTCOME_MODAL")},resetDuration:function(){this.formData.duration=1},courseForm1Error:function(){return 0==this.formErrors.length||!(this.formErrors.name||this.formErrors.description||this.formErrors.release)},courseForm2Error:function(){return 0==this.formErrors.length||!(this.formErrors["teachers.0.coordination.teacher_id"]||this.formErrors["teachers.0.coordination.start_date"]||this.formErrors["teachers.0.coordination.end_date"])},courseForm3Error:function(){return 0==this.formErrors.length||!this.formErrors.requirement},closeAttrModelAndContinue:function(t){this.manage_disciplines_dialog=!1,this.nextStep(t)},nextStep:function(t){var e=this;this.noAttribution=!1,this.$validator.validateAll(t).then((function(t){if(t){if(2==e.step&&0==e.formData.disciplines.length)return void(e.noAttribution=!0);e.step++}}))},prevStep:function(){this.step--},onCourseCoverUpload:function(){var t=this,e=new FileReader;e.readAsDataURL(this.tempCourseCover),e.onload=function(e){t.formData.cover=e.target.result}},addCourse:function(t,e){var a=this;this.$validator.validateAll(e).then((function(e){e&&a.add(t,"courses",a.$props.formData,"APP_UPDATE_ALL_COURSES_DATA","",!0,"list_courses")}))},updateCourse:function(){this.update("courses/"+this.$props.formData.slug,this.$props.formData,"APP_UPDATE_ALL_COURSES_DATA",!0,"list_courses")}},components:{AddOutcome:Jp}},Zp=Xp,Qp=a("1f4f"),tv=a("ba0d"),ev=Object(l["a"])(Zp,Rp,Ip,!1,null,null,null),av=ev.exports;W()(ev,{VAlert:J["a"],VAutocomplete:yo["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VColorPicker:bl["a"],VContainer:xt["a"],VDatePicker:Ua["a"],VDialog:et["a"],VDivider:at["a"],VFileInput:vn["a"],VForm:rt["a"],VIcon:st["a"],VImg:Mt["a"],VMenu:jt["a"],VRow:ft["a"],VSelect:ja["a"],VSimpleTable:Qp["a"],VSlider:tv["a"],VSpacer:ot["a"],VStepper:oc["a"],VStepperContent:ic["a"],VStepperStep:nc["a"],VSwitch:Ao["a"],VTextField:it["a"],VTextarea:Qe["a"]});var rv={data:function(){return{formData:{id:"",name:"",description:"",release:"",requirement:"",duration_type:"1",duration:"2",status:!1,featured:!1,type:"",color:"#FFFFFFFF",cover:null,department_id:"",school_id:"",outcomes:[],teachers:[{coordination:{course_id:"",teacher_id:"",start_date:"",end_date:""}}],disciplines:[]}}},components:{CourseForm:av}},sv=rv,ov=Object(l["a"])(sv,Lp,Op,!1,null,null,null),iv=ov.exports;W()(ov,{VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"],VSubheader:Xt["a"]});var nv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",[a("course-info",{attrs:{course:t.course}})],1)],1)],1)},lv=[],cv={mixins:[O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.courses,"getCourses")},computed:{courses:function(){return this.$store.getters.courses},course:function(){return this.$store.getters.course(this.slug)}},components:{CourseInfo:Xs}},dv=cv,uv=Object(l["a"])(dv,nv,lv,!1,null,null,null),mv=uv.exports;W()(uv,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var pv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.course?a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-pencil")]),a("small",[t._v(" Editar Informações do Curso")])],1)]),a("v-card-text",[a("course-form",{attrs:{formData:t.course,update_form:!0}})],1)],1):t._e()},vv=[],fv={mixins:[O,j],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.courses,"getCourses")},computed:{courses:function(){return this.$store.getters.courses},course:function(){return this.$store.getters.course(this.slug)}},methods:{onUpdateCourse:function(){window.getApp.$emit("APP_UPDATE_COURSE")}},components:{CourseForm:av}},hv=fv,_v=Object(l["a"])(hv,pv,vv,!1,null,null,null),gv=_v.exports;W()(_v,{VCard:Z["a"],VCardText:Q["b"],VCardTitle:Q["c"],VIcon:st["a"]});var bv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-outcomes")],1)],1)],1)},xv=[],yv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar saídas na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("outcomes","","APP_UPDATE_ALL_OUTCOME_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addOutcomeModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.outcomes,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",icon:""},on:{click:function(e){return t.updateOutcomeModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",icon:""},on:{click:function(e){return t.onDelete("outcomes",r.id,"APP_UPDATE_ALL_OUTCOMES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-outcome",{attrs:{add_extra_outcome:!1}}),a("update-outcome")],1)],1)],1)},Dv=[],Av=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateOutcomeModal,callback:function(e){t.updateOutcomeModal=e},expression:"updateOutcomeModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Editar saída")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("outcome-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateOutcome(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateOutcomeModel}},[t._v("Sair")])],1)],1)],1)},Cv=[],wv={data:function(){return{updateOutcomeModal:!1,formData:{name:"",type:"",description:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_OUTCOME_MODAL",(function(e){e&&t.setOutcomeUpdateForm(e),t.handleUpdateOutcomeModal()}))},components:{OutcomeForm:Hp},methods:{setOutcomeUpdateForm:function(t){this.formData=t},handleUpdateOutcomeModal:function(){window.getApp.$emit("APP_UPDATE_ALL_OUTCOMES_DATA"),this.updateOutcomeModal=!this.updateOutcomeModal},closeUpdateOutcomeModel:function(){this.formData={name:"",type:"",description:""},this.updateOutcomeModal=!this.updateOutcomeModal},handleUpdateOutcome:function(){window.getApp.$emit("APP_UPDATE_OUTCOME")}}},kv=wv,Vv=Object(l["a"])(kv,Av,Cv,!1,null,null,null),Pv=Vv.exports;W()(Vv,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Ev={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",outcomes_id:[],headers:[{text:"Designação",value:"name"},{text:"Tipo de Saída",value:"type",align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],outcome:[]}},computed:{outcomes:function(){return this.$store.getters.outcomes}},created:function(){var t=this;this.getAll(this.outcomes,"getOutcomes"),window.getApp.$on("APP_UPDATE_ALL_OUTCOMES_DATA",(function(){t.refresh("getOutcomes")}))},components:{AddOutcome:Jp,UpdateOutcome:Pv},methods:{addOutcomeModal:function(){window.getApp.$emit("APP_ADD_OUTCOME_MODAL")},updateOutcomeModal:function(t){this.outcome=this.getSingle("outcomes",t,this.outcomes),window.getApp.$emit("APP_UPDATE_OUTCOME_MODAL",this.outcome)}}},Mv=Ev,Tv=(a("b219"),Object(l["a"])(Mv,yv,Dv,!1,null,"948ca178",null)),$v=Tv.exports;W()(Tv,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var Sv={components:{ListOutcomes:$v}},Uv=Sv,Lv=Object(l["a"])(Uv,bv,xv,!1,null,null,null),Ov=Lv.exports;W()(Lv,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Rv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-disciplines")],1)],1)],1)},Iv=[],jv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar disciplinas na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("disciplines","","APP_UPDATE_ALL_DISCIPLINE_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addDisciplineModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.disciplines,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",small:"",icon:""},on:{click:function(e){return t.updateDisciplineModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",small:"",icon:""},on:{click:function(e){return t.onDelete("disciplines",r.id,"APP_UPDATE_ALL_DISCIPLINES_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-discipline"),a("update-discipline")],1)],1)],1)},qv=[],Nv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addDisciplineModal,callback:function(e){t.addDisciplineModal=e},expression:"addDisciplineModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Registo de nova disciplina")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("discipline-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[t.add_extra_discipline?a("v-btn",{staticClass:"text-none",attrs:{to:{name:"list_disciplines"},color:"primary","x-small":"",text:""}},[t._v("Gerir todas as disciplinas")]):t._e(),a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddDiscipline(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddDiscipline(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddDisciplineModal}},[t._v("Sair")])],1)],1)],1)],1)},Fv=[],Gv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome da Disciplina*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:500",expression:"'max:500'"}],attrs:{dense:"",label:"Descrição",name:"description",hint:"Descrição da Disciplina","persistent-hint":"",outlined:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),a("v-col",{staticClass:"mt-4 py-0",attrs:{cols:"12"}},[a("v-divider",{staticClass:"pa-2"}),a("span",[t._v("Natureza da Disciplina")]),a("v-radio-group",{attrs:{row:""},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("v-radio",{attrs:{label:"Compomentes Gerais",value:"1"}}),a("v-radio",{attrs:{label:"Técnica Tecnológicas",value:"2"}}),a("v-radio",{attrs:{label:"Práticas",value:"3"}})],1)],1)],1)],1)],1)},zv=[],Bv={mixins:[T,$,R,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;window.getApp.$on("APP_ADD_DISCIPLINE",(function(e){t.add(e,"disciplines",t.$props.formData,"APP_UPDATE_ALL_DISCIPLINES_DATA","APP_ADD_DISCIPLINE_MODAL")})),window.getApp.$on("APP_UPDATE_DISCIPLINE",(function(){t.update("disciplines/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_DISCIPLINE_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools}}},Hv=Bv,Yv=Object(l["a"])(Hv,Gv,zv,!1,null,null,null),Kv=Yv.exports;W()(Yv,{VCol:tt["a"],VContainer:xt["a"],VDivider:at["a"],VForm:rt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var Wv={props:["add_extra_discipline"],mixins:[T],data:function(){return{addDisciplineModal:!1,formData:{name:"",description:"",type:"1"}}},created:function(){var t=this;window.getApp.$on("APP_ADD_DISCIPLINE_MODAL",(function(){t.handleAddDisciplineModal()}))},components:{DisciplineForm:Kv},methods:{handleAddDisciplineModal:function(){this.addDisciplineModal=!this.addDisciplineModal},handleAddDiscipline:function(t){window.getApp.$emit("APP_ADD_DISCIPLINE",t)}}},Jv=Wv,Xv=Object(l["a"])(Jv,Nv,Fv,!1,null,null,null),Zv=Xv.exports;W()(Xv,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSpacer:ot["a"]});var Qv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateDisciplineModal,callback:function(e){t.updateDisciplineModal=e},expression:"updateDisciplineModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Editar informações da disciplina")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("discipline-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateDiscipline(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateDisciplineModel}},[t._v("Sair")])],1)],1)],1)},tf=[],ef={data:function(){return{updateDisciplineModal:!1,formData:{name:"",description:"",type:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_DISCIPLINE_MODAL",(function(e){e&&t.setDisciplineUpdateForm(e),t.handleUpdateDisciplineModal()}))},components:{DisciplineForm:Kv},methods:{setDisciplineUpdateForm:function(t){this.formData=t},handleUpdateDisciplineModal:function(){window.getApp.$emit("APP_UPDATE_ALL_DISCIPLINES_DATA"),this.updateDisciplineModal=!this.updateDisciplineModal},closeUpdateDisciplineModel:function(){this.formData={name:"",type:"",description:""},this.updateDisciplineModal=!this.updateDisciplineModal},handleUpdateDiscipline:function(){window.getApp.$emit("APP_UPDATE_DISCIPLINE")}}},af=ef,rf=Object(l["a"])(af,Qv,tf,!1,null,null,null),sf=rf.exports;W()(rf,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var of={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",disciplines_id:[],headers:[{text:"Nome da Dispiplina",value:"name"},{text:"Tipo de Saída",value:"type",align:"center"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],discipline:[]}},computed:{disciplines:function(){return this.$store.getters.disciplines}},created:function(){var t=this;this.getAll(this.disciplines,"getDisciplines"),window.getApp.$on("APP_UPDATE_ALL_DISCIPLINES_DATA",(function(){t.refresh("getDisciplines")}))},components:{AddDiscipline:Zv,UpdateDiscipline:sf},methods:{addDisciplineModal:function(){window.getApp.$emit("APP_ADD_DISCIPLINE_MODAL")},updateDisciplineModal:function(t){this.discipline=this.getSingle("disciplines",t,this.disciplines),window.getApp.$emit("APP_UPDATE_DISCIPLINE_MODAL",this.discipline)}}},nf=of,lf=(a("9c62"),Object(l["a"])(nf,jv,qv,!1,null,"2e58d1ce",null)),cf=lf.exports;W()(lf,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var df={components:{ListDisciplines:cf}},uf=df,mf=Object(l["a"])(uf,Rv,Iv,!1,null,null,null),pf=mf.exports;W()(mf,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var vf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"",fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("list-departments")],1)],1)],1)},ff=[],hf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-toolbar",{attrs:{color:"white",flat:""}},[a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"",solo:"","prepend-icon":"mdi-magnify",placeholder:"Procurar departamentos na tabela...","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t.selected.length>0&&t.canRemove()?[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.onDelete("departments","","APP_UPDATE_ALL_DEPARTMENT_DATA",!0)}}},[a("v-icon",[t._v("mdi-trash-can")])],1)]:t._e(),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-filter-variant")])],1),t.canAdd()?a("v-btn",{attrs:{color:"primary",fab:"",small:""},on:{click:function(e){return t.addDepartmentModal()}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],2),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.departments,"items-per-page":10,"item-key":"id","show-select":"","no-data-text":"Aguardando resposta do servidor...","no-results-text":"Nada para mostrar","single-expand":"",expanded:t.expanded,"show-expand":"","footer-props":{itemsPerPageText:"Registos por página"}},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var r=e.item;return[t.canEdit()?a("v-btn",{staticClass:"text-none mr-1",attrs:{color:"warning",small:"",icon:""},on:{click:function(e){return t.updateDepartmentModal(r.id)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{staticClass:"text-none",attrs:{color:"error",small:"",icon:""},on:{click:function(e){return t.onDelete("departments",r.id,"APP_UPDATE_ALL_DEPARTMENTS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()]}},{key:"expanded-item",fn:function(e){var r=e.item;return[a("td",{attrs:{colspan:t.headers.length}},[t._v(t._s(r.description))])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{staticClass:"ma-4",attrs:{slot:"no-results",value:!0,color:"error",icon:"mdi-alert"},slot:"no-results"},[t._v('A procura pela "'+t._s(t.search)+'" não tem qualquer resultado.')])],1)],1)],1)],1)],1),a("v-row",[a("v-col",[a("add-department"),a("update-department")],1)],1)],1)},_f=[],gf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{scrollable:"","max-width":"640px",persistent:""},model:{value:t.addDepartmentModal,callback:function(e){t.addDepartmentModal=e},expression:"addDepartmentModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Registo de novo departamento")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("department-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[t.add_extra_department?a("v-btn",{staticClass:"text-none",attrs:{to:{name:"list_departments"},color:"primary","x-small":"",text:""}},[t._v("Gerir todas as disciplinas")]):t._e(),a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddDepartment(!0)}}},[t._v("Guardar")]),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.handleAddDepartment(!1)}}},[t._v("Guardar e Sair")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.handleAddDepartmentModal}},[t._v("Sair")])],1)],1)],1)],1)},bf=[],xf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{"grid-list-xs":"","pa-0":"","ma-0":""}},[a("v-row",[a("v-col",{staticClass:"mb-0 py-0",attrs:{cols:"12"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{dense:"",label:"Nome do Departamento*",name:"name",outlined:"","data-vv-name":"name","error-messages":t.errorMsg("name")||t.errors.collect("name")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"max:500",expression:"'max:500'"}],attrs:{dense:"",label:"Descrição",name:"description",hint:"Descrição do Departamento","persistent-hint":"",outlined:"",rows:"4","data-vv-name":"description","error-messages":t.errorMsg("description")||t.errors.collect("description")},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)],1)],1)},yf=[],Df={mixins:[T,$,R,N],props:["formData"],data:function(){return{formErrors:[]}},created:function(){var t=this;window.getApp.$on("APP_ADD_DEPARTMENT",(function(e){t.add(e,"departments",t.$props.formData,"APP_UPDATE_ALL_DEPARTMENTS_DATA","APP_ADD_DEPARTMENT_MODAL")})),window.getApp.$on("APP_UPDATE_DEPARTMENT",(function(){t.update("departments/"+t.$props.formData.id,t.$props.formData,"APP_UPDATE_DEPARTMENT_MODAL")}))},computed:{schools:function(){return this.$store.getters.schools}}},Af=Df,Cf=Object(l["a"])(Af,xf,yf,!1,null,null,null),wf=Cf.exports;W()(Cf,{VCol:tt["a"],VContainer:xt["a"],VForm:rt["a"],VRow:ft["a"],VTextField:it["a"],VTextarea:Qe["a"]});var kf={props:["add_extra_department"],mixins:[T],data:function(){return{addDepartmentModal:!1,formData:{name:"",description:""}}},created:function(){var t=this;window.getApp.$on("APP_ADD_DEPARTMENT_MODAL",(function(){t.handleAddDepartmentModal()}))},components:{DepartmentForm:wf},methods:{handleAddDepartmentModal:function(){this.addDepartmentModal=!this.addDepartmentModal},handleAddDepartment:function(t){window.getApp.$emit("APP_ADD_DEPARTMENT",t)}}},Vf=kf,Pf=Object(l["a"])(Vf,gf,bf,!1,null,null,null),Ef=Pf.exports;W()(Pf,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VSpacer:ot["a"]});var Mf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"640px",persistent:""},model:{value:t.updateDepartmentModal,callback:function(e){t.updateDepartmentModal=e},expression:"updateDepartmentModal"}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("small",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-account-tie")]),a("small",[t._v(" Editar informações do departamento")])],1)]),a("v-divider"),a("v-card-text",{staticClass:"pt-3"},[a("department-form",{attrs:{formData:t.formData}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return e.stopPropagation(),t.handleUpdateDepartment(!0)}}},[t._v("Guardar alterações")]),a("v-btn",{attrs:{small:"",text:""},on:{click:t.closeUpdateDepartmentModel}},[t._v("Sair")])],1)],1)],1)},Tf=[],$f={data:function(){return{updateDepartmentModal:!1,formData:{name:"",description:"",type:""}}},created:function(){var t=this;window.getApp.$on("APP_UPDATE_DEPARTMENT_MODAL",(function(e){e&&t.setDepartmentUpdateForm(e),t.handleUpdateDepartmentModal()}))},components:{DepartmentForm:wf},methods:{setDepartmentUpdateForm:function(t){this.formData=t},handleUpdateDepartmentModal:function(){window.getApp.$emit("APP_UPDATE_ALL_DEPARTMENTS_DATA"),this.updateDepartmentModal=!this.updateDepartmentModal},closeUpdateDepartmentModel:function(){this.formData={name:"",type:"",description:""},this.updateDepartmentModal=!this.updateDepartmentModal},handleUpdateDepartment:function(){window.getApp.$emit("APP_UPDATE_DEPARTMENT")}}},Sf=$f,Uf=Object(l["a"])(Sf,Mf,Tf,!1,null,null,null),Lf=Uf.exports;W()(Uf,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VDialog:et["a"],VDivider:at["a"],VIcon:st["a"],VSpacer:ot["a"]});var Of={mixins:[$,S,I,O,j],data:function(){return{expanded:[],fab:!1,search:"",departments_id:[],headers:[{text:"Departamento",value:"name"},{text:"Operação",align:"center",sortable:!1,value:"action"},{text:"",value:"data-table-expand"}],department:[]}},computed:{departments:function(){return this.$store.getters.departments}},created:function(){var t=this;this.getAll(this.departments,"getDepartments"),window.getApp.$on("APP_UPDATE_ALL_DEPARTMENTS_DATA",(function(){t.refresh("getDepartments")}))},components:{AddDepartment:Ef,UpdateDepartment:Lf},methods:{addDepartmentModal:function(){window.getApp.$emit("APP_ADD_DEPARTMENT_MODAL")},updateDepartmentModal:function(t){this.department=this.getSingle("departments",t,this.departments),window.getApp.$emit("APP_UPDATE_DEPARTMENT_MODAL",this.department)}}},Rf=Of,If=(a("c375"),Object(l["a"])(Rf,hf,_f,!1,null,"45d486eb",null)),jf=If.exports;W()(If,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardText:Q["b"],VCol:tt["a"],VDataTable:zo["a"],VDivider:at["a"],VIcon:st["a"],VRow:ft["a"],VTextField:it["a"],VToolbar:Ho["a"]});var qf={components:{ListDepartments:jf}},Nf=qf,Ff=Object(l["a"])(Nf,vf,ff,!1,null,null,null),Gf=Ff.exports;W()(Ff,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var zf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",[a("router-view")],1)],1)],1)},Bf=[],Hf={},Yf=Object(l["a"])(Hf,zf,Bf,!1,null,null,null),Kf=Yf.exports;W()(Yf,{VCol:tt["a"],VContainer:xt["a"],VRow:ft["a"]});var Wf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",[0==t.sliders.length?[a("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[a("v-alert",{attrs:{tile:"",border:"top","colored-border":"",type:"info",elevation:"2",dismissible:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v("Sem sliders registados para apresentar")]),a("v-col",{staticClass:"shrink"},[t.canAdd()?a("v-btn",{staticClass:"text-none",attrs:{small:"",to:{name:"add_slider"},rounded:"",outlined:"",text:"",color:"primary"}},[t._v("Criar um slider")]):t._e()],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"card, actions"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-skeleton-loader",{staticClass:"elevation-2",attrs:{type:"card, actions"}})],1)]:a("v-card",[a("v-card-title",{staticClass:"primary white--text",attrs:{"primary-title":""}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-play-box-outline")]),a("span",{staticClass:"font-weight-light"},[t._v("Sliders Registados")]),a("v-spacer"),t.canAdd()?a("v-btn",{attrs:{small:"",fab:"",color:"white",to:{name:"add_slider"}}},[a("v-icon",[t._v("mdi-plus")])],1):t._e()],1),a("v-card-text",{staticClass:"pa-3"},[a("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.sliders,(function(e,r){return[a("swiper-slide",{key:"slider_"+r,staticClass:"mb-1"},[a("v-card",{attrs:{width:"100%",height:"100%",tile:""}},[a("v-img",{staticClass:"white--text align-end",attrs:{src:t.apiUrl+"/images/app/sliders/"+e.background,height:"230px",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"}},[a("v-card-title",{staticClass:"font-weight-light",domProps:{textContent:t._s(e.title)}}),a("v-divider"),a("v-card-text",[a("v-chip",{staticClass:"white--text",attrs:{label:"",small:"",color:e.color}},[t._v(t._s(1==e.type?"Curso":2==e.type?"Artigo":"Link externa"))])],1)],1),a("v-card-actions",[a("v-btn",{attrs:{outlined:"","x-small":"",color:1==e.status?"primary":"grey darken-2"},on:{click:function(a){return t.toggleStatus("toggleSliderStatus",e.id,e.status,"Slider","getSliders")}}},[t._v(t._s(1==e.status?"ativo":"desativo"))]),a("v-spacer"),t.canEdit()?a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.onUpdate("update_slider",e.slug)}}},[a("v-icon",[t._v("mdi-pencil")])],1):t._e(),t.canRemove()?a("v-btn",{attrs:{icon:""},on:{click:function(a){return t.onDelete("sliders",e.id,"APP_UPDATE_ALL_SLIDERS_DATA")}}},[a("v-icon",[t._v("mdi-delete")])],1):t._e()],1)],1)],1)]})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"}},[t._v("text")])],1)],1)],2)],1)},Jf=[],Xf={mixins:[$,S,O,I,j,q,U],data:function(){return{slider:[],swiperOption:{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},pagination:{el:".swiper-pagination"}}}},created:function(){var t=this;this.getAll(this.sliders,"getSliders"),window.getApp.$on("APP_UPDATE_ALL_SLIDERS_DATA",(function(){t.refresh("getSliders")}))},computed:{sliders:function(){return this.$store.getters.sliders}}},Zf=Xf,Qf=(a("651e"),Object(l["a"])(Zf,Wf,Jf,!1,null,"ae3a77a0",null)),th=Qf.exports;W()(Qf,{VAlert:J["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VDivider:at["a"],VIcon:st["a"],VImg:Mt["a"],VRow:ft["a"],VSkeletonLoader:la["a"],VSpacer:ot["a"]});var eh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{tile:""}},[a("v-card-title",{staticClass:"grey",attrs:{"primary-title":""}},[a("span",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-play-box-outline")]),a("small",[t._v(" Criar Slider")])],1)]),a("v-card-text",[a("slider-form",{attrs:{formData:t.formData,updating:!1}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.onAddSlider(!1)}}},[t._v("Guardar")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.redirectTo("list_sliders")}}},[t._v("Sair")])],1)],1)},ah=[],rh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"form"},[a("v-container",{attrs:{fluid:"","grid-list-xs":""}},[a("v-row",[a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-card",{attrs:{flat:""}},[a("v-card-title",{staticClass:"pa-0"},[a("v-col",{attrs:{cols:"12",md:(3!=t.formData.type&&t.formData.type,4)}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outlined:"",name:"type",dense:"","hide-no-data":"","disable-lookup":"","no-filter":"",label:"Destino do slider",items:t.slider_types,"item-text":"name","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"type","error-messages":t.errors.collect("type")},on:{change:function(e){return t.resetData()}},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}})],1),t.formData.type&&3!=t.formData.type?a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-autocomplete",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outlined:"",clearable:"",name:"slider_dst",dense:"","hide-no-data":"","disable-lookup":"","no-filter":"",disabled:3==t.formData.type,label:1==t.formData.type?"Seleciones os cursos em destaques":2==t.formData.type?"Selecione os artigos destacados":"",items:1==t.formData.type?t.courses:2==t.formData.type?t.published_articles:[],"item-text":1==t.formData.type?"name":"title","item-value":"id","prepend-inner-icon":"mdi-folder-plus-outline","data-vv-name":"slider_dst","error-messages":t.errors.collect("slider_dst")},on:{change:function(e){return t.setSliderTitle(t.slider_dst)}},model:{value:t.slider_dst,callback:function(e){t.slider_dst=e},expression:"slider_dst"}})],1):t._e(),a("v-col",{attrs:{cols:"12",md:3!=t.formData.type&&t.formData.type?12:8}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{disabled:!t.formData.type||1==t.formData.type||2==t.formData.type,outlined:"",dense:"",name:"title",label:"Título do Slider","data-vv-name":"title","error-messages":t.errorMsg("title")||t.errors.collect("title")},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),a("v-img",{staticClass:"mx-3",attrs:{contain:"default.svg"==t.formData.background||!t.formData.background,height:"170px",src:t.sliderBackgroundPath}},[a("v-container",{attrs:{"grid-list-xs":""}},[a("v-row",[a("v-col",{staticClass:"px-5 mx-3",attrs:{align:"left"}},[a("v-btn",{attrs:{fab:"",small:"",color:"grey lighten-5"},on:{click:function(e){t.formData.background=null}}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1)],1)],1),a("v-card-title",{staticClass:"pa-0"},[a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{directives:[{name:"validate",rawName:"v-validate",value:"image",expression:"'image'"}],attrs:{outlined:"",dense:"",name:"background",label:"Capa do curso","prepend-icon":"mdi-image","show-size":"",accept:"image/png, image/jpeg, image/bmp",rules:t.backgroundRules,"data-vv-name":"background","error-messages":t.errors.collect("background")},on:{change:function(e){return e.target!==e.currentTarget?null:t.onSliderBackgroundUpload()}},model:{value:t.tempSliderBackground,callback:function(e){t.tempSliderBackground=e},expression:"tempSliderBackground"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:200",expression:"'required|max:200'"}],attrs:{outlined:"",dense:"",rows:"3",name:"summary",label:"Resumo","auto-grow":"","data-vv-name":"summary","error-messages":t.errors.collect("summary"),hint:"Apresente um breve resumo deste do conteúdo apresentado"},model:{value:t.formData.summary,callback:function(e){t.$set(t.formData,"summary",e)},expression:"formData.summary"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{outlined:"",dense:"",name:"link",disabled:3!=t.formData.type,label:3!=t.formData.type?"Ligação será inserida automaticamente":"Insira a ligação do Slider (Link)","data-vv-name":"link","error-messages":t.errors.collect("link")},model:{value:t.formData.link,callback:function(e){t.$set(t.formData,"link",e)},expression:"formData.link"}})],1),a("v-col",{attrs:{cols:"12",md:"7"}},[a("v-combobox",{attrs:{outlined:"",name:"type",dense:"","hide-no-data":"","disable-lookup":"","no-filter":"",label:"Texto da ligação",items:["Ler Mais","Ver Mais","Ver Detalhes","Visitar a página","Consultar Informações","Entrar"],"prepend-inner-icon":"mdi-folder-plus-outline"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-radio-group",{staticClass:"ma-0 pa-0",attrs:{dense:"","hide-details":"",row:""},model:{value:t.formData.btn_style,callback:function(e){t.$set(t.formData,"btn_style",e)},expression:"formData.btn_style"}},[a("v-radio",{attrs:{label:"Botão",value:"1"}}),a("v-radio",{attrs:{label:"Texto",value:"2"}})],1)]},proxy:!0}]),model:{value:t.formData.btn_text,callback:function(e){t.$set(t.formData,"btn_text",e)},expression:"formData.btn_text"}})],1)],1),a("v-divider"),a("v-card-text",{staticClass:"ma-0 pa-0"},[a("v-col",{attrs:{cols:"12"}},[a("span",[t._v("Escolha a cor padrão para este slider")])]),a("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-text-field",t._g({attrs:{dense:"",outlined:"",name:"slide_color",value:t.formData.color,label:"Cor","prepend-inner-icon":"mdi-palette",placeholder:"Selecione uma cor para este slider",readonly:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-chip",{attrs:{color:t.formData.color,small:"",label:""}})]},proxy:!0}],null,!0)},r))]}}]),model:{value:t.slider_color_menu,callback:function(e){t.slider_color_menu=e},expression:"slider_color_menu"}},[a("v-color-picker",{attrs:{flat:""},model:{value:t.formData.color,callback:function(e){t.$set(t.formData,"color",e)},expression:"formData.color"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-switch",{attrs:{small:"",label:t.formData.status?"(Slider Ativado) Desativar":"(Slider Desativado) Ativar"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}})],1)],1)],1)],1)],1)],1)},sh=[],oh=(a("9911"),{mixins:[T,R,O,$,N],props:["formData","update_form"],data:function(){return{formErrors:[],slider_color_menu:!1,slider_dst:"",tempSliderBackground:null,backgroundRules:[function(t){return!!t||"File is required"},function(t){return!t||t.size<2e6||"Imagem de capa não pode ter um tamanho superior a 2MB"}],slider_types:[{id:"1",name:"Cursos e Formações"},{id:"2",name:"Publicações"},{id:"3",name:"Ligações externas"}]}},created:function(){var t=this;this.getAll(this.courses,"getFeaturedCourses"),this.getAll(this.published_articles,"getPublishedArticles"),window.getApp.$on("APP_ADD_SLIDER",(function(e){t.add(e,"sliders",t.$props.formData,"APP_UPDATE_ALL_SLIDERS_DATA","APP_CANCEL_ADD_SLIDER",!1,"list_sliders")})),window.getApp.$on("APP_UPDATE_SLIDER",(function(){t.update("sliders/"+t.$props.formData.slug,t.$props.formData,"APP_UPDATE_ALL_SLIDERS_DATA",!1,"list_sliders")}))},computed:{courses:function(){return this.$store.getters.featured_courses},published_articles:function(){return this.$store.getters.published_articles},sliderBackgroundPath:function(){return this.formData.background?this.formData.background.length>100?this.formData.background:this.apiUrl+"/images/app/sliders/"+this.formData.background:this.apiUrl+"/images/app/sliders/default.svg"}},methods:{setSliderTitle:function(t){var e=this.courses.find((function(e){return e.id===t})),a=this.published_articles.find((function(e){return e.id===t}));1==this.formData.type&&(this.formData.title="Curso de "+e.name,this.formData.link=e.slug,this.formData.summary=e.description),2==this.formData.type&&(this.formData.title=a.title,this.formData.link=a.slug,this.formData.summary=a.summary)},resetData:function(){this.slider_dst="",this.formData.title="",this.formData.link="",this.formData.summary=""},onSliderBackgroundUpload:function(){var t=this,e=new FileReader;e.readAsDataURL(this.tempSliderBackground),e.onload=function(e){t.formData.background=e.target.result}}}}),ih=oh,nh=Object(l["a"])(ih,rh,sh,!1,null,null,null),lh=nh.exports;W()(nh,{VAutocomplete:yo["a"],VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VChip:Ee["a"],VCol:tt["a"],VColorPicker:bl["a"],VCombobox:Ze["a"],VContainer:xt["a"],VDivider:at["a"],VFileInput:vn["a"],VForm:rt["a"],VIcon:st["a"],VImg:Mt["a"],VMenu:jt["a"],VRadio:Ca["a"],VRadioGroup:wa["a"],VRow:ft["a"],VSwitch:Ao["a"],VTextField:it["a"],VTextarea:Qe["a"]});var ch={mixins:[L],data:function(){return{addSliderModal:!1,formData:{title:"",summary:"",link:"",btn_text:"Ler Mais",btn_style:"1",background:null,background_type:"1",color:"#3E4095",type:"3",status:!1}}},created:function(){var t=this;window.getApp.$on("APP_CANCEL_ADD_SLIDER",(function(){t.back()}))},methods:{resetFormData:function(){this.formData={title:"",summary:"",link:"",btn_text:"Ler Mais",btn_style:"1",background:null,background_type:"1",color:"#000000ff",type:"",status:!1}},onAddSlider:function(t){window.getApp.$emit("APP_VALIDATE_DATE"),window.getApp.$emit("APP_ADD_SLIDER",t)}},components:{SliderForm:lh}},dh=ch,uh=Object(l["a"])(dh,eh,ah,!1,null,null,null),mh=uh.exports;W()(uh,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VIcon:st["a"],VSpacer:ot["a"]});var ph=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Ver Sliders ")])},vh=[],fh={},hh=Object(l["a"])(fh,ph,vh,!1,null,null,null),_h=hh.exports,gh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.slider?a("v-card",[a("v-card-title",{staticClass:"grey",attrs:{"primary-title":""}},[a("span",{staticClass:"font-weight-light text-capitalize"},[a("v-icon",[t._v("mdi-play-box-outline")]),a("small",[t._v(" Editar Slider")])],1)]),a("v-card-text",[a("slider-form",{attrs:{formData:t.slider,update_form:!0}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",small:"",text:""},on:{click:function(e){return t.onUpdateSlider()}}},[t._v("Guadar Alteração")]),a("v-btn",{attrs:{small:"",text:""},on:{click:function(e){return t.redirectTo("list_sliders")}}},[t._v("Terminar")])],1)],1):t._e()},bh=[],xh={mixins:[L,O],data:function(){return{slug:this.$route.params.slug}},created:function(){this.getAll(this.sliders,"getSliders")},computed:{sliders:function(){return this.$store.getters.sliders},slider:function(){return this.$store.getters.slider(this.slug)}},components:{SliderForm:lh},methods:{onUpdateSlider:function(){window.getApp.$emit("APP_UPDATE_SLIDER")}}},yh=xh,Dh=Object(l["a"])(yh,gh,bh,!1,null,null,null),Ah=Dh.exports;W()(Dh,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VIcon:st["a"],VSpacer:ot["a"]});var Ch=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("perfil")],1)},wh=[],kh={components:{Perfil:Na}},Vh=kh,Ph=Object(l["a"])(Vh,Ch,wh,!1,null,null,null),Eh=Ph.exports,Mh=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticStyle:{height:"calc(100vh - 58px)"},attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{align:"center"}},[r("v-card",{staticClass:"elevation-5 pa-5"},[r("img",{attrs:{src:a("05fc"),alt:"EICM-GDC",width:"250",height:"auto"}}),r("v-card-text",[r("h1",{staticClass:"display-2 primary--text"},[t._v("403")]),r("p",[t._v("Agradecemos a sua preferência e pedimos desculpas caso for falha do sistema, mas, por agora não tens permissão para acessar esta página")]),r("p",[r("small",[t._v("Reinicie a sua sessão, caso for engano, contacte o sdministrador")])])]),r("v-card-actions",[r("v-btn",{attrs:{outlined:"",large:"",text:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.onView("home_page")}}},[r("v-icon",{attrs:{"x-large":""}},[t._v("mdi-home")]),t._v("Página Principal ")],1)],1)],1)],1)],1)],1)},Th=[],$h={name:"FourOhThree",mixins:[L,U],props:{lang:{type:String,default:"en"}},created:function(){this.$ssrContext&&this.$ssrContext.res.status(403)}},Sh=$h,Uh=Object(l["a"])(Sh,Mh,Th,!1,null,null,null),Lh=Uh.exports;W()(Uh,{VBtn:X["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCol:tt["a"],VContainer:xt["a"],VIcon:st["a"],VRow:ft["a"]});var Oh=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticStyle:{height:"calc(100vh - 58px)"},attrs:{"fill-height":""}},[r("v-layout",{attrs:{"align-center":""}},[r("v-flex",{attrs:{"text-center":""}},[r("img",{attrs:{src:a("05fc"),alt:"EICM-GDC",width:"auto",height:"180"}}),r("h1",{staticClass:"display-2 primary--text"},[t._v("Upsss, 404")]),r("p",[t._v("A página indicada não foi encontrado, certifica-te do enderço inserido")]),r("v-btn",{attrs:{to:"/",outlined:"",color:"primary"}},[t._v("Ir para a Página inicial")])],1)],1)],1)},Rh=[],Ih={name:"FourOhFour",props:{lang:{type:String,default:"en"}},created:function(){this.$ssrContext&&this.$ssrContext.res.status(404)}},jh=Ih,qh=Object(l["a"])(jh,Oh,Rh,!1,null,null,null),Nh=qh.exports;W()(qh,{VBtn:X["a"],VContainer:xt["a"],VFlex:_a["a"],VLayout:Ja["a"]});var Fh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" Pagina de teste, depois tem de ser apagada ")])},Gh=[],zh={},Bh=Object(l["a"])(zh,Fh,Gh,!1,null,null,null),Hh=Bh.exports,Yh=[{path:"/",component:Gt,children:[{path:"/",component:da,name:"home_page"},{path:"/autenticar",component:ba,name:"login_page"},{path:"/registar",component:Va,name:"register_page"},{path:"/perfil/:slug",component:Ba,name:"front_perfil",meta:{requiresAuth:!0}},{path:"/eicm-gdc",component:es,children:[{path:"/historia",name:"eicm_histories",component:cs},{path:"/missao",component:Za,name:"eicm_missions"},{path:"/equipe",component:fs,name:"eicm_equipe"}]},{path:"/estudantes/quadros",component:xs,name:"quadros"},{path:"/cursos",component:ws,children:[{path:"/",name:"actived_courses",component:Gs},{path:":slug",name:"course_info",component:eo}]},{path:"/blog",component:rr,children:[{path:"/",name:"published_articles",component:yr},{path:"ler/:slug",name:"read_article",component:Sr},{path:"categoria/:slug",name:"article_categories",component:jr},{path:"autor/:slug",name:"articles_by_user",component:zr},{path:"marcador/:slug",name:"articles_by_tag",component:Jr}]},{path:"/403",name:"error_403",component:Lh},{path:"/teste",component:Hh,name:"teste"}]},{path:"/admin",component:Qt,meta:{requiresAuth:!0},children:[{path:"/",name:"admin_page",component:io},{path:"/perfil/:slug",component:Eh,name:"back_perfil"},{path:"users",component:mo,children:[{path:"/",name:"list_users",component:Ko},{path:"add",name:"add_user",component:Eo},{path:"edit/:username",name:"update_user",component:No},{path:"info/:username",name:"view_user",component:Lo}]},{path:"access",name:"access_role",component:Wi},{path:"articles",component:tn,children:[{path:"/",name:"list_articles",component:nn},{path:"add",name:"add_article",component:xn},{path:"editar/:slug",name:"update_article",component:$n},{path:"ver/:slug",name:"view_article",component:kn}]},{path:"tags",name:"list_tags",component:ll},{path:"categories",name:"list_categories",component:jl},{path:"escola",component:zl,children:[{path:"/",name:"list_schools",component:Jl},{path:"add",name:"add_school",component:pc},{path:"editar/:slug",name:"update_school",component:Cc},{path:"ver/:slug",name:"view_school",component:gc}]},{path:"schools_geral_settings",name:"schools_geral_settings",component:Ed},{path:"histories",name:"list_histories",component:Cd},{path:"histories_marks",name:"list_marks",component:Ld},{path:"murals",name:"list_murals",component:uu},{path:"guidelines",name:"list_guidelines",component:Nu},{path:"employees",name:"list_employees",component:Em},{path:"teachers",name:"list_teachers",component:op},{path:"charges",name:"list_charges",component:Ap},{path:"courses",component:Pp,children:[{path:"/",name:"list_courses",component:Up},{path:"add",name:"add_course",component:iv},{path:"editar/:slug",name:"update_course",component:gv},{path:"ver/:slug",name:"view_course",component:mv}]},{path:"outcomes",name:"list_outcomes",component:Ov},{path:"disciplines",name:"list_disciplines",component:pf},{path:"departments",name:"list_departments",component:Gf},{path:"sliders",component:Kf,children:[{path:"/",name:"list_sliders",component:th},{path:"add",name:"add_slider",component:mh},{path:"editar/:slug",name:"update_slider",component:Ah},{path:"ver/:slug",name:"view_slider",component:_h}]}]},{path:"*",name:"error_404",component:Nh}];r["a"].use(w["a"]);var Kh=new w["a"]({mode:"history",base:"/",routes:Yh}),Wh=a("2f62"),Jh={state:{users:[]},getters:{users:function(t){return t.users}},mutations:{updateUsers:function(t,e){t.users=e}},actions:{getUsers:function(t){window.axios.get("users").then((function(e){t.commit("updateUsers",e.data.data)}))}}},Xh={state:{roles:[]},getters:{roles:function(t){return t.roles}},mutations:{updateRoles:function(t,e){t.roles=e}},actions:{getRoles:function(t){window.axios.get("roles").then((function(e){t.commit("updateRoles",e.data.data)}))}}},Zh={state:{permissions:[]},getters:{permissions:function(t){return t.permissions}},mutations:{updatePermissions:function(t,e){t.permissions=e}},actions:{getPermissions:function(t){window.axios.get("permissions").then((function(e){t.commit("updatePermissions",e.data.data)}))}}},Qh=(a("4de4"),{state:{articles:[],published_articles:[]},getters:{articles:function(t){return t.articles},article:function(t){return function(e){return t.articles.find((function(t){return t.slug===e}))}},published_articles:function(t){return t.published_articles},published_article:function(t){return function(e){return t.published_articles.find((function(t){return t.slug===e}))}},featured_articles:function(t){return t.published_articles.filter((function(t){return 1==t.featuring}))},articles_by_category:function(t){return function(e){return t.published_articles.filter((function(t){return t.category.slug==e}))}},articles_by_tag:function(t){return function(e){return t.published_articles.filter((function(t){return t.tags.filter((function(t){return t.slug==e}))}))}}},mutations:{updateArticles:function(t,e){t.articles=e},updatePublishedArticles:function(t,e){t.published_articles=e}},actions:{getArticles:function(t){window.axios.get("articles").then((function(e){t.commit("updateArticles",e.data.data)}))},getPublishedArticles:function(t){window.axios.get("publishedArticles").then((function(e){t.commit("updatePublishedArticles",e.data.data)}))}}}),t_={state:{tags:[],articles_by_tags:[]},getters:{tags:function(t){return t.tags},tag:function(t){return function(e){return t.categories.find((function(t){return t.slug===e}))}},articles_by_tags:function(t){return t.articles_by_tags},article_tag:function(t){return function(e){return t.articles_by_tags.find((function(t){return t.slug===e}))}}},mutations:{updateTags:function(t,e){t.tags=e},updateArticlesByTags:function(t,e){t.articles_by_tags=e}},actions:{getTags:function(t){window.axios.get("tags").then((function(e){t.commit("updateTags",e.data.data)}))},getArticlesByTags:function(t){window.axios.get("articlesByTags").then((function(e){t.commit("updateArticlesByTags",e.data.data)}))}}},e_={state:{categories:[],articles_by_categories:[]},getters:{categories:function(t){return t.categories},category:function(t){return function(e){return t.categories.find((function(t){return t.slug===e}))}},articles_by_categories:function(t){return t.articles_by_categories},article_category:function(t){return function(e){return t.articles_by_categories.find((function(t){return t.slug===e}))}}},mutations:{updateCategories:function(t,e){t.categories=e},updateArticlesByCategories:function(t,e){t.articles_by_categories=e}},actions:{getCategories:function(t){window.axios.get("categories").then((function(e){t.commit("updateCategories",e.data.data)}))},getArticlesByCategories:function(t){window.axios.get("articlesByCategories").then((function(e){t.commit("updateArticlesByCategories",e.data.data)}))}}},a_={state:{medias:[]},getters:{medias:function(t){return t.medias}},mutations:{updateMedias:function(t,e){t.medias=e}},actions:{getMedias:function(t){window.axios.get("medias").then((function(e){t.commit("updateMedias",e.data.data)}))}}},r_={state:{schools:[]},getters:{schools:function(t){return t.schools},school:function(t){return function(e){return t.schools.find((function(t){return t.slug===e}))}}},mutations:{updateSchools:function(t,e){t.schools=e}},actions:{getSchools:function(t){window.axios.get("schools").then((function(e){t.commit("updateSchools",e.data.data)}))}}},s_={state:{histories:[]},getters:{histories:function(t){return t.histories},history:function(t){return function(e){return t.histories.find((function(t){return t.id===e}))}}},mutations:{updateHistories:function(t,e){t.histories=e}},actions:{getHistories:function(t){window.axios.get("histories").then((function(e){t.commit("updateHistories",e.data.data)}))}}},o_={state:{marks:[]},getters:{marks:function(t){return t.marks},mark:function(t){return function(e){return t.marks.find((function(t){return t.id===e}))}}},mutations:{updateMarks:function(t,e){t.marks=e}},actions:{getMarks:function(t){window.axios.get("marks").then((function(e){t.commit("updateMarks",e.data.data)}))}}},i_={state:{guidelines:[]},getters:{guidelines:function(t){return t.guidelines},guideline:function(t){return function(e){return t.guidelines.find((function(t){return t.id===e}))}}},mutations:{updateGuidelines:function(t,e){t.guidelines=e}},actions:{getGuidelines:function(t){window.axios.get("guidelines").then((function(e){t.commit("updateGuidelines",e.data.data)}))}}},n_={state:{murals:[]},getters:{murals:function(t){return t.murals},mural:function(t){return function(e){return t.murals.find((function(t){return t.id===e}))}}},mutations:{updateMurals:function(t,e){t.murals=e}},actions:{getMurals:function(t){window.axios.get("murals").then((function(e){t.commit("updateMurals",e.data.data)}))}}},l_={state:{courses:[],actived_courses:[],featured_courses:[]},getters:{courses:function(t){return t.courses},course:function(t){return function(e){return t.courses.find((function(t){return t.slug===e}))}},actived_courses:function(t){return t.actived_courses},actived_course:function(t){return function(e){return t.actived_courses.find((function(t){return t.slug===e}))}},featured_courses:function(t){return t.actived_courses.filter((function(t){return 1==t.featured}))},cursos_via_tecnica:function(t){return t.actived_courses.filter((function(t){return 1==t.type}))}},mutations:{updateCourses:function(t,e){t.courses=e},updateActivedCourses:function(t,e){t.actived_courses=e}},actions:{getCourses:function(t){window.axios.get("courses").then((function(e){t.commit("updateCourses",e.data.data)}))},getActivedCourses:function(t){window.axios.get("activedCourses").then((function(e){t.commit("updateActivedCourses",e.data.data)}))}}},c_={state:{departments:[]},getters:{departments:function(t){return t.departments},department:function(t){return function(e){return t.departments.find((function(t){return t.id===e}))}}},mutations:{updateDepartments:function(t,e){t.departments=e}},actions:{getDepartments:function(t){window.axios.get("departments").then((function(e){t.commit("updateDepartments",e.data.data)}))}}},d_={state:{disciplines:[]},getters:{disciplines:function(t){return t.disciplines},discipline:function(t){return function(e){return t.disciplines.find((function(t){return t.id===e}))}}},mutations:{updateDisciplines:function(t,e){t.disciplines=e}},actions:{getDisciplines:function(t){window.axios.get("disciplines").then((function(e){t.commit("updateDisciplines",e.data.data)}))}}},u_={state:{outcomes:[]},getters:{outcomes:function(t){return t.outcomes},outcome:function(t){return function(e){return t.outcomes.find((function(t){return t.id===e}))}}},mutations:{updateOutcomes:function(t,e){t.outcomes=e}},actions:{getOutcomes:function(t){window.axios.get("outcomes").then((function(e){t.commit("updateOutcomes",e.data.data)}))}}},m_={state:{sliders:[],actived_sliders:[]},getters:{sliders:function(t){return t.sliders},slider:function(t){return function(e){return t.sliders.find((function(t){return t.slug===e}))}},actived_sliders:function(t){return t.actived_sliders},actived_slider:function(t){return function(e){return t.actived_sliders.find((function(t){return t.slug===e}))}}},mutations:{updateSliders:function(t,e){t.sliders=e},updateActivedSliders:function(t,e){t.actived_sliders=e}},actions:{getSliders:function(t){window.axios.get("sliders").then((function(e){t.commit("updateSliders",e.data.data)}))},getActivedSliders:function(t){window.axios.get("activedSliders").then((function(e){t.commit("updateActivedSliders",e.data.data)}))}}},p_={state:{teachers:[],actived_teachers:[]},getters:{teachers:function(t){return t.teachers},teacher:function(t){return function(e){return t.teachers.find((function(t){return t.slug===e}))}},actived_teachers:function(t){return t.actived_teachers},actived_teacher:function(t){return function(e){return t.actived_teachere.find((function(t){return t.slug===e}))}}},mutations:{updateTeachers:function(t,e){t.teachers=e},updateActivedTeachers:function(t,e){t.actived_teachers=e}},actions:{getTeachers:function(t){window.axios.get("teachers").then((function(e){t.commit("updateTeachers",e.data.data)}))},getActivedTeachers:function(t){window.axios.get("activedTeachers").then((function(e){t.commit("updateActivedTeachers",e.data.data)}))}}},v_={state:{employees:[],teams:[]},getters:{employees:function(t){return t.employees},teams:function(t){return t.teams},team:function(t){return function(e){return t.employees.find((function(t){return t.id===e}))}},employee:function(t){return function(e){return t.employees.find((function(t){return t.id===e}))}},featured_employees:function(t){return t.teams.filter((function(t){return 1==t.featured}))}},mutations:{updateEmployees:function(t,e){t.employees=e},updateTeams:function(t,e){t.teams=e}},actions:{getEmployees:function(t){window.axios.get("employees").then((function(e){t.commit("updateEmployees",e.data.data)}))},getTeams:function(t){window.axios.get("principalTeam").then((function(e){t.commit("updateTeams",e.data.data)}))}}},f_={state:{charges:[]},getters:{charges:function(t){return t.charges},charge:function(t){return function(e){return t.charges.find((function(t){return t.id===e}))}}},mutations:{updateCharges:function(t,e){t.charges=e}},actions:{getCharges:function(t){window.axios.get("charges").then((function(e){t.commit("updateCharges",e.data.data)}))}}},h_=va(),__={state:{authUser:h_,isLoggedIn:!!h_,loading:!1,auth_error:null},getters:{authUser:function(t){return t.authUser},isLoggedIn:function(t){return t.isLoggedIn},isLoading:function(t){return t.loading},authError:function(t){return t.auth_error}},mutations:{login:function(t){t.loading=!0,t.auth_error=null},loginSuccess:function(t,e){t.loading=!1,t.auth_error=null,t.isLoggedIn=!0,t.authUser=Object.assign({},e.user,{token:e.token}),localStorage.setItem("user",JSON.stringify(t.authUser))},loginFailed:function(t,e){t.loading=!1,t.auth_error=e.error},logout:function(t){localStorage.removeItem("user"),t.isLoggedIn=!1,t.authUser=null}},actions:{login:function(t){t.commit("login")}}};r["a"].use(Wh["a"]);var g_=new Wh["a"].Store({strict:!1,modules:{users:Jh,roles:Xh,permissions:Zh,articles:Qh,tags:t_,categories:e_,medias:a_,schools:r_,histories:s_,marks:o_,guidelines:i_,murals:n_,courses:l_,departments:c_,disciplines:d_,outcomes:u_,teachers:p_,employees:v_,charges:f_,sliders:m_,auth:__}});a("45fc");function b_(t,e){e.beforeEach((function(e,a,r){var s=t.state.auth.authUser,o=e.matched.some((function(t){return t.meta.requiresAuth}));window.axios.defaults.headers.common={Authorization:"Bearer ".concat(s?s.token:""),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-CSRF-TOKEN":window.csrf_token,"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS","Access-Control-Allow-Origin":"*"},o&&!s?r({name:"login_page"}):"/autenticar"==e.path&&s?r("/"):r()})),window.axios.interceptors.response.use(null,(function(a){return 401==a.response.status&&(t.commit("logout"),e.push("/autenticar")),403==a.response.status&&e.push("/403"),Promise.reject(a)}))}a("c975");var x_={data:function(){return{authUserPermissions:[],authUserRoles:[]}},computed:{authUser:function(){return g_.state.auth.authUser}},created:function(){this.setUserPermissions(),this.setUserRoles(),this.setUserPermissionsByRoles()},methods:{setUserPermissions:function(){var t=this;this.authUser&&this.authUser.permissions.forEach((function(e){t.authUserPermissions.push(e.name)}))},setUserPermissionsByRoles:function(){var t=this;this.authUser&&this.authUser.roles&&this.authUser.roles.forEach((function(e){e.permissions&&e.permissions.forEach((function(e){-1===t.authUserPermissions.indexOf(e.name)&&t.authUserPermissions.push(e.name)}))}))},setUserRoles:function(){var t=this;this.authUser&&this.authUser.roles.forEach((function(e){t.authUserRoles.push(e.name)}))},setUserRolesByPermissions:function(){var t=this;this.authUser&&this.authUser.permissions&&this.authUser.permissions.forEach((function(e){e.roles&&e.roles.forEach((function(e){-1===t.authUserRoles.indexOf(e.name)&&t.authUserRoles.push(e.name)}))}))},canManage:function(){return-1!==this.authUserPermissions.indexOf("Gerir")},canManageSchool:function(){return-1!==this.authUserPermissions.indexOf("Gerir Escola")},_can:function(t){return!(!this.canManage()&&!this.isAdmin())||-1!==this.authUserPermissions.indexOf(t)},canAdd:function(){return this._can("Adicionar")},canEdit:function(){return this._can("Editar")},canRemove:function(){return this._can("Eliminar")},canActive:function(){return this._can("Ativar")},canPublish:function(){return this._can("Publicar")},isAdmin:function(){return-1!==this.authUserRoles.indexOf("Administrador")},_is:function(t){return!!this.isAdmin()||-1!==this.authUserRoles.indexOf(t)},isDirector:function(){return this._is("Gestor")},isManager:function(){return this._is("Gestor de Artigo")},isPostManager:function(){return this._is("Gestor de Artigo")},isCoordinator:function(){return this._is("Coordenador")}}};a("dfa4");a("c6e4"),r["a"].config.productionTip=!1,D.a.init(),r["a"].use(f.a),r["a"].use(_["a"]),r["a"].use(h["a"],{confirmButtonColor:"#40953E",cancelButtonColor:"#953E40"}),r["a"].component("tinymce",g["a"]),r["a"].use(x.a),r["a"].use(p["b"]),p["a"].localize("pt",m.a),r["a"].mixin({data:function(){return{apiUrl:"http://45.32.146.227"}},computed:{authUser:function(){return this.$store.getters.authUser}}}),r["a"].mixin(x_),b_(g_,Kh),new r["a"]({vuetify:C,router:Kh,store:g_,render:function(t){return t(d)}}).$mount("#app")},"587e":function(t,e,a){"use strict";var r=a("9ce7"),s=a.n(r);s.a},"5d11":function(t,e,a){},"651e":function(t,e,a){"use strict";var r=a("68ba"),s=a.n(r);s.a},6525:function(t,e,a){"use strict";var r=a("d693"),s=a.n(r);s.a},"65ba":function(t,e,a){},"67a4":function(t,e,a){},"68ba":function(t,e,a){},"69b6":function(t,e,a){},"6e87":function(t,e,a){"use strict";var r=a("a635"),s=a.n(r);s.a},7172:function(t,e,a){},7991:function(t,e,a){"use strict";var r=a("c45d"),s=a.n(r);s.a},"79d2":function(t,e,a){"use strict";var r=a("14c0"),s=a.n(r);s.a},"7df4":function(t,e,a){},"807d":function(t,e,a){},"82a2":function(t,e,a){},"86f3":function(t,e,a){"use strict";var r=a("efb0"),s=a.n(r);s.a},"87cb":function(t,e,a){},"87f6":function(t,e,a){},"896f":function(t,e,a){"use strict";var r=a("170b"),s=a.n(r);s.a},9286:function(t,e,a){},"9c62":function(t,e,a){"use strict";var r=a("69b6"),s=a.n(r);s.a},"9ce7":function(t,e,a){},a14d:function(t,e,a){"use strict";var r=a("87cb"),s=a.n(r);s.a},a635:function(t,e,a){},ab99:function(t,e,a){"use strict";var r=a("c393"),s=a.n(r);s.a},b219:function(t,e,a){"use strict";var r=a("9286"),s=a.n(r);s.a},b49d:function(t,e,a){"use strict";var r=a("d4a3"),s=a.n(r);s.a},b6cb:function(t,e,a){"use strict";var r=a("5d11"),s=a.n(r);s.a},b9d8:function(t,e,a){"use strict";var r=a("87f6"),s=a.n(r);s.a},c375:function(t,e,a){"use strict";var r=a("d374"),s=a.n(r);s.a},c393:function(t,e,a){},c45d:function(t,e,a){},c6e4:function(t,e,a){window.axios=a("bc3a"),window.moment=a("c1df"),window.moment.locale("pt-br"),window.axios.defaults.headers.common={},window.axios.defaults.baseURL="http://45.32.146.227/api/w1/"},c766:function(t,e,a){"use strict";var r=a("1675"),s=a.n(r);s.a},ce45:function(t,e,a){"use strict";var r=a("7172"),s=a.n(r);s.a},d0f3:function(t,e,a){},d374:function(t,e,a){},d4a3:function(t,e,a){},d693:function(t,e,a){},d88f:function(t,e,a){t.exports=a.p+"img/perfil_cover.0aa94779.gif"},de50:function(t,e,a){"use strict";var r=a("51de"),s=a.n(r);s.a},ded3:function(t,e,a){"use strict";var r=a("82a2"),s=a.n(r);s.a},e5a1:function(t,e,a){"use strict";var r=a("e97e"),s=a.n(r);s.a},e8e0:function(t,e,a){t.exports=a.p+"img/tiny_logo.6af62d10.svg"},e97e:function(t,e,a){},ef87:function(t,e,a){},efb0:function(t,e,a){},f0b7:function(t,e,a){"use strict";var r=a("0a0c"),s=a.n(r);s.a},f0bb:function(t,e,a){"use strict";var r=a("1245"),s=a.n(r);s.a},fe2e:function(t,e,a){}});
//# sourceMappingURL=app.aad77d2d.js.map